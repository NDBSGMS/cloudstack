(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8eb9f16e"],{9120:function(t,e,i){"use strict";var a=i("9c47"),n=i.n(a);n.a},"9b3a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=this,i=e.$createElement,a=e._self._c||i;return a("div",[a("a-row",{attrs:{gutter:12}},[a("a-col",{attrs:{md:24,lg:24}},[e.quickview?e._e():a("a-table",{attrs:{size:"small",loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowKey:function(t){return t.id},pagination:!1},scopedSlots:e._u([{key:"action",fn:function(t,i){return a("span",{staticClass:"cert-button-action"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$t("label.quickview"))+" ")]),a("a-button",{attrs:{type:"primary",shape:"circle",icon:"eye",size:"small"},on:{click:function(t){return e.onQuickView(i.id)}}})],2),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$t("label.delete.sslcertificate"))+" ")]),a("a-button",{attrs:{disabled:!("deleteSslCert"in e.$store.getters.apis),type:"danger",shape:"circle",icon:"delete",size:"small"},on:{click:function(t){return e.onShowConfirm(i)}}})],2)],1)}}],null,!1,3870302320)}),e.quickview?a("a-list",{attrs:{size:"small",dataSource:e.detailColumn},scopedSlots:e._u([{key:"renderItem",fn:function(t){return t in e.detail?a("a-list-item",{},[a("div",[a("strong",[e._v(e._s(e.$t(t)))]),a("br"),a("div",{staticClass:"list-item-content"},[e._v(" "+e._s(e.detail[t])+" ")])])]):e._e()}}],null,!0)},[a("div",{staticClass:"close-quickview"},[a("a-button",{on:{click:function(){t.quickview=!1}}},[e._v(e._s(e.$t("label.close")))])],1)]):e._e()],1)],1)],1)},n=[],c=(i("99af"),i("4de4"),i("b0c0"),i("b64b"),i("d3b7"),i("365c")),s={name:"SSLCertificate",data:function(){return{columns:[],dataSource:[],selectedRowKeys:[],detailColumn:[],detail:[],page:1,pageSize:10,quickview:!1,loading:!1}},props:{resource:{type:Object,default:function(){return{}}},tab:{type:String,default:function(){return""}}},watch:{tab:function(t,e){"certificate"===t&&(this.quickview=!1,this.fetchData())},resource:function(t,e){Object.keys(t).length>0&&t.id&&"certificate"===this.tab&&(this.quickview=!1,this.fetchData())}},created:function(){this.columns=[{title:this.$t("label.name"),dataIndex:"name",scopedSlots:{customRender:"name"}},{title:this.$t("label.certificateid"),dataIndex:"id",width:450,scopedSlots:{customRender:"id"}},{title:this.$t("label.action"),dataIndex:"action",fixed:"right",width:80,scopedSlots:{customRender:"action"}}],this.detailColumn=["name","certificate","certchain"]},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e={listAll:!0};e.page=this.page,e.pageSize=this.pageSize,e.accountid=this.resource.id,this.loading=!0,Object(c["a"])("listSslCerts",e).then((function(e){var i=e.listsslcertsresponse.sslcert;i&&0!==Object.keys(i).length?t.dataSource=i:t.dataSource=[]})).catch((function(e){t.$notifyError(e)})).finally((function(){t.loading=!1}))},onQuickView:function(t){this.loading=!0;var e=this.dataSource.filter((function(e){return e.id===t}));this.detail=e[0],this.quickview=!0,this.loading=!1},onDelete:function(t){var e=this,i={};i.id=t.id;var a="".concat(this.$t("label.delete.certificate")," ").concat(this.$t("label.in.progress.for")," ").concat(t.name),n=this.$message.loading(a,0);Object(c["a"])("deleteSslCert",i).then((function(t){var i=t.deletesslcertresponse;setTimeout(n),i.success?(e.$message.success(e.$t("message.success.delete"),3),e.fetchData()):e.$message.error(e.$t("message.delete.failed"),3)})).catch((function(t){setTimeout(n),e.$notifyError(t)}))},onShowConfirm:function(t){var e=this,i="".concat(this.$t("label.deleteconfirm")," ").concat(this.$t("label.certificate"));this.$confirm({title:i,okText:this.$t("label.ok"),okType:"danger",cancelText:this.$t("label.cancel"),onOk:function(){e.onDelete(t)}})}}},o=s,l=(i("9120"),i("2877")),r=Object(l["a"])(o,a,n,!1,null,"f1c5c5ba",null);e["default"]=r.exports},"9c47":function(t,e,i){}}]);
//# sourceMappingURL=chunk-8eb9f16e.9e9be41d.js.map