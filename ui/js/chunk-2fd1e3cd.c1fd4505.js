(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fd1e3cd"],{"525b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-spin",{attrs:{spinning:e.fetchLoading}},[i("a-tabs",{attrs:{tabPosition:"mobile"===e.device?"top":"left",animated:!1},on:{change:e.onTabChange}},e._l(e.hardcodedNsps,(function(t){return i("a-tab-pane",{key:t.title},[i("span",{attrs:{slot:"tab"},slot:"tab"},[e._v(" "+e._s(e.$t(t.title))+" "),i("status",{staticStyle:{"margin-bottom":"6px","margin-left":"6px"},attrs:{text:t.title in e.nsps?e.nsps[t.title].state:e.$t("label.disabled")}})],1),e.tabKey===t.title?i("provider-item",{attrs:{loading:e.loading,itemNsp:t,nsp:e.nsps[t.title],resourceId:e.resource.id,zoneId:e.resource.zoneid}}):e._e()],1)})),1)],1),e.showFormAction?i("div",[e.currentAction.component?i("keep-alive",[i("a-modal",{staticStyle:{top:"20px"},attrs:{title:e.$t(e.currentAction.label),visible:e.showFormAction,closable:!0,maskClosable:!1,cancelText:e.$t("label.cancel"),confirmLoading:e.actionLoading,footer:null,centered:""},on:{cancel:e.onCloseAction}},[i(e.currentAction.component,{tag:"component",attrs:{resource:e.nsp,action:e.currentAction}})],1)],1):i("a-modal",{staticStyle:{top:"20px"},attrs:{title:e.$t(e.currentAction.label),visible:e.showFormAction,confirmLoading:e.actionLoading,maskClosable:!1,okText:e.$t("label.ok"),cancelText:e.$t("label.cancel"),centered:""},on:{ok:e.handleSubmit,cancel:e.onCloseAction}},[i("a-form",{attrs:{form:e.form,layout:"vertical"}},e._l(e.currentAction.fieldParams,(function(t,n){return i("a-form-item",{key:n,attrs:{label:e.$t("label."+t.name)}},["password"===t.name?i("span",[i("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.required.input")}]}],expression:"[field.name, {\n                rules: [\n                  {\n                    required: field.required,\n                    message: $t('message.error.required.input')\n                  }\n                ]\n              }]"}],attrs:{placeholder:t.description}})],1):"boolean"===t.type?i("span",[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.required.input")}]}],expression:"[field.name, {\n                rules: [{\n                  required: field.required,\n                  message: $t('message.error.required.input')\n                }]\n              }]"}],attrs:{placeholder:t.description}})],1):"uuid"===t.type?i("span",[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.select")}]}],expression:"[field.name, {\n                rules: [{\n                  required: field.required,\n                  message: $t('message.error.select')\n                }]\n              }]"}],attrs:{loading:t.loading,placeholder:t.description}},e._l(t.opts,(function(t,n){return i("a-select-option",{key:n},[e._v(e._s(t.name||t.description))])})),1)],1):i("span",[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.required.input")}]}],expression:"[field.name, {\n                rules: [\n                  {\n                    required: field.required,\n                    message: $t('message.error.required.input')\n                  }\n                ]\n              }]"}],attrs:{placeholder:t.description}})],1)])})),1)],1)],1):e._e()],1)},r=[],a=(i("a4d3"),i("e01a"),i("d28b"),i("4de4"),i("4160"),i("caad"),i("d81d"),i("13d5"),i("b0c0"),i("b64b"),i("d3b7"),i("ac1f"),i("2532"),i("3ca3"),i("5319"),i("2ca0"),i("159b"),i("ddb0"),i("f3f3")),s=(i("96cf"),i("c964")),o=i("4360"),c=i("365c"),l=i("ac0d"),d=i("829c"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-row",{attrs:{gutter:12}},[i("a-col",{staticStyle:{"text-align":"left"},attrs:{md:24,lg:24}},[i("action-button",{attrs:{actions:e.provider.actions,resource:e.resource,loading:e.loading},on:{"exec-action":e.handleExecAction}})],1)],1),i("provider-detail",{staticStyle:{"margin-top":"10px"},attrs:{details:e.provider.details,nsp:e.resource,loading:e.loading}}),e._l(e.listData,(function(t,n){return i("div",{key:n},[e.resource.id?i("provider-list-view",{staticStyle:{"border-top":"1px solid #ddd","padding-top":"5px"},attrs:{title:t.title,action:e.currentAction,dataSource:t.data,columns:t.columns,itemCount:t.itemCount,resource:e.resource,page:e.page,pageSize:e.pageSize,loading:e.loading||t.loading}}):e._e()],1)}))],2)},p=[],m=i("048e"),v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-list",{attrs:{size:"small",dataSource:e.details},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{},[i("div",[i("strong",[e._v(e._s(e.$t("label."+t)))]),i("br"),"servicelist"===t?i("div",[e._v(" "+e._s(e.nsp[t]?e.nsp[t].join(", "):"")+" ")]):"state"!==t?i("span",[e._v(e._s(e.nsp[t]?e.nsp[t]:""))]):i("span",[i("status",{attrs:{text:e.nsp[t]?e.nsp[t]:"Disabled",displayText:""}})],1)])])}}])})],1)},f=[],b={name:"ProviderDetail",components:{Status:d["a"]},props:{details:{type:Array,default:function(){return[]}},nsp:{type:Object,default:function(){}}}},h=b,g=i("2877"),w=Object(g["a"])(h,v,f,!1,null,"cee063e8",null),k=w.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("strong",[e._v(e._s(e.$t(e.title)))]),i("a-table",{staticClass:"row-list-data",staticStyle:{"margin-top":"10px"},attrs:{size:"small",loading:e.loading,columns:e.listCols,dataSource:e.dataSource,rowKey:function(e){return e.id||e.name||e.nvpdeviceid||e.resourceid},pagination:!1,scroll:e.scrollable},scopedSlots:e._u([{key:"name",fn:function(t,n){return["VIRTUAL_ROUTER"===n.role?i("span",[n.id?i("router-link",{attrs:{to:{path:"/router/"+n.id}}},[e._v(e._s(t))]):i("label",[e._v(e._s(t))])],1):i("span",[e._v(e._s(t))])]}},{key:"hostname",fn:function(t,n){return["VIRTUAL_ROUTER"===n.role?i("span",[n.hostid?i("router-link",{attrs:{to:{path:"/host/"+n.hostid}}},[e._v(e._s(t))]):i("label",[e._v(e._s(t))])],1):i("span",[e._v(e._s(t))])]}},{key:"zonename",fn:function(t,n){return["VIRTUAL_ROUTER"===n.role?i("span",[n.zoneid?i("router-link",{attrs:{to:{path:"/zone/"+n.zoneid}}},[e._v(e._s(t))]):i("label",[e._v(e._s(t))])],1):i("span",[e._v(e._s(t))])]}},{key:"action",fn:function(t,n){return[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},["BigSwitchBcf"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.bigswitchbcf")))]):"BrocadeVcs"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.brocadevcs")))]):"NiciraNvp"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.niciranvp")))]):"F5BigIp"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.f5")))]):"JuniperSRX"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.srx")))]):"Netscaler"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.netscaler")))]):"Opendaylight"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.opendaylight.device")))]):"PaloAlto"===e.resource.name?i("span",[e._v(e._s(e.$t("label.delete.pa")))]):"CiscoVnmc"===e.resource.name&&"listCiscoVnmcResources"===e.title?i("span",[e._v(" "+e._s(e.$t("label.delete.ciscovnmc.resource"))+" ")]):"CiscoVnmc"===e.resource.name&&"listCiscoAsa1000vResources"===e.title?i("span",[e._v(" "+e._s(e.$t("label.delete.ciscoasa1000v"))+" ")]):e._e()]),"Ovs"===e.resource.name?i("a-button",{attrs:{type:"default",shape:"circle",icon:"setting",size:"small",loading:e.actionLoading},on:{click:function(t){return e.onConfigureOvs(n)}}}):i("a-button",{attrs:{type:"danger",shape:"circle",icon:"close",size:"small",loading:e.actionLoading},on:{click:function(t){return e.onDelete(n)}}})],2)]}},{key:"lbdevicestate",fn:function(e){return[i("status",{attrs:{text:e||"",displayText:""}})]}},{key:"status",fn:function(e){return[i("status",{attrs:{text:e||"",displayText:""}})]}},{key:"state",fn:function(e){return[i("status",{attrs:{text:e||"",displayText:""}})]}}])}),i("a-pagination",{staticClass:"row-pagination",attrs:{size:"small",current:e.page,pageSize:e.pageSize,total:e.itemCount,showTotal:function(t){return e.$t("label.total")+" "+t+" "+e.$t("label.items")},pageSizeOptions:["10","20","40","80","100"],showSizeChanger:"",showQuickJumper:""},on:{change:e.changePage,showSizeChange:e.changePageSize},scopedSlots:e._u([{key:"buildOptionText",fn:function(t){return[i("span",[e._v(e._s(t.value)+" / "+e._s(e.$t("label.page")))])]}}])})],1)},x=[],S=(i("a9e3"),{name:"ProviderListView",components:{Status:d["a"]},props:{title:{type:String,required:!0},columns:{type:Array,required:!0},dataSource:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},page:{type:Number,default:function(){return 1}},pageSize:{type:Number,default:function(){return 10}},itemCount:{type:Number,default:function(){return 0}},resource:{type:Object,default:function(){}},action:{type:Object,default:function(){}}},data:function(){return{actionLoading:!1}},computed:{scrollable:function(){return 0===this.dataSource.length?{y:"60vh",x:"auto"}:this.columns.length>3?{y:"60vh",x:"50vw"}:{y:"60vh"}},listCols:function(){var e=this,t=[];return this.columns.forEach((function(i){"hostname"===i.dataIndex&&"BigSwitchBcf"===e.resource.name&&(i.title=e.$t("label.bigswitch.controller.address")),"hostname"===i.dataIndex&&"BrocadeVcs"===e.resource.name&&(i.title=e.$t("label.brocade.vcs.address")),t.push(i)})),t}},inject:["providerChangePage","provideReload","parentPollActionCompletion"],methods:{changePage:function(e,t){this.providerChangePage(this.title,e,t)},changePageSize:function(e,t){this.providerChangePage(this.title,e,t)},onDelete:function(e){var t,i,n,r,a=this,o={};switch(this.resource.name){case"BigSwitchBcf":n="label.delete.bigswitchbcf",r=e.hostname,t="deleteBigSwitchBcfDevice",i="message.confirm.delete.bigswitchbcf",o.bcfdeviceid=e.bcfdeviceid;break;case"F5BigIp":n="label.delete.f5",r=e.ipaddress,t="deleteF5LoadBalancer",i="message.confirm.delete.f5",o.lbdeviceid=e.lbdeviceid;break;case"NiciraNvp":n="label.delete.niciranvp",r=e.hostname,t="deleteNiciraNvpDevice",i="message.confirm.delete.niciranvp",o.nvpdeviceid=e.nvpdeviceid;break;case"BrocadeVcs":n="label.delete.brocadevcs",r=e.hostname,t="deleteBrocadeVcsDevice",i="message.confirm.delete.brocadevcs",o.vcsdeviceid=e.vcsdeviceid;break;case"JuniperSRX":n="label.delete.srx",r=e.ipaddress,t="deleteSrxFirewall",i="message.confirm.delete.srx",o.fwdeviceid=e.fwdeviceid;break;case"Netscaler":n="label.delete.netscaler",r=e.ipaddress,t="deleteNetscalerLoadBalancer",i="message.confirm.delete.netscaler",o.lbdeviceid=e.lbdeviceid;break;case"Opendaylight":n="label.delete.opendaylight.device",r=e.name,t="deleteOpenDaylightController",i="message.confirm.delete.Opendaylight",o.id=e.id;break;case"PaloAlto":n="label.delete.PA",r=e.ipaddress,t="deletePaloAltoFirewall",i="message.confirm.delete.pa",o.fwdeviceid=e.fwdeviceid;break;case"CiscoVnmc":"listCiscoVnmcResources"===this.title?(n="label.delete.ciscovnmc.resource",t="deleteCiscoVnmcResource",i="message.confirm.delete.ciscovnmc.resource"):(n="label.delete.ciscoasa1000v",t="deleteCiscoAsa1000vResource",i="message.confirm.delete.ciscoasa1000v"),r=e.hostname,o.resourceid=e.resourceid;break;default:break}this.$confirm({title:this.$t("label.confirmation"),content:this.$t(i),onOk:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return a.actionLoading=!0,e.prev=2,e.next=5,a.executeDeleteRecord(t,o);case 5:i=e.sent,i?(a.$store.dispatch("AddAsyncJob",{title:a.$t(n),jobid:i,description:a.$t(r),status:"progress"}),a.parentPollActionCompletion(i,a.action)):(a.$success("Success"),a.provideReload()),a.actionLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),a.actionLoading=!1,a.$notification.error({message:a.$t("message.request.failed"),description:e.t0.response&&e.t0.response.headers&&e.t0.response.headers["x-description"]||e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function i(){return e.apply(this,arguments)}return i}()})},onConfigureOvs:function(e){var t=this,i={};i.id=e.id,i.enabled=!0,this.$confirm({title:this.$t("label.confirmation"),content:this.$t("message.confirm.configure.ovs"),onOk:function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.actionLoading=!0,n.prev=1,n.next=4,t.configureOvsElement(i);case 4:r=n.sent,r?(t.$store.dispatch("AddAsyncJob",{title:t.$t("label.configure.ovs"),jobid:r,description:t.$t(e.id),status:"progress"}),t.parentPollActionCompletion(r,t.action)):(t.$success("Success"),t.provideReload()),t.actionLoading=!1,n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),t.actionLoading=!1,t.$notification.error({message:t.$t("message.request.failed"),description:n.t0.response&&n.t0.response.headers&&n.t0.response.headers["x-description"]||n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));function r(){return n.apply(this,arguments)}return r}()})},executeDeleteRecord:function(e,t){return new Promise((function(i,n){var r=null;Object(c["a"])(e,t).then((function(e){for(var t in e)if(t.includes("response")){for(var n in e[t])if("jobid"===n){r=e[t][n];break}break}i(r)})).catch((function(e){n(e)}))}))},configureOvsElement:function(e){return new Promise((function(t,i){Object(c["a"])("configureOvsElement",e).then((function(e){var i=e.configureovselementresponse.jobid;t(i)})).catch((function(e){i(e)}))}))}}}),P=S,A=(i("bf56"),Object(g["a"])(P,y,x,!1,null,"3f49cdb1",null)),N=A.exports,V={name:"ProviderItem",components:{ActionButton:m["a"],ProviderDetail:k,ProviderListView:N},props:{itemNsp:{type:Object,required:!0},nsp:{type:Object,default:function(){}},resourceId:{type:String,default:function(){return""}},zoneId:{type:String,default:function(){return""}},loading:{type:Boolean,default:!1}},data:function(){return{provider:{},listData:{},resource:{},currentAction:{},page:1,pageSize:10,itemCount:0}},provide:function(){return{providerChangePage:this.changePage}},inject:["provideSetNsp","provideExecuteAction"],watch:{loading:function(e,t){e===t||e||this.fetchData()},nsp:function(e,t){e&&Object.keys(e).length>0&&(this.nsp=e,this.resource=this.nsp,this.$set(this.resource,"zoneid",this.zoneId),this.provideSetNsp(this.resource),this.fetchData())}},mounted:function(){this.nsp&&0!==Object.keys(this.nsp).length?(this.resource=this.nsp,this.$set(this.resource,"zoneid",this.zoneId)):this.resource={name:this.itemNsp.title,state:"Disabled",physicalnetworkid:this.resourceId,zoneid:this.zoneId},this.itemNsp&&Object.keys(this.itemNsp).length>0&&(this.provider=this.itemNsp,this.provideSetNsp(this.resource),this.fetchData())},methods:{fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.provider.lists&&0!==e.provider.lists.length){t.next=2;break}return t.abrupt("return");case 2:e.provider.lists.map(e.fetchOptions);case 3:case"end":return t.stop()}}),t)})))()},fetchOptions:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,r,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&0!==Object.keys(e).length){i.next=2;break}return i.abrupt("return");case 2:return n={},e.mapping&&Object.keys(e.mapping).map((function(i){n[i]="value"in e.mapping[i]?e.mapping[i].value(t.resource):null})),n.page=t.page,n.pageSize=t.pageSize,r=e.columns.length,e.columns.includes("action")&&r--,a=e.columns.map((function(e){if("action"===e)return{title:t.$t("label."+e),dataIndex:e,width:80,fixed:"right",scopedSlots:{customRender:e}};var i=100/r+"%";return{title:t.$t("label."+e),width:i,dataIndex:e,scopedSlots:{customRender:e}}})),t.listData[e.title]={title:e.title,columns:a,data:[],itemCount:0,loading:!0},i.prev=10,i.next=13,t.executeApi(e.api,n);case 13:s=i.sent,t.listData[e.title].data=s.data,t.listData[e.title].itemCount=s.itemCount,t.listData[e.title].loading=!1,i.next=23;break;case 19:i.prev=19,i.t0=i["catch"](10),t.listData[e.title].loading=!1,t.$notification.error({message:t.$t("message.request.failed"),description:i.t0.response&&i.t0.response.headers&&i.t0.response.headers["x-description"]||i.t0.message});case 23:t.$forceUpdate();case 24:case"end":return i.stop()}}),i,null,[[10,19]])})))()},executeApi:function(e,t){return new Promise((function(i,n){Object(c["a"])(e,t).then((function(t){var n,r,a=0,s={data:[],itemCount:0};for(var o in t)if(o.includes("response")||o.includes(e)){n=o;break}if(n){for(var c in t[n]){if("count"!==c){r=c;break}a=t[n].count}s.data=t[n][r]||[],s.itemCount=a,i(s)}else i(s)})).catch((function(e){n(e)}))}))},handleExecAction:function(e){this.currentAction=e,this.provideExecuteAction(e)},changePage:function(e,t,i){this.page=t,this.pageSize=i;var n=this.provider.lists.filter((function(t){return t.title===e}))[0]||{};this.fetchOptions(n)}}},D=V,$=Object(g["a"])(D,u,p,!1,null,"f2dd03f6",null),_=$.exports,O={name:"ServiceProvidersTab",components:{Status:d["a"],ProviderItem:_},mixins:[l["c"]],props:{resource:{type:Object,required:!0},loading:{type:Boolean,default:!1}},data:function(){return{nsps:{},nsp:{},fetchLoading:!1,actionLoading:!1,showFormAction:!1,currentAction:{},tabKey:"BaremetalDhcpProvider"}},computed:{hardcodedNsps:function(){return[{title:"BaremetalDhcpProvider",actions:[{api:"addBaremetalDhcp",listView:!0,icon:"plus",label:"label.add.baremetal.dhcp.device",args:["url","username","password"],mapping:{dhcpservertype:{value:function(e){return"DHCPD"}}}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.baremetal.dhcp.devices",api:"listBaremetalDhcp",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["url"]}]},{title:"BaremetalPxeProvider",actions:[{api:"addBaremetalPxeKickStartServer",listView:!0,icon:"plus",label:"label.baremetal.pxe.device",args:["url","username","password","tftpdir"],mapping:{pxeservertype:{value:function(e){return"KICK_START"}}}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.baremetal.pxe.devices",api:"listBaremetalPxeServers",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["url"]}]},{title:"BigSwitchBcf",actions:[{api:"addBigSwitchBcfDevice",listView:!0,icon:"plus",label:"label.add.bigswitchbcf.device",args:["hostname","username","password","nat"]},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listBigSwitchBcfDevices",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["hostname","action"]}]},{title:"BrocadeVcs",actions:[{api:"addBrocadeVcsDevice",listView:!0,icon:"plus",label:"label.add.bigswitchbcf.device",args:["hostname","username","password"]},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listBrocadeVcsDevices",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["hostname","action"]}]},{title:"CiscoVnmc",actions:[{api:"addCiscoVnmcResource",listView:!0,icon:"plus",label:"label.add.vnmc.device",args:["hostname","username","password"]},{api:"addCiscoAsa1000vResource",listView:!0,icon:"plus-circle",label:"label.add.ciscoasa1000v",args:["hostname","insideportprofile","clusterid"],mapping:{zoneid:{params:function(e){return e.zoneid}}}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.list.ciscovnmc",api:"listCiscoVnmcResources",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["resource","provider"]},{title:"label.list.ciscoasa1000v",api:"listCiscoAsa1000vResources",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["hostname","insideportprofile","action"]}]},{title:"ConfigDrive",actions:[{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}}],details:["name","state","id","servicelist","physicalnetworkid"]},{title:"F5BigIp",actions:[{api:"addF5LoadBalancer",listView:!0,icon:"plus",label:"label.add.f5.device",component:function(){return i.e("chunk-624441d8").then(i.bind(null,"2cbf"))}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listF5LoadBalancers",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["ipaddress","lbdevicestate","action"]}]},{title:"GloboDns",actions:[{api:"addGloboDnsHost",listView:!0,icon:"plus",label:"label.globo.dns.configuration",args:["url","username","password"]},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"]},{title:"InternalLbVm",actions:[{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}}],details:["name","state","id","physicalnetworkid","destinationphysicalnetworkid","servicelist"],lists:[{title:"label.instances",api:"listInternalLoadBalancerVMs",mapping:{zoneid:{value:function(e){return e.zoneid}}},columns:["name","zonename","type","state"]}]},{title:"JuniperSRX",actions:[{api:"addSrxFirewall",listView:!0,icon:"plus",label:"label.add.srx.device",component:function(){return i.e("chunk-6db3223c").then(i.bind(null,"b0d5"))}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listSrxFirewalls",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["ipaddress","fwdevicestate","action"]}]},{title:"Netscaler",actions:[{api:"addNetscalerLoadBalancer",icon:"plus",listView:!0,label:"label.add.netscaler.device",component:function(){return i.e("chunk-5b510c82").then(i.bind(null,"32a2"))}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listNetscalerLoadBalancers",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["ipaddress","lbdevicestate","action"]}]},{title:"NiciraNvp",actions:[{api:"addNiciraNvpDevice",icon:"plus",listView:!0,label:"label.add.niciranvp.device",component:function(){return i.e("chunk-ea0cb7b6").then(i.bind(null,"4613"))}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listNiciraNvpDevices",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["hostname","transportzoneuuid","l3gatewayserviceuuid","l2gatewayserviceuuid","action"]}]},{title:"Opendaylight",actions:[{api:"addOpenDaylightController",listView:!0,icon:"plus",label:"label.add.opendaylight.device",args:["url","username","password"]},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.opendaylight.controllers",api:"listOpenDaylightControllers",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["name","url","username","action"]}]},{title:"Ovs",details:["name","state","id","servicelist"],lists:[{title:"listOvsElements",api:"listOvsElements",mapping:{nspid:{value:function(e){return e.id}}},columns:["account","domain","enabled","project","action"]}]},{title:"PaloAlto",actions:[{api:"addPaloAltoFirewall",listView:!0,icon:"plus",label:"label.add.pa.device",component:function(){return i.e("chunk-ddbc37b2").then(i.bind(null,"7db5"))}},{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}},{api:"deleteNetworkServiceProvider",listView:!0,icon:"poweroff",label:"label.shutdown.provider",confirm:"message.confirm.delete.provider",show:function(e){return e&&e.id}}],details:["name","state","id","servicelist"],lists:[{title:"label.devices",api:"listPaloAltoFirewalls",mapping:{physicalnetworkid:{value:function(e){return e.physicalnetworkid}}},columns:["ipaddress","fwdevicestate","type","action"]}]},{title:"VirtualRouter",actions:[{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}}],details:["name","state","id","servicelist"],lists:[{title:"label.instances",api:"listRouters",mapping:{listAll:{value:function(e){return!0}},zoneid:{value:function(e){return e.zoneid}},forvpc:{value:function(e){return!1}}},columns:["name","state","hostname","zonename"]}]},{title:"VpcVirtualRouter",actions:[{api:"updateNetworkServiceProvider",icon:"stop",listView:!0,label:"label.disable.provider",confirm:"message.confirm.disable.provider",show:function(e){return e&&e.id&&"Enabled"===e.state},mapping:{state:{value:function(e){return"Disabled"}}}},{api:"updateNetworkServiceProvider",icon:"play-circle",listView:!0,label:"label.enable.provider",confirm:"message.confirm.enable.provider",show:function(e){return e&&e.id&&"Disabled"===e.state},mapping:{state:{value:function(e){return"Enabled"}}}}],details:["name","state","id","servicelist"],lists:[{title:"label.instances",api:"listRouters",mapping:{forvpc:{value:function(e){return!0}},zoneid:{value:function(e){return e.zoneid}},listAll:{value:function(){return!0}}},columns:["name","state","hostname","zonename"]}]}]}},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){this.fetchData()},watch:{loading:function(e,t){!e&&this.resource.id&&this.fetchData()}},inject:["parentPollActionCompletion"],provide:function(){return{provideSetNsp:this.setNsp,provideExecuteAction:this.executeAction,provideCloseAction:this.onCloseAction,provideReload:this.fetchData}},methods:{fetchData:function(){this.fetchServiceProvider()},fetchServiceProvider:function(e){var t=this;this.fetchLoading=!0,Object(c["a"])("listNetworkServiceProviders",{physicalnetworkid:this.resource.id,name:e}).then((function(e){var i=e.listnetworkserviceprovidersresponse.networkserviceprovider||[];if(i.length>0){var n=!0,r=!1,a=void 0;try{for(var s,o=i[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;t.nsps[c.name]=c}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}})).catch((function(e){t.$notifyError(e)})).finally((function(){t.fetchLoading=!1}))},onTabChange:function(e){this.tabKey=e},setNsp:function(e){this.nsp=e},handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentAction.confirm){t.next=4;break}return t.next=3,e.executeConfirmAction();case 3:return t.abrupt("return");case 4:return t.next=6,e.form.validateFields(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(i,n){var r,s,o,c,l,d,u,p,m,v,f,b,h,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return");case 2:r={},r.physicalnetworkid=e.nsp.physicalnetworkid,t.t0=regeneratorRuntime.keys(n);case 5:if((t.t1=t.t0()).done){t.next=37;break}s=t.t1.value,o=n[s],c=!0,l=!1,d=void 0,t.prev=11,u=function(){var e=m.value;if(e.name!==s)return"continue";"uuid"===e.type?r[s]=e.opts[o].id:"list"===e.type?r[s]=o.map((function(t){return e.opts[t].id})).reduce((function(e,t){return e+","+t})):r[s]=o},p=e.currentAction.fieldParams[Symbol.iterator]();case 14:if(c=(m=p.next()).done){t.next=21;break}if(v=u(),"continue"!==v){t.next=18;break}return t.abrupt("continue",18);case 18:c=!0,t.next=14;break;case 21:t.next=27;break;case 23:t.prev=23,t.t2=t["catch"](11),l=!0,d=t.t2;case 27:t.prev=27,t.prev=28,c||null==p.return||p.return();case 30:if(t.prev=30,!l){t.next=33;break}throw d;case 33:return t.finish(30);case 34:return t.finish(27);case 35:t.next=5;break;case 37:if(!e.currentAction.mapping){t.next=46;break}t.t3=regeneratorRuntime.keys(e.currentAction.mapping);case 39:if((t.t4=t.t3()).done){t.next=46;break}if(f=t.t4.value,e.currentAction.mapping[f].value){t.next=43;break}return t.abrupt("continue",39);case 43:r[f]=e.currentAction.mapping[f].value(e.resource,r),t.next=39;break;case 46:if(e.actionLoading=!0,t.prev=47,e.nsp.id){t.next=56;break}return b={},b.name=e.nsp.name,b.physicalnetworkid=e.nsp.physicalnetworkid,t.next=54,e.addNetworkServiceProvider(b);case 54:h=t.sent,e.nsp=Object(a["a"])(Object(a["a"])({},e.nsp),h);case 56:return r.id=e.nsp.id,t.next=59,e.executeApi(e.currentAction.api,r,e.currentAction.method);case 59:if(g=t.sent,g){t.next=65;break}return t.next=63,e.$message.success("Success");case 63:return t.next=65,e.fetchData();case 65:e.actionLoading=!1,e.onCloseAction(),t.next=73;break;case 69:t.prev=69,t.t5=t["catch"](47),e.actionLoading=!1,e.$notification.error({message:e.$t("message.request.failed"),description:t.t5});case 73:case"end":return t.stop()}}),t,null,[[11,23,27,35],[28,,30,34],[47,69]])})));return function(e,i){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})))()},onCloseAction:function(){this.currentAction={},this.showFormAction=!1},addNetworkServiceProvider:function(e){var t=this;return new Promise((function(i,n){var r="";Object(c["a"])("addNetworkServiceProvider",e).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=a.addnetworkserviceproviderresponse.jobid,!s){e.next=10;break}return e.next=4,t.pollJob(s);case 4:if(o=e.sent,2!==o.jobstatus){e.next=9;break}return r=o.jobresult.errortext,n(r),e.abrupt("return");case 9:i(o.jobresult.networkserviceprovider);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r=e.response&&e.response.headers&&e.response.headers["x-description"]||e.message,n(r)}))}))},pollJob:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var i=setInterval((function(){Object(c["a"])("queryAsyncJobResult",{jobId:e}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.queryasyncjobresultresponse,0!==r.jobstatus){e.next=3;break}return e.abrupt("return");case 3:clearInterval(i),t(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),1e3)})));case 1:case"end":return t.stop()}}),t)})))()},executeAction:function(e){var t=this;if(this.currentAction=e,this.currentAction.confirm)this.$confirm({title:this.$t("label.confirmation"),content:this.$t(e.confirm),onOk:this.handleSubmit});else if(this.showFormAction=!0,!e.component){var i=o["a"].getters.apis[e.api].params||[];this.currentAction.fieldParams=e.args.map((function(e){var n=i.filter((function(t){return t.name===e}))[0];return"uuid"===n.type&&t.listFieldOpts(n),n}))||[],"addCiscoVnmcResource"===this.currentAction.api&&(this.currentAction.method="POST")}},listFieldOpts:function(e){var t,i=this,n=e.name,r={listall:!0},a="list"+n.replace("ids","").replace("id","").toLowerCase()+"s";for(var s in o["a"].getters.apis)if(s.toLowerCase().startsWith(a)){t=s;break}this.currentAction.mapping&&Object.keys(this.currentAction.mapping).forEach((function(e){i.currentAction.mapping[e].params&&(r[e]=i.currentAction.mapping[e].params(i.resource))})),t&&(e.loading=!0,e.opts=[],Object(c["a"])(t,r).then((function(t){for(var n in e.loading=!1,t)if(n.includes("response")){for(var r in t[n])if("count"!==r){e.opts=t[n][r],i.$forceUpdate();break}break}})).catch((function(t){console.log(t.stack),e.loading=!1})))},executeConfirmAction:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={},i.id=e.nsp.id,!e.currentAction.mapping){t.next=11;break}t.t0=regeneratorRuntime.keys(e.currentAction.mapping);case 4:if((t.t1=t.t0()).done){t.next=11;break}if(n=t.t1.value,e.currentAction.mapping[n].value){t.next=8;break}return t.abrupt("continue",4);case 8:i[n]=e.currentAction.mapping[n].value(e.resource,i),t.next=4;break;case 11:return e.actionLoading=!0,t.prev=12,t.next=15,e.executeApi(e.currentAction.api,i);case 15:if(r=t.sent,r){t.next=19;break}return t.next=19,e.fetchData();case 19:e.actionLoading=!1,e.onCloseAction(),t.next=27;break;case 23:t.prev=23,t.t2=t["catch"](12),e.actionLoading=!1,e.$notification.error({message:e.$t("message.request.failed"),description:t.t2});case 27:case"end":return t.stop()}}),t,null,[[12,23]])})))()},executeApi:function(e,t,i){var n=this;return new Promise((function(r,a){var s=!1,o="",l="POST"===i?Object(c["a"])(e,{},i,t):Object(c["a"])(e,t);l.then((function(t){for(var i in t)if(i.includes("response")||i.includes(e)){for(var a in t[i])if("jobid"===a){n.$store.dispatch("AddAsyncJob",{title:n.$t(n.currentAction.label),jobid:t[i][a],description:n.$t(n.nsp.name),status:"progress"}),n.parentPollActionCompletion(t[i][a],n.currentAction),s=!0;break}break}r(s)})).catch((function(e){o=e.response&&e.response.headers&&e.response.headers["x-description"]||e.message,a(o)}))}))}}},C=O,R=Object(g["a"])(C,n,r,!1,null,null,null);t["default"]=R.exports},"761e":function(e,t,i){},bf56:function(e,t,i){"use strict";var n=i("761e"),r=i.n(n);r.a}}]);
//# sourceMappingURL=chunk-2fd1e3cd.c1fd4505.js.map