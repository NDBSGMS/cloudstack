(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e506f428"],{9235:function(e,t,a){},cbc1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"form-layout"},[i("a-spin",{attrs:{spinning:t.loading}},[i("a-form",{attrs:{form:t.form,layout:"vertical"},on:{submit:t.handleSubmit}},[i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.name"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.name.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:t.$t("message.error.required.input")}]}],expression:"['name', {\n            rules: [{ required: true, message: $t('message.error.required.input') }]\n          }]"}],attrs:{placeholder:this.$t("label.name")}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.displaytext"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.displaytext.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["displaytext",{rules:[{required:!0,message:t.$t("message.error.required.input")}]}],expression:"['displaytext', {\n            rules: [{ required: true, message: $t('message.error.required.input') }]\n          }]"}],attrs:{placeholder:this.$t("label.displaytext")}})],1),this.isSystem?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.systemvmtype"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.systemvmtype.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["systemvmtype",{initialValue:"domainrouter"}],expression:"['systemvmtype', {\n            initialValue: 'domainrouter'\n          }]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:this.$t("label.systemvmtype")}},[i("a-select-option",{key:"domainrouter"},[t._v(t._s(t.$t("label.domain.router")))]),i("a-select-option",{key:"consoleproxy"},[t._v(t._s(t.$t("label.console.proxy")))]),i("a-select-option",{key:"secondarystoragevm"},[t._v(t._s(t.$t("label.secondary.storage.vm")))])],1)],1):t._e(),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.storagetype"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.storagetype.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["storagetype",{initialValue:this.storageType}],expression:"['storagetype', {\n            initialValue: this.storageType\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleStorageTypeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:"shared"}},[t._v(" "+t._s(t.$t("label.shared"))+" ")]),i("a-radio-button",{attrs:{value:"local"}},[t._v(" "+t._s(t.$t("label.local"))+" ")])],1)],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.provisioningtype"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.provisioningtype.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["provisioningtype",{initialValue:this.provisioningType}],expression:"['provisioningtype', {\n            initialValue: this.provisioningType\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleProvisioningTypeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:"thin"}},[t._v(" "+t._s(t.$t("label.provisioningtype.thin"))+" ")]),i("a-radio-button",{attrs:{value:"sparse"}},[t._v(" "+t._s(t.$t("label.provisioningtype.sparse"))+" ")]),i("a-radio-button",{attrs:{value:"fat"}},[t._v(" "+t._s(t.$t("label.provisioningtype.fat"))+" ")])],1)],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.cachemode"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.cachemode.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["cachemode",{initialValue:this.cacheMode}],expression:"['cachemode', {\n            initialValue: this.cacheMode\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleCacheModeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:"none"}},[t._v(" "+t._s(t.$t("label.nodiskcache"))+" ")]),i("a-radio-button",{attrs:{value:"writeback"}},[t._v(" "+t._s(t.$t("label.writeback"))+" ")]),i("a-radio-button",{attrs:{value:"writethrough"}},[t._v(" "+t._s(t.$t("label.writethrough"))+" ")])],1)],1),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!this.isSystem,expression:"!this.isSystem"}],attrs:{label:t.$t("label.offeringtype")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["offeringtype",{initialValue:this.offeringType}],expression:"['offeringtype', {\n            initialValue: this.offeringType\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleComputeOfferingTypeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:"fixed"}},[t._v(" "+t._s(t.$t("label.fixed"))+" ")]),i("a-radio-button",{attrs:{value:"customconstrained"}},[t._v(" "+t._s(t.$t("label.customconstrained"))+" ")]),i("a-radio-button",{attrs:{value:"customunconstrained"}},[t._v(" "+t._s(t.$t("label.customunconstrained"))+" ")])],1)],1),"fixed"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.cpunumber"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.cpunumber.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cpunumber",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['cpunumber', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.cpunumber")}})],1):t._e(),"customunconstrained"!==this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.cpuspeed"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.cpuspeed.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cpuspeed",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['cpuspeed', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.cpuspeed")}})],1):t._e(),"customconstrained"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.mincpunumber"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.mincpunumber.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mincpunumber",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['mincpunumber', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.mincpunumber")}})],1):t._e(),"customconstrained"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.maxcpunumber"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.maxcpunumber.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["maxcpunumber",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['maxcpunumber', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.maxcpunumber")}})],1):t._e(),"fixed"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.memory.mb"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.memory.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["memory",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['memory', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.memory")}})],1):t._e(),"customconstrained"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.minmemory"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.minmemory.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["minmemory",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['minmemory', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.minmemory")}})],1):t._e(),"customconstrained"===this.offeringType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.maxmemory"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.maxmemory.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["maxmemory",{rules:[{required:!0,message:t.$t("message.error.required.input")},{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['maxmemory', {\n            rules: [{ required: true, message: $t('message.error.required.input') },\n                    {\n                      validator: (rule, value, callback) => {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this.$t('message.error.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.maxmemory")}})],1):t._e(),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.networkrate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.networkrate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["networkrate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['networkrate', {\n            rules: [\n              {\n                validator: (rule, value, callback) => {\n                  if (value && (isNaN(value) || value <= 0)) {\n                    callback(this.$t('message.error.number'))\n                  }\n                  callback()\n                }\n              }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.networkrate")}})],1),t.apiParams.rootdisksize?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.root.disk.size"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.rootdisksize.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["rootdisksize",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['rootdisksize', {\n            rules: [\n              {\n                validator: (rule, value, callback) => {\n                  if (value && (isNaN(value) || value <= 0)) {\n                    callback(this.$t('message.error.number'))\n                  }\n                  callback()\n                }\n              }\n            ]\n          }]"}],attrs:{placeholder:this.$t("label.root.disk.size")}})],1):t._e(),i("a-form-item",{attrs:{label:t.$t("label.qostype")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["qostype",{initialValue:this.qosType}],expression:"['qostype', {\n            initialValue: this.qosType\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleQosTypeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:""}},[t._v(" "+t._s(t.$t("label.none"))+" ")]),i("a-radio-button",{attrs:{value:"hypervisor"}},[t._v(" "+t._s(t.$t("label.hypervisor"))+" ")]),i("a-radio-button",{attrs:{value:"storage"}},[t._v(" "+t._s(t.$t("label.storage"))+" ")])],1)],1),"hypervisor"===this.qosType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskbytesreadrate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.bytesreadrate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskbytesreadrate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskbytesreadrate', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskbytesreadrate")}})],1):t._e(),"hypervisor"===this.qosType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskbyteswriterate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.byteswriterate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskbyteswriterate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskbyteswriterate', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskbyteswriterate")}})],1):t._e(),"hypervisor"===this.qosType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskiopsreadrate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.iopsreadrate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskiopsreadrate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskiopsreadrate', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskiopsreadrate")}})],1):t._e(),"hypervisor"===this.qosType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskiopswriterate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.iopswriterate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskiopswriterate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskiopswriterate', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskiopswriterate")}})],1):t._e(),this.isSystem||"storage"!==this.qosType?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.iscustomizeddiskiops"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.customizediops.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["iscustomizeddiskiops",{initialValue:this.isCustomizedDiskIops}],expression:"['iscustomizeddiskiops', {initialValue: this.isCustomizedDiskIops}]"}],attrs:{defaultChecked:this.isCustomizedDiskIops},on:{change:function(t){e.isCustomizedDiskIops=t}}})],1),"storage"!==this.qosType||this.isCustomizedDiskIops?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskiopsmin"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.miniops.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskiopsmin",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskiopsmin', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskiopsmin")}})],1),"storage"!==this.qosType||this.isCustomizedDiskIops?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.diskiopsmax"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.maxiops.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskiopsmax",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['diskiopsmax', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.diskiopsmax")}})],1),this.isSystem||"storage"!==this.qosType?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.hypervisorsnapshotreserve"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.hypervisorsnapshotreserve.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hypervisorsnapshotreserve",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.error.number")),i()}}]}],expression:"['hypervisorsnapshotreserve', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.error.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.hypervisorsnapshotreserve")}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.offerha"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.offerha.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["offerha",{initialValue:!1}],expression:"['offerha', {initialValue: false}]"}]})],1),this.isAdmin()?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.hosttags"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.hosttags.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hosttags",{}],expression:"['hosttags', {}]"}],attrs:{placeholder:this.$t("label.hosttags")}})],1):t._e(),this.isAdmin()?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.storagetags"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.tags.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),this.isAdmin()?i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["storagetags",{}],expression:"['storagetags', {}]"}],attrs:{mode:"tags",showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.storageTagLoading,placeholder:t.$t("label.storagetags")}},t._l(t.storageTags,(function(e){return i("a-select-option",{key:e},[t._v(" "+t._s(e)+" ")])})),1):t._e()],1):t._e(),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.limitcpuuse"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.limitcpuuse.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["limitcpuuse",{initialValue:!1}],expression:"['limitcpuuse', {initialValue: false}]"}]})],1),this.isSystem?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.isvolatile"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.isvolatile.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["isvolatile",{initialValue:!1}],expression:"['isvolatile', {initialValue: false}]"}]})],1),!this.isSystem&&this.isAdmin()?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.deploymentplanner"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.deploymentplanner.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["deploymentplanner",{initialValue:this.deploymentPlanners.length>0?this.deploymentPlanners[0].name:""}],expression:"['deploymentplanner', {\n            initialValue: this.deploymentPlanners.length > 0 ? this.deploymentPlanners[0].name : ''\n          }]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.deploymentPlannerLoading,placeholder:this.$t("label.deploymentplanner")},on:{change:function(t){e.handleDeploymentPlannerChange(t)}}},t._l(this.deploymentPlanners,(function(e){return i("a-select-option",{key:e.name},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1):t._e(),this.plannerModeVisible?i("a-form-item",{attrs:{label:t.$t("label.plannermode")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["plannermode",{initialValue:this.plannerMode}],expression:"['plannermode', {\n            initialValue: this.plannerMode\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handlePlannerModeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:""}},[t._v(" "+t._s(t.$t("label.none"))+" ")]),i("a-radio-button",{attrs:{value:"strict"}},[t._v(" "+t._s(t.$t("label.strict"))+" ")]),i("a-radio-button",{attrs:{value:"preferred"}},[t._v(" "+t._s(t.$t("label.preferred"))+" ")])],1)],1):t._e(),this.isSystem?t._e():i("a-form-item",{attrs:{label:t.$t("label.gpu")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["pcidevice",{initialValue:this.selectedGpu}],expression:"['pcidevice', {\n            initialValue: this.selectedGpu\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleGpuChange(t.target.value)}}},t._l(this.gpuTypes,(function(e,a){return i("a-radio-button",{key:a,attrs:{value:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)],1),this.vGpuVisible?i("a-form-item",{attrs:{label:t.$t("label.vgputype")}},[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["vgputype",{}],expression:"['vgputype', {}]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:this.$t("label.vgputype")}},t._l(this.vGpuTypes,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e)+" ")])})),1)],1):t._e(),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:this.isAdmin(),expression:"this.isAdmin()"}],attrs:{label:t.$t("label.ispublic")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["ispublic",{initialValue:this.isPublic}],expression:"['ispublic', {initialValue: this.isPublic}]"}],attrs:{checked:this.isPublic},on:{change:function(t){e.isPublic=t}}})],1),this.isPublic?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.domain"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.domainid.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["domainid",{rules:[{required:!0,message:t.$t("message.error.select")}]}],expression:"['domainid', {\n            rules: [\n              {\n                required: true,\n                message: $t('message.error.select')\n              }\n            ]\n          }]"}],attrs:{mode:"multiple",showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.domainLoading,placeholder:this.$t("label.domainid")}},t._l(this.domains,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1),this.isSystem?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.zoneid"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.zoneid.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["zoneid",{rules:[{validator:function(t,a,i){a&&a.length>1&&-1!==a.indexOf(0)&&i(e.$t("message.error.zone.combined")),i()}}]}],expression:"['zoneid', {\n            rules: [\n              {\n                validator: (rule, value, callback) => {\n                  if (value && value.length > 1 && value.indexOf(0) !== -1) {\n                    callback(this.$t('message.error.zone.combined'))\n                  }\n                  callback()\n                }\n              }\n            ]\n          }]"}],attrs:{id:"zone-selection",mode:"multiple",showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.zoneLoading,placeholder:this.$t("label.zoneid")},on:{select:function(e){return t.fetchvSphereStoragePolicies(e)}}},t._l(this.zones,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1),"listVsphereStoragePolicies"in t.$store.getters.apis&&null!==t.storagePolicies?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.vmware.storage.policy"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.storagetype.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["storagepolicy"],expression:"['storagepolicy']"}],attrs:{placeholder:t.apiParams.storagepolicy.description}},t._l(this.storagePolicies,(function(e){return i("a-select-option",{key:e.id},[t._v(" "+t._s(e.name||e.id)+" ")])})),1)],1):t._e()],1),i("div",{staticClass:"action-button",attrs:{span:24}},[i("a-button",{on:{click:t.closeAction}},[t._v(t._s(this.$t("label.cancel")))]),i("a-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(this.$t("label.ok")))])],1)],1)],1)},r=[],s=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4160"),a("caad"),a("a15b"),a("b0c0"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("365c")),o={name:"AddServiceOffering",props:{},components:{},data:function(){return{isSystem:!1,storageType:"shared",provisioningType:"thin",cacheMode:"none",offeringType:"fixed",qosType:"",isCustomizedDiskIops:!1,isPublic:!0,selectedDomains:[],domains:[],domainLoading:!1,selectedZones:[],selectedZoneIndex:[],zones:[],zoneLoading:!1,selectedDeployementPlanner:null,storagePolicies:null,storageTags:[],storageTagLoading:!1,deploymentPlanners:[],deploymentPlannerLoading:!1,plannerModeVisible:!1,plannerMode:"",selectedGpu:"",gpuTypes:[{value:"",title:this.$t("label.none"),vgpu:[]},{value:"Group of NVIDIA Corporation GK107GL [GRID K1] GPUs",title:"NVIDIA GRID K1",vgpu:["","passthrough","GRID K100","GRID K120Q","GRID K140Q","GRID K160Q","GRID K180Q"]},{value:"Group of NVIDIA Corporation GK104GL [GRID K2] GPUs",title:"NVIDIA GRID K2",vgpu:["","passthrough","GRID K200","GRID K220Q","GRID K240Q","GRID K260Q","GRID K280Q"]}],vGpuVisible:!1,vGpuTypes:[],loading:!1}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this,{onValuesChange:function(t,a){e.selectedZoneIndex=a.zoneid}}),this.apiParams={};var t=this.$store.getters.apis.createServiceOffering||{};t.params.forEach((function(t){e.apiParams[t.name]=t}))},created:function(){this.zones=[{id:null,name:this.$t("label.all.zone")}]},mounted:function(){"systemoffering"===this.$route.meta.name&&(this.isSystem=!0),this.fetchData(),this.isPublic=this.isAdmin()},methods:{fetchData:function(){this.fetchDomainData(),this.fetchZoneData(),this.isAdmin()&&(this.fetchStorageTagData(),this.fetchDeploymentPlannerData())},isAdmin:function(){return["Admin"].includes(this.$store.getters.userInfo.roletype)},arrayHasItems:function(e){return null!==e&&void 0!==e&&Array.isArray(e)&&e.length>0},fetchDomainData:function(){var e=this,t={listAll:!0,details:"min"};this.domainLoading=!0,Object(s["a"])("listDomains",t).then((function(t){var a=t.listdomainsresponse.domain;e.domains=e.domains.concat(a)})).finally((function(){e.domainLoading=!1}))},fetchZoneData:function(){var e=this,t={listAll:!0};this.zoneLoading=!0,Object(s["a"])("listZones",t).then((function(t){var a=t.listzonesresponse.zone;e.zones=e.zones.concat(a)})).finally((function(){e.zoneLoading=!1}))},fetchStorageTagData:function(){var e=this,t={listAll:!0};this.storageTagLoading=!0,this.storageTags=[],Object(s["a"])("listStorageTags",t).then((function(t){var a=t.liststoragetagsresponse.storagetag||[],i=!0,r=!1,s=void 0;try{for(var o,l=a[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var n=o.value;e.storageTags.includes(n.name)||e.storageTags.push(n.name)}}catch(c){r=!0,s=c}finally{try{i||null==l.return||l.return()}finally{if(r)throw s}}})).finally((function(){e.storageTagLoading=!1}))},fetchDeploymentPlannerData:function(){var e=this,t={listAll:!0};this.deploymentPlannerLoading=!0,Object(s["a"])("listDeploymentPlanners",t).then((function(t){var a=t.listdeploymentplannersresponse.deploymentPlanner;e.deploymentPlanners=e.deploymentPlanners.concat(a),e.deploymentPlanners.unshift({name:""})})).finally((function(){e.deploymentPlannerLoading=!1}))},fetchvSphereStoragePolicies:function(e){var t=this;if(0===e||this.selectedZoneIndex.length>1)this.storagePolicies=null;else{var a=this.zones[e].id;"importVsphereStoragePolicies"in this.$store.getters.apis&&(this.storagePolicies=[],Object(s["a"])("listVsphereStoragePolicies",{zoneid:a}).then((function(e){t.storagePolicies=e.listvspherestoragepoliciesresponse.StoragePolicy||[]})))}},handleStorageTypeChange:function(e){this.storageType=e},handleProvisioningTypeChange:function(e){this.provisioningType=e},handleCacheModeChange:function(e){this.cacheMode=e},handleComputeOfferingTypeChange:function(e){this.offeringType=e},handleQosTypeChange:function(e){this.qosType=e},handleDeploymentPlannerChange:function(e){this.selectedDeployementPlanner=e,this.plannerModeVisible=!1,"ImplicitDedicationPlanner"===this.selectedDeployementPlanner&&(this.plannerModeVisible=this.isAdmin())},handlePlannerModeChange:function(e){this.plannerMode=e},handleGpuChange:function(e){for(var t in this.vGpuTypes=[],this.gpuTypes)if(this.gpuTypes[t].value===e){this.vGpuTypes=this.gpuTypes[t].vgpu;break}this.vGpuVisible=!0,this.arrayHasItems(this.vGpuTypes)||(this.vGpuVisible=!1)},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){var i={issystem:t.isSystem,name:a.name,displaytext:a.displaytext,storagetype:a.storagetype,provisioningtype:a.provisioningtype,cachemode:a.cachemode,customized:"fixed"!==a.offeringtype,offerha:!0===a.offerha,limitcpuuse:!0===a.limitcpuuse};if("fixed"===a.offeringtype?(i.cpunumber=a.cpunumber,i.cpuspeed=a.cpuspeed,i.memory=a.memory):null!=a.cpuspeed&&null!=a.mincpunumber&&null!=a.maxcpunumber&&null!=a.minmemory&&null!=a.maxmemory&&(i.cpuspeed=a.cpuspeed,i.mincpunumber=a.mincpunumber,i.maxcpunumber=a.maxcpunumber,i.minmemory=a.minmemory,i.maxmemory=a.maxmemory),null!=a.networkrate&&a.networkrate.length>0&&(i.networkrate=a.networkrate),null!=a.rootdisksize&&a.rootdisksize.length>0&&(i.rootdisksize=a.rootdisksize),"storage"===a.qostype){var r=!0===a.iscustomizeddiskiops;i.customizediops=r,r||(null!=a.diskiopsmin&&a.diskiopsmin.length>0&&(i.miniops=a.diskiopsmin),null!=a.diskiopsmax&&a.diskiopsmax.length>0&&(i.maxiops=a.diskiopsmax),void 0!==a.hypervisorsnapshotreserve&&null!=a.hypervisorsnapshotreserve&&a.hypervisorsnapshotreserve.length>0&&(i.hypervisorsnapshotreserve=a.hypervisorsnapshotreserve))}else"hypervisor"===a.qostype&&(null!=a.diskbytesreadrate&&a.diskbytesreadrate.length>0&&(i.bytesreadrate=a.diskbytesreadrate),null!=a.diskbyteswriterate&&a.diskbyteswriterate.length>0&&(i.byteswriterate=a.diskbyteswriterate),null!=a.diskiopsreadrate&&a.diskiopsreadrate.length>0&&(i.iopsreadrate=a.diskiopsreadrate),null!=a.diskiopswriterate&&a.diskiopswriterate.length>0&&(i.iopswriterate=a.diskiopswriterate));if(null!=a.storagetags&&a.storagetags.length>0){var o=a.storagetags.join(",");i.tags=o}if(null!=a.hosttags&&a.hosttags.length>0&&(i.hosttags=a.hosttags),"deploymentplanner"in a&&void 0!==a.deploymentplanner&&null!=a.deploymentplanner&&a.deploymentplanner.length>0&&(i.deploymentplanner=a.deploymentplanner),"deploymentplanner"in a&&void 0!==a.deploymentplanner&&"ImplicitDedicationPlanner"===a.deploymentplanner&&void 0!==a.plannermode&&""!==a.plannermode&&(i["serviceofferingdetails[0].key"]="ImplicitDedicationMode",i["serviceofferingdetails[0].value"]=a.plannermode),"pcidevice"in a&&void 0!==a.pcidevice&&""!==a.pcidevice&&(i["serviceofferingdetails[1].key"]="pciDevice",i["serviceofferingdetails[1].value"]=a.pcidevice),"vgputype"in a&&null!=t.vGpuTypes&&void 0!==t.vGpuTypes&&a.vgputype>t.vGpuTypes.length&&(i["serviceofferingdetails[2].key"]="vgpuType",i["serviceofferingdetails[2].value"]=t.vGpuTypes[a.vgputype]),"isvolatile"in a&&void 0!==a.isvolatile&&(i.isvolatile=!0===a.isvolatile),!0!==a.ispublic){var l=a.domainid,n=null;if(l&&l.length>0){for(var c=[],p=0;p<l.length;p++)c=c.concat(t.domains[l[p]].id);n=c.join(",")}n&&(i.domainid=n)}var u=a.zoneid,d=null;if(u&&u.length>0){for(var m=[],v=0;v<u.length;v++)m=m.concat(t.zones[u[v]].id);d=m.join(",")}d&&(i.zoneid=d),a.storagepolicy&&(i.storagepolicy=a.storagepolicy),Object(s["a"])("createServiceOffering",i).then((function(e){var i=t.isSystem?"".concat(t.$t("message.create.service.offering"),": "):"".concat(t.$t("message.create.compute.offering"),": ");t.$message.success(i+a.name),t.$emit("refresh-data"),t.closeAction()})).catch((function(e){t.$notifyError(e)})).finally((function(){t.loading=!1}))}}))},closeAction:function(){this.$emit("close-action")}}},l=o,n=(a("d1fd"),a("2877")),c=Object(n["a"])(l,i,r,!1,null,"41444820",null);t["default"]=c.exports},d1fd:function(e,t,a){"use strict";var i=a("9235"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-e506f428.0b76aca5.js.map