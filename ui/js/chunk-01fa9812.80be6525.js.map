{"version":3,"sources":["webpack:///./src/views/project/AddAccountOrUserToProject.vue?802a","webpack:///src/views/project/AddAccountOrUserToProject.vue","webpack:///./src/views/project/AddAccountOrUserToProject.vue?a44d","webpack:///./src/views/project/AddAccountOrUserToProject.vue","webpack:///./src/views/project/AddAccountOrUserToProject.vue?5280"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","key","attrs","$t","form","on","addAccountToProject","slot","_v","_s","apiParams","account","description","staticStyle","directives","name","rawName","value","expression","email","projectroleid","loading","_l","role","id","_e","roletype","closeAction","addUserToProject","domProps","username","staticRenderFns","props","resource","type","Object","required","data","users","accounts","projectRoles","selectedUser","selectedAccount","load","mounted","fetchData","beforeCreate","$form","createForm","$store","getters","apis","push","apiConfig","params","forEach","details","param","methods","fetchUsers","fetchAccounts","isProjectRolesSupported","fetchProjectRoles","domainid","projectid","e","preventDefault","validateFields","err","undefined","input","jobId","response","addaccounttoprojectresponse","jobid","successMessage","errorMessage","loadingMessage","catchMessage","addusertoprojectresponse","console","log","$emit","component"],"mappings":"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","file":"js/chunk-01fa9812.80be6525.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-tabs',{staticClass:\"form-layout\"},[_c('a-tab-pane',{key:\"1\",attrs:{\"tab\":_vm.$t('label.action.project.add.account')}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.addAccountToProject}},[_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.account'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addAccountToProject.account.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['account']),expression:\"['account']\"}],attrs:{\"placeholder\":_vm.apiParams.addAccountToProject.account.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.email'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addAccountToProject.email.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email']),expression:\"['email']\"}],attrs:{\"placeholder\":_vm.apiParams.addAccountToProject.email.description}})],1),(_vm.apiParams.addAccountToProject.projectroleid)?_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.project.role'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addAccountToProject.projectroleid.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['projectroleid']),expression:\"['projectroleid']\"}],attrs:{\"showSearch\":\"\",\"loading\":_vm.loading,\"placeholder\":_vm.$t('label.project.role')}},_vm._l((_vm.projectRoles),function(role){return _c('a-select-option',{key:role.id},[_vm._v(\" \"+_vm._s(role.name)+\" \")])}),1)],1):_vm._e(),(_vm.apiParams.addAccountToProject.roletype)?_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.roletype'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addAccountToProject.roletype.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['roletype']),expression:\"['roletype']\"}],attrs:{\"showSearch\":\"\",\"placeholder\":_vm.$t('label.roletype')}},[_c('a-select-option',{attrs:{\"value\":\"Admin\"}},[_vm._v(\"Admin\")]),_c('a-select-option',{attrs:{\"value\":\"Regular\"}},[_vm._v(\"Regular\")])],1)],1):_vm._e(),_c('div',{staticClass:\"action-button\",attrs:{\"span\":24}},[_c('a-button',{on:{\"click\":_vm.closeAction}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.addAccountToProject}},[_vm._v(_vm._s(_vm.$t('label.ok')))])],1)],1)],1),(_vm.apiParams.addUserToProject)?_c('a-tab-pane',{key:\"2\",attrs:{\"tab\":_vm.$t('label.action.project.add.user')}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.addUserToProject}},[_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.$t('message.add.user.to.project'))}}),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.user'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addUserToProject.username.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['username']),expression:\"['username']\"}],attrs:{\"placeholder\":_vm.apiParams.addUserToProject.username.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.email'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addUserToProject.email.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email']),expression:\"['email']\"}],attrs:{\"placeholder\":_vm.apiParams.addUserToProject.email.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.project.role'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addUserToProject.roletype.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['projectroleid']),expression:\"['projectroleid']\"}],attrs:{\"showSearch\":\"\",\"loading\":_vm.loading,\"placeholder\":_vm.$t('label.project.role')}},_vm._l((_vm.projectRoles),function(role){return _c('a-select-option',{key:role.id},[_vm._v(\" \"+_vm._s(role.name)+\" \")])}),1)],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.roletype'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.addUserToProject.roletype.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['roletype']),expression:\"['roletype']\"}],attrs:{\"showSearch\":\"\",\"placeholder\":_vm.$t('label.roletype')}},[_c('a-select-option',{attrs:{\"value\":\"Admin\"}},[_vm._v(\"Admin\")]),_c('a-select-option',{attrs:{\"value\":\"Regular\"}},[_vm._v(\"Regular\")])],1)],1),_c('div',{staticClass:\"action-button\",attrs:{\"span\":24}},[_c('a-button',{on:{\"click\":_vm.closeAction}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.addUserToProject}},[_vm._v(_vm._s(_vm.$t('label.ok')))])],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n<template>\n  <div>\n    <a-tabs class=\"form-layout\">\n      <a-tab-pane key=\"1\" :tab=\"$t('label.action.project.add.account')\">\n        <a-form\n          :form=\"form\"\n          @submit=\"addAccountToProject\"\n          layout=\"vertical\">\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.account') }}\n              <a-tooltip :title=\"apiParams.addAccountToProject.account.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-input\n              v-decorator=\"['account']\"\n              :placeholder=\"apiParams.addAccountToProject.account.description\"/>\n          </a-form-item>\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.email') }}\n              <a-tooltip :title=\"apiParams.addAccountToProject.email.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-input\n              v-decorator=\"['email']\"\n              :placeholder=\"apiParams.addAccountToProject.email.description\"></a-input>\n          </a-form-item>\n          <a-form-item v-if=\"apiParams.addAccountToProject.projectroleid\">\n            <span slot=\"label\">\n              {{ $t('label.project.role') }}\n              <a-tooltip :title=\"apiParams.addAccountToProject.projectroleid.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-select\n              showSearch\n              v-decorator=\"['projectroleid']\"\n              :loading=\"loading\"\n              :placeholder=\"$t('label.project.role')\"\n            >\n              <a-select-option v-for=\"role in projectRoles\" :key=\"role.id\">\n                {{ role.name }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item v-if=\"apiParams.addAccountToProject.roletype\">\n            <span slot=\"label\">\n              {{ $t('label.roletype') }}\n              <a-tooltip :title=\"apiParams.addAccountToProject.roletype.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-select\n              showSearch\n              v-decorator=\"['roletype']\"\n              :placeholder=\"$t('label.roletype')\">\n              <a-select-option value=\"Admin\">Admin</a-select-option>\n              <a-select-option value=\"Regular\">Regular</a-select-option>\n            </a-select>\n          </a-form-item>\n          <div :span=\"24\" class=\"action-button\">\n            <a-button @click=\"closeAction\">{{ this.$t('label.cancel') }}</a-button>\n            <a-button type=\"primary\" @click=\"addAccountToProject\" :loading=\"loading\">{{ $t('label.ok') }}</a-button>\n          </div>\n        </a-form>\n      </a-tab-pane>\n      <a-tab-pane key=\"2\" :tab=\"$t('label.action.project.add.user')\" v-if=\"apiParams.addUserToProject\">\n        <a-form\n          :form=\"form\"\n          @submit=\"addUserToProject\"\n          layout=\"vertical\">\n          <p v-html=\"$t('message.add.user.to.project')\"></p>\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.user') }}\n              <a-tooltip :title=\"apiParams.addUserToProject.username.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-input\n              v-decorator=\"['username']\"\n              :placeholder=\"apiParams.addUserToProject.username.description\"/>\n          </a-form-item>\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.email') }}\n              <a-tooltip :title=\"apiParams.addUserToProject.email.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-input\n              v-decorator=\"['email']\"\n              :placeholder=\"apiParams.addUserToProject.email.description\"></a-input>\n          </a-form-item>\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.project.role') }}\n              <a-tooltip :title=\"apiParams.addUserToProject.roletype.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-select\n              showSearch\n              v-decorator=\"['projectroleid']\"\n              :loading=\"loading\"\n              :placeholder=\"$t('label.project.role')\"\n            >\n              <a-select-option v-for=\"role in projectRoles\" :key=\"role.id\">\n                {{ role.name }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item>\n            <span slot=\"label\">\n              {{ $t('label.roletype') }}\n              <a-tooltip :title=\"apiParams.addUserToProject.roletype.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n            <a-select\n              showSearch\n              v-decorator=\"['roletype']\"\n              :placeholder=\"$t('label.roletype')\">\n              <a-select-option value=\"Admin\">Admin</a-select-option>\n              <a-select-option value=\"Regular\">Regular</a-select-option>\n            </a-select>\n          </a-form-item>\n          <div :span=\"24\" class=\"action-button\">\n            <a-button @click=\"closeAction\">{{ this.$t('label.cancel') }}</a-button>\n            <a-button type=\"primary\" @click=\"addUserToProject\" :loading=\"loading\">{{ $t('label.ok') }}</a-button>\n          </div>\n        </a-form>\n      </a-tab-pane>\n    </a-tabs>\n  </div>\n</template>\n<script>\nimport { api } from '@/api'\nexport default {\n  name: 'AddAccountOrUserToProject',\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      users: [],\n      accounts: [],\n      projectRoles: [],\n      selectedUser: null,\n      selectedAccount: null,\n      loading: false,\n      load: {\n        users: false,\n        accounts: false,\n        projectRoles: false\n      }\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    const apis = ['addAccountToProject']\n    if ('addUserToProject' in this.$store.getters.apis) {\n      apis.push('addUserToProject')\n    }\n    this.apiParams = {}\n    for (var api of apis) {\n      const details = {}\n      const apiConfig = this.$store.getters.apis[api]\n      apiConfig.params.forEach(param => {\n        details[param.name] = param\n      })\n      this.apiParams[api] = details\n    }\n  },\n  methods: {\n    fetchData () {\n      this.fetchUsers()\n      this.fetchAccounts()\n      if (this.isProjectRolesSupported()) {\n        this.fetchProjectRoles()\n      }\n    },\n    fetchUsers () {\n      this.load.users = true\n      api('listUsers', { listall: true }).then(response => {\n        this.users = response.listusersresponse.user ? response.listusersresponse.user : []\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.load.users = false\n      })\n    },\n    fetchAccounts () {\n      this.load.accounts = true\n      api('listAccounts', {\n        domainid: this.resource.domainid\n      }).then(response => {\n        this.accounts = response.listaccountsresponse.account || []\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.load.accounts = false\n      })\n    },\n    fetchProjectRoles () {\n      this.load.projectRoles = true\n      api('listProjectRoles', {\n        projectid: this.resource.id\n      }).then(response => {\n        this.projectRoles = response.listprojectrolesresponse.projectrole || []\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.load.projectRoles = false\n      })\n    },\n    isProjectRolesSupported () {\n      return ('listProjectRoles' in this.$store.getters.apis)\n    },\n    addAccountToProject (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        this.loading = true\n        var params = {\n          projectid: this.resource.id\n        }\n        for (const key in values) {\n          const input = values[key]\n          if (input === undefined) {\n            continue\n          }\n          params[key] = input\n        }\n        api('addAccountToProject', params).then(response => {\n          this.$pollJob({\n            jobId: response.addaccounttoprojectresponse.jobid,\n            successMessage: `Successfully added account ${params.account} to project`,\n            errorMessage: `Failed to add account: ${params.account} to project`,\n            loadingMessage: `Adding Account: ${params.account} to project...`,\n            catchMessage: 'Error encountered while fetching async job result'\n          })\n          this.$emit('refresh-data')\n          this.closeAction()\n        }).catch(error => {\n          this.$notifyError(error)\n        }).finally(() => {\n          this.loading = false\n        })\n      })\n    },\n    addUserToProject (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n\n        this.loading = true\n        var params = {\n          projectid: this.resource.id\n        }\n        for (const key in values) {\n          const input = values[key]\n          if (input === undefined) {\n            continue\n          }\n          params[key] = input\n        }\n        api('addUserToProject', params).then(response => {\n          this.$pollJob({\n            jobId: response.addusertoprojectresponse.jobid,\n            successMessage: `Successfully added user ${params.username} to project`,\n            errorMessage: `Failed to add user: ${params.username} to project`,\n            loadingMessage: `Adding User ${params.username} to project...`,\n            catchMessage: 'Error encountered while fetching async job result'\n          })\n          this.$emit('refresh-data')\n          this.closeAction()\n        }).catch(error => {\n          console.log('catch')\n          this.$notifyError(error)\n        }).finally(() => {\n          this.loading = false\n        })\n      })\n    },\n    closeAction () {\n      this.$emit('close-action')\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .form-layout {\n    width: 80vw;\n\n    @media (min-width: 600px) {\n      width: 450px;\n    }\n  }\n.action-button {\n    text-align: right;\n\n    button {\n      margin-right: 5px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAccountOrUserToProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAccountOrUserToProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAccountOrUserToProject.vue?vue&type=template&id=3a7d2eea&scoped=true&\"\nimport script from \"./AddAccountOrUserToProject.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAccountOrUserToProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddAccountOrUserToProject.vue?vue&type=style&index=0&id=3a7d2eea&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a7d2eea\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAccountOrUserToProject.vue?vue&type=style&index=0&id=3a7d2eea&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAccountOrUserToProject.vue?vue&type=style&index=0&id=3a7d2eea&lang=scss&scoped=true&\""],"sourceRoot":""}