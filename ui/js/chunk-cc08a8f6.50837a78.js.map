{"version":3,"sources":["webpack:///./src/views/iam/ImportRole.vue?c988","webpack:///src/views/iam/ImportRole.vue","webpack:///./src/views/iam/ImportRole.vue?414d","webpack:///./src/views/iam/ImportRole.vue","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/iam/ImportRole.vue?058d","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","form","on","handleSubmit","$t","directives","name","rawName","value","rules","required","message","validator","checkCsvRulesFile","expression","fileList","handleRemove","beforeUpload","handleChange","length","_v","_s","_e","importRoleApiParams","description","type","_l","role","key","initialValue","closeAction","staticRenderFns","data","defaultRoles","rulesCsv","beforeCreate","$form","createForm","apiConfig","$store","getters","apis","importRole","params","forEach","methods","newFileList","splice","index","info","file","status","$notification","error","e","preventDefault","validateFields","err","undefined","input","values","$emit","rulesCsvToJson","lines","split","lineDelimiter","result","headers","columnDelimiter","slice","map","line","trim","obj","currentline","indexHeader","startsWith","header","substr","i","lastColumn","endsWith","push","callback","rule","readCsvFile","then","validFile","console","log","reason","Promise","window","FileReader","reader","onload","resolve","onerror","event","target","reject","readAsText","component","$","$trim","forcedStringTrimMethod","proto","forced","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-cc08a8f6.50837a78.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-layout\"},[_c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.rules.file')}},[_c('a-upload-dragger',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['file', {\n            rules: [{ required: true, message: _vm.$t('message.error.required.input') },\n                    {\n                      validator: _vm.checkCsvRulesFile,\n                      message: _vm.$t('label.error.rules.file.import')\n                    }\n            ]\n          }]),expression:\"['file', {\\n            rules: [{ required: true, message: $t('message.error.required.input') },\\n                    {\\n                      validator: checkCsvRulesFile,\\n                      message: $t('label.error.rules.file.import')\\n                    }\\n            ]\\n          }]\"}],attrs:{\"multiple\":false,\"fileList\":_vm.fileList,\"remove\":_vm.handleRemove,\"beforeUpload\":_vm.beforeUpload},on:{\"change\":_vm.handleChange}},[_c('p',{staticClass:\"ant-upload-drag-icon\"},[_c('a-icon',{attrs:{\"type\":\"cloud-upload\"}})],1),(_vm.fileList.length === 0)?_c('p',{staticClass:\"ant-upload-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.rules.file.import.description'))+\" \")]):_vm._e()])],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.name')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name', {\n            rules: [{ required: true, message: _vm.$t('message.error.required.input') }]\n          }]),expression:\"['name', {\\n            rules: [{ required: true, message: $t('message.error.required.input') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.importRoleApiParams.name.description}})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.description')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['description']),expression:\"['description']\"}],attrs:{\"placeholder\":_vm.importRoleApiParams.description.description}})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.type')}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['type', {\n            rules: [{ required: true, message: _vm.$t('message.error.select') }]\n          }]),expression:\"['type', {\\n            rules: [{ required: true, message: $t('message.error.select') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.importRoleApiParams.type.description}},_vm._l((_vm.defaultRoles),function(role){return _c('a-select-option',{key:role},[_vm._v(\" \"+_vm._s(role)+\" \")])}),1)],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.forced')}},[_c('a-switch',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['forced', {\n            initialValue: false\n          }]),expression:\"['forced', {\\n            initialValue: false\\n          }]\"}]})],1),_c('div',{staticClass:\"action-button\",attrs:{\"span\":24}},[_c('a-button',{on:{\"click\":_vm.closeAction}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(this.$t('label.ok')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"form-layout\">\n    <a-spin :spinning=\"loading\">\n      <a-form\n        :form=\"form\"\n        @submit=\"handleSubmit\"\n        layout=\"vertical\">\n        <a-form-item :label=\"$t('label.rules.file')\">\n          <a-upload-dragger\n            :multiple=\"false\"\n            :fileList=\"fileList\"\n            :remove=\"handleRemove\"\n            :beforeUpload=\"beforeUpload\"\n            @change=\"handleChange\"\n            v-decorator=\"['file', {\n              rules: [{ required: true, message: $t('message.error.required.input') },\n                      {\n                        validator: checkCsvRulesFile,\n                        message: $t('label.error.rules.file.import')\n                      }\n              ]\n            }]\">\n            <p class=\"ant-upload-drag-icon\">\n              <a-icon type=\"cloud-upload\" />\n            </p>\n            <p class=\"ant-upload-text\" v-if=\"fileList.length === 0\">\n              {{ $t('label.rules.file.import.description') }}\n            </p>\n          </a-upload-dragger>\n        </a-form-item>\n        <a-form-item :label=\"$t('label.name')\">\n          <a-input\n            v-decorator=\"['name', {\n              rules: [{ required: true, message: $t('message.error.required.input') }]\n            }]\"\n            :placeholder=\"importRoleApiParams.name.description\" />\n        </a-form-item>\n\n        <a-form-item :label=\"$t('label.description')\">\n          <a-input\n            v-decorator=\"['description']\"\n            :placeholder=\"importRoleApiParams.description.description\" />\n        </a-form-item>\n\n        <a-form-item :label=\"$t('label.type')\">\n          <a-select\n            v-decorator=\"['type', {\n              rules: [{ required: true, message: $t('message.error.select') }]\n            }]\"\n            :placeholder=\"importRoleApiParams.type.description\">\n            <a-select-option v-for=\"role in defaultRoles\" :key=\"role\">\n              {{ role }}\n            </a-select-option>\n          </a-select>\n        </a-form-item>\n\n        <a-form-item :label=\"$t('label.forced')\">\n          <a-switch\n            v-decorator=\"['forced', {\n              initialValue: false\n            }]\" />\n        </a-form-item>\n\n        <div :span=\"24\" class=\"action-button\">\n          <a-button @click=\"closeAction\">{{ this.$t('label.cancel') }}</a-button>\n          <a-button :loading=\"loading\" type=\"primary\" @click=\"handleSubmit\">{{ this.$t('label.ok') }}</a-button>\n        </div>\n      </a-form>\n    </a-spin>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'ImportRole',\n  data () {\n    return {\n      fileList: [],\n      defaultRoles: ['Admin', 'DomainAdmin', 'ResourceAdmin', 'User'],\n      rulesCsv: '',\n      loading: false\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    this.apiConfig = this.$store.getters.apis.importRole || {}\n    this.importRoleApiParams = {}\n    this.apiConfig.params.forEach(param => {\n      this.importRoleApiParams[param.name] = param\n    })\n  },\n  methods: {\n    handleRemove (file) {\n      const index = this.fileList.indexOf(file)\n      const newFileList = this.fileList.slice()\n      newFileList.splice(index, 1)\n      this.fileList = newFileList\n    },\n    handleChange (info) {\n      if (info.file.status === 'error') {\n        this.$notification.error({\n          message: this.$t('label.error.file.upload'),\n          description: this.$t('label.error.file.upload')\n        })\n      }\n    },\n    beforeUpload (file) {\n      if (file.type !== 'text/csv') {\n        return false\n      }\n\n      this.fileList = [file]\n      return false\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        const params = {}\n        for (const key in values) {\n          const input = values[key]\n          if (input === undefined) {\n            continue\n          }\n          if (key === 'file') {\n            continue\n          }\n\n          params[key] = input\n        }\n\n        if (this.fileList.length !== 1) {\n          return\n        }\n\n        var rules = this.rulesCsvToJson(this.rulesCsv)\n        rules.forEach(function (values, index) {\n          for (const key in values) {\n            params['rules[' + index + '].' + key] = values[key]\n          }\n        })\n\n        this.importRole(params)\n      })\n    },\n    closeAction () {\n      this.$emit('close-action')\n    },\n    importRole (params) {\n      this.loading = true\n      api('importRole', {}, 'POST', params).then(json => {\n        const role = json.importroleresponse.role\n        if (role) {\n          this.$emit('refresh-data')\n          this.$notification.success({\n            message: 'Import Role',\n            description: 'Sucessfully imported role ' + params.name\n          })\n        }\n        this.closeAction()\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    rulesCsvToJson (rulesCsv) {\n      const columnDelimiter = ','\n      const lineDelimiter = '\\n'\n      var lines = rulesCsv.split(lineDelimiter)\n      var result = []\n      if (lines.length === 0) {\n        return result\n      }\n      var headers = lines[0].split(columnDelimiter)\n      lines = lines.slice(1) // Remove header\n\n      lines.map((line, indexLine) => {\n        if (line.trim() === '') return // Empty line\n        var obj = {}\n        var currentline = line.trim().split(columnDelimiter)\n\n        headers.map((header, indexHeader) => {\n          if (indexHeader === 2 && currentline.length > 3) {\n            if (currentline[indexHeader].startsWith('\"')) {\n              obj[header.trim()] = currentline[indexHeader].substr(1)\n            } else {\n              obj[header.trim()] = currentline[indexHeader]\n            }\n\n            for (let i = 3; i < currentline.length - 1; i++) {\n              obj[header.trim()] += columnDelimiter + currentline[i]\n            }\n\n            var lastColumn = currentline[currentline.length - 1]\n            if (lastColumn.endsWith('\"')) {\n              obj[header.trim()] += columnDelimiter + lastColumn.substr(0, lastColumn.length - 1)\n            } else {\n              obj[header.trim()] += columnDelimiter + lastColumn\n            }\n          } else {\n            obj[header.trim()] = currentline[indexHeader]\n          }\n        })\n        result.push(obj)\n      })\n      return result\n    },\n    checkCsvRulesFile (rule, value, callback) {\n      if (!value || value === '' || value.file === '') {\n        callback()\n      } else {\n        if (value.file.type !== 'text/csv') {\n          callback(rule.message)\n        }\n\n        this.readCsvFile(value.file).then((validFile) => {\n          if (!validFile) {\n            callback(rule.message)\n          } else {\n            callback()\n          }\n        }).catch((reason) => {\n          console.log(reason)\n          callback(rule.message)\n        })\n      }\n    },\n    readCsvFile (file) {\n      return new Promise((resolve, reject) => {\n        if (window.FileReader) {\n          var reader = new FileReader()\n          reader.onload = (event) => {\n            this.rulesCsv = event.target.result\n            var lines = this.rulesCsv.split('\\n')\n            var headers = lines[0].split(',')\n            if (headers.length !== 3) {\n              resolve(false)\n            } else if (!(headers[0].trim() === 'rule' && headers[1].trim() === 'permission' && headers[2].trim() === 'description')) {\n              resolve(false)\n            } else {\n              resolve(true)\n            }\n          }\n\n          reader.onerror = (event) => {\n            if (event.target.error.name === 'NotReadableError') {\n              reject(event.target.error)\n            }\n          }\n\n          reader.readAsText(file)\n        } else {\n          reject(this.$t('label.error.file.read'))\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .form-layout {\n    width: 80vw;\n\n    @media (min-width: 700px) {\n      width: 550px;\n    }\n  }\n\n  .action-button {\n    text-align: right;\n\n    button {\n      margin-right: 5px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportRole.vue?vue&type=template&id=09889282&scoped=true&\"\nimport script from \"./ImportRole.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportRole.vue?vue&type=style&index=0&id=09889282&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09889282\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportRole.vue?vue&type=style&index=0&id=09889282&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportRole.vue?vue&type=style&index=0&id=09889282&scoped=true&lang=less&\"","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}