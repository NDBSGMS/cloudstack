{"version":3,"sources":["webpack:///./src/views/iam/SSLCertificateTab.vue?d3ff","webpack:///./src/views/iam/SSLCertificateTab.vue?a2e9","webpack:///src/views/iam/SSLCertificateTab.vue","webpack:///./src/views/iam/SSLCertificateTab.vue?2a33","webpack:///./src/views/iam/SSLCertificateTab.vue"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","attrs","quickview","_e","loading","columns","dataSource","record","id","scopedSlots","_u","key","fn","text","staticClass","slot","_v","_s","$t","on","$event","onQuickView","$store","getters","apis","onShowConfirm","detailColumn","item","detail","staticRenderFns","name","data","selectedRowKeys","page","pageSize","props","resource","type","Object","default","tab","String","watch","newValue","fetchData","keys","length","created","mounted","methods","params","accountid","listSslResponse","onDelete","row","setTimeout","jsonResponse","success","$confirm","title","okText","okType","cancelText","onOk","self","component"],"mappings":"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","file":"js/chunk-8eb9f16e.9e9be41d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SSLCertificateTab.vue?vue&type=style&index=0&id=f1c5c5ba&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SSLCertificateTab.vue?vue&type=style&index=0&id=f1c5c5ba&scoped=true&lang=css&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-row',{attrs:{\"gutter\":12}},[_c('a-col',{attrs:{\"md\":24,\"lg\":24}},[(!_vm.quickview)?_c('a-table',{attrs:{\"size\":\"small\",\"loading\":_vm.loading,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"rowKey\":function (record) { return record.id; },\"pagination\":false},scopedSlots:_vm._u([{key:\"action\",fn:function(text, record){return _c('span',{staticClass:\"cert-button-action\"},[_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.quickview'))+\" \")]),_c('a-button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"eye\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onQuickView(record.id)}}})],2),_c('a-tooltip',{attrs:{\"placement\":\"top\"}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.delete.sslcertificate'))+\" \")]),_c('a-button',{attrs:{\"disabled\":!('deleteSslCert' in _vm.$store.getters.apis),\"type\":\"danger\",\"shape\":\"circle\",\"icon\":\"delete\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onShowConfirm(record)}}})],2)],1)}}],null,false,3870302320)}):_vm._e(),(_vm.quickview)?_c('a-list',{attrs:{\"size\":\"small\",\"dataSource\":_vm.detailColumn},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item){return (item in _vm.detail)?_c('a-list-item',{},[_c('div',[_c('strong',[_vm._v(_vm._s(_vm.$t(item)))]),_c('br'),_c('div',{staticClass:\"list-item-content\"},[_vm._v(\" \"+_vm._s(_vm.detail[item])+\" \")])])]):_vm._e()}}],null,true)},[_c('div',{staticClass:\"close-quickview\"},[_c('a-button',{on:{\"click\":function () { this$1.quickview = false }}},[_vm._v(_vm._s(_vm.$t('label.close')))])],1)]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-row :gutter=\"12\">\n      <a-col :md=\"24\" :lg=\"24\">\n        <a-table\n          size=\"small\"\n          :loading=\"loading\"\n          :columns=\"columns\"\n          :dataSource=\"dataSource\"\n          :rowKey=\"record => record.id\"\n          :pagination=\"false\"\n          v-if=\"!quickview\"\n        >\n          <span slot=\"action\" slot-scope=\"text, record\" class=\"cert-button-action\">\n            <a-tooltip placement=\"top\">\n              <template slot=\"title\">\n                {{ $t('label.quickview') }}\n              </template>\n              <a-button type=\"primary\" shape=\"circle\" icon=\"eye\" size=\"small\" @click=\"onQuickView(record.id)\" />\n            </a-tooltip>\n            <a-tooltip placement=\"top\">\n              <template slot=\"title\">\n                {{ $t('label.delete.sslcertificate') }}\n              </template>\n              <a-button\n                :disabled=\"!('deleteSslCert' in $store.getters.apis)\"\n                type=\"danger\"\n                shape=\"circle\"\n                icon=\"delete\"\n                size=\"small\"\n                @click=\"onShowConfirm(record)\"/>\n            </a-tooltip>\n          </span>\n        </a-table>\n\n        <a-list size=\"small\" :dataSource=\"detailColumn\" v-if=\"quickview\">\n          <div class=\"close-quickview\">\n            <a-button @click=\"() => { this.quickview = false }\">{{ $t('label.close') }}</a-button>\n          </div>\n          <a-list-item slot=\"renderItem\" slot-scope=\"item\" v-if=\"item in detail\">\n            <div>\n              <strong>{{ $t(item) }}</strong>\n              <br/>\n              <div class=\"list-item-content\">\n                {{ detail[item] }}\n              </div>\n            </div>\n          </a-list-item>\n        </a-list>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'SSLCertificate',\n  data () {\n    return {\n      columns: [],\n      dataSource: [],\n      selectedRowKeys: [],\n      detailColumn: [],\n      detail: [],\n      page: 1,\n      pageSize: 10,\n      quickview: false,\n      loading: false\n    }\n  },\n  props: {\n    resource: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    tab: {\n      type: String,\n      default () {\n        return ''\n      }\n    }\n  },\n  watch: {\n    tab (newValue, oldValue) {\n      if (newValue === 'certificate') {\n        this.quickview = false\n        this.fetchData()\n      }\n    },\n    resource (newValue, oldValue) {\n      if (Object.keys(newValue).length > 0 &&\n        newValue.id &&\n        this.tab === 'certificate'\n      ) {\n        this.quickview = false\n        this.fetchData()\n      }\n    }\n  },\n  created () {\n    this.columns = [\n      {\n        title: this.$t('label.name'),\n        dataIndex: 'name',\n        scopedSlots: { customRender: 'name' }\n      },\n      {\n        title: this.$t('label.certificateid'),\n        dataIndex: 'id',\n        width: 450,\n        scopedSlots: { customRender: 'id' }\n      },\n      {\n        title: this.$t('label.action'),\n        dataIndex: 'action',\n        fixed: 'right',\n        width: 80,\n        scopedSlots: { customRender: 'action' }\n      }\n    ]\n    this.detailColumn = ['name', 'certificate', 'certchain']\n  },\n  mounted () {\n    this.fetchData()\n  },\n  methods: {\n    fetchData () {\n      const params = {}\n      params.listAll = true\n      params.page = this.page\n      params.pageSize = this.pageSize\n      params.accountid = this.resource.id\n\n      this.loading = true\n\n      api('listSslCerts', params).then(json => {\n        const listSslResponse = json.listsslcertsresponse.sslcert\n\n        // check exists json response\n        if (!listSslResponse || Object.keys(listSslResponse).length === 0) {\n          this.dataSource = []\n          return\n        }\n\n        this.dataSource = listSslResponse\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    onQuickView (id) {\n      this.loading = true\n      const detail = this.dataSource.filter(item => item.id === id)\n      this.detail = detail[0]\n      this.quickview = true\n      this.loading = false\n    },\n    onDelete (row) {\n      const params = {}\n      params.id = row.id\n\n      // show loading\n      const message = `${this.$t('label.delete.certificate')} ${this.$t('label.in.progress.for')} ${row.name}`\n      const loading = this.$message.loading(message, 0)\n\n      api('deleteSslCert', params).then(json => {\n        const jsonResponse = json.deletesslcertresponse\n\n        // hide loading\n        setTimeout(loading)\n\n        if (jsonResponse.success) {\n          this.$message.success(this.$t('message.success.delete'), 3)\n          this.fetchData()\n        } else {\n          this.$message.error(this.$t('message.delete.failed'), 3)\n        }\n      }).catch(error => {\n        // hide loading\n        setTimeout(loading)\n\n        // show error\n        this.$notifyError(error)\n      })\n    },\n    onShowConfirm (row) {\n      const self = this\n      const title = `${this.$t('label.deleteconfirm')} ${this.$t('label.certificate')}`\n\n      this.$confirm({\n        title: title,\n        okText: this.$t('label.ok'),\n        okType: 'danger',\n        cancelText: this.$t('label.cancel'),\n        onOk () {\n          self.onDelete(row)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/deep/.ant-table-fixed-right {\n  z-index: 5;\n}\n\n.cert-button-action button {\n  margin-right: 5px;\n}\n\n.list-item-content {\n  word-break: break-word;\n}\n\n.close-quickview {\n  text-align: right;\n  margin-top: 12px;\n  line-height: 32px;\n  height: 32px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SSLCertificateTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SSLCertificateTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SSLCertificateTab.vue?vue&type=template&id=f1c5c5ba&scoped=true&\"\nimport script from \"./SSLCertificateTab.vue?vue&type=script&lang=js&\"\nexport * from \"./SSLCertificateTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SSLCertificateTab.vue?vue&type=style&index=0&id=f1c5c5ba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1c5c5ba\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}