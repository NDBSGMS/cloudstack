(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c240503"],{"136d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-layout"},[a("a-spin",{attrs:{spinning:e.loading}},[a("a-form",{attrs:{form:e.form,loading:e.loading,layout:"vertical"},on:{submit:e.handleSubmit}},[a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.traffictype"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.id.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{initialValue:e.selectedType,rules:[{required:!0,message:e.$t("message.error.select")}]}],expression:"['id', {\n            initialValue: selectedType,\n            rules: [{ required: true, message: $t('message.error.select') }] }]"}],attrs:{loading:e.typeLoading,placeholder:e.apiParams.id.description},on:{change:e.onChangeTrafficType}},e._l(e.trafficTypes,(function(t){return a("a-select-option",{key:t.id},[e._v(" "+e._s(t.traffictype)+" ")])})),1)],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.kvmnetworklabel"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.kvmnetworklabel.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["kvmnetworklabel",{initialValue:e.trafficResource.kvmnetworklabel}],expression:"['kvmnetworklabel', {\n            initialValue: trafficResource.kvmnetworklabel\n          }]"}],attrs:{placeholder:e.$t("label.network.label.display.for.blank.value")}})],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.vmwarenetworklabel"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.vmwarenetworklabel.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["vmwarenetworklabel",{initialValue:e.trafficResource.vmwarenetworklabel}],expression:"['vmwarenetworklabel', {\n            initialValue: trafficResource.vmwarenetworklabel\n          }]"}],attrs:{placeholder:e.$t("label.network.label.display.for.blank.value")}})],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.xennetworklabel"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.xennetworklabel.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["xennetworklabel",{initialValue:e.trafficResource.xennetworklabel}],expression:"['xennetworklabel', {\n            initialValue: trafficResource.xennetworklabel\n          }]"}],attrs:{placeholder:e.$t("label.network.label.display.for.blank.value")}})],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.hypervnetworklabel"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.hypervnetworklabel.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hypervnetworklabel",{initialValue:e.trafficResource.hypervnetworklabel}],expression:"['hypervnetworklabel', {\n            initialValue: trafficResource.hypervnetworklabel\n          }]"}],attrs:{placeholder:e.$t("label.network.label.display.for.blank.value")}})],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.ovm3networklabel"))+" "),a("a-tooltip",{attrs:{title:e.apiParams.ovm3networklabel.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ovm3networklabel",{initialValue:e.trafficResource.ovm3networklabel}],expression:"['ovm3networklabel', {\n            initialValue: trafficResource.ovm3networklabel\n          }]"}],attrs:{placeholder:e.$t("label.network.label.display.for.blank.value")}})],1),a("div",{staticClass:"action-button",attrs:{span:24}},[a("a-button",{on:{click:e.closeAction}},[e._v(e._s(e.$t("label.cancel")))]),a("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("label.ok")))])],1)],1)],1)],1)},i=[],l=(a("99af"),a("4de4"),a("4160"),a("b0c0"),a("d3b7"),a("159b"),a("365c")),o={name:"EditTrafficLabel",props:{resource:{type:Object,default:function(){}}},data:function(){return{loading:!1,selectedType:void 0,typeLoading:!1,traffictype:null,trafficTypes:[],trafficResource:{}}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this),this.apiConfig=this.$store.getters.apis.updateTrafficType||{},this.apiParams={},this.apiConfig.params&&this.apiConfig.params.forEach((function(t){e.apiParams[t.name]=t}))},inject:["parentFetchData"],mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.typeLoading=!0,Object(l["a"])("listTrafficTypes",{physicalnetworkid:this.resource.id}).then((function(t){e.trafficTypes=t.listtraffictypesresponse.traffictype||[],e.selectedType=e.trafficTypes[0].id||void 0,e.trafficResource=e.trafficTypes[0]||{},e.traffictype=e.trafficTypes[0].traffictype||void 0})).catch((function(t){e.$notification.error({message:"".concat(e.$t("label.error")," ").concat(t.response.status),description:t.response.data.errorresponse.errortext})})).finally((function(){e.typeLoading=!1}))},onChangeTrafficType:function(e){e&&(this.trafficResource=this.trafficTypes.filter((function(t){return t.id===e}))[0]||{},this.traffictype=this.trafficResource.traffictype||void 0)},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){t.loading=!0;var r={};for(var i in a)r[i]=a[i];var o=t.$t("label.update.traffic.label"),n=t.traffictype;Object(l["a"])("updateTrafficType",r).then((function(e){t.$pollJob({jobId:e.updatetraffictyperesponse.jobid,successMethod:function(a){t.$store.dispatch("AddAsyncJob",{title:o,description:n,jobid:e.updatetraffictyperesponse.jobid,status:t.$t("progress")}),t.parentFetchData()},successMessage:"".concat(t.$t("label.update.traffic.label")," ").concat(t.traffictype," ").concat(t.$t("label.success")),loadingMessage:"".concat(o," ").concat(t.$t("label.in.progress")),catchMessage:t.$t("error.fetching.async.job.result")})})).catch((function(e){t.$notifyError(e)})).finally((function(){t.loading=!1,t.closeAction()}))}}))},closeAction:function(){this.$emit("close-action")}}},n=o,s=(a("f0c3"),a("2877")),c=Object(s["a"])(n,r,i,!1,null,"8af59af4",null);t["default"]=c.exports},ec17:function(e,t,a){},f0c3:function(e,t,a){"use strict";var r=a("ec17"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-1c240503.0d4c5769.js.map