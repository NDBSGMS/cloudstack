(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0407f1b8"],{af0d:function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form-layout"},[t("a-form",{attrs:{form:e.form,layout:"vertical"}},["ROOT"!==e.resource.type?t("a-form-item",{attrs:{label:e.$t("label.diskoffering")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskofferingid",{initialValue:e.selectedDiskOfferingId,rules:[{required:!0,message:""+this.$t("message.error.select")}]}],expression:"['diskofferingid', {\n          initialValue: selectedDiskOfferingId,\n          rules: [{ required: true, message: `${this.$t('message.error.select')}` }]}]"}],attrs:{loading:e.loading,placeholder:e.$t("label.diskoffering")},on:{change:function(s){return e.customDiskOffering=e.offerings.filter((function(e){return e.id===s}))[0].iscustomized||!1}}},e._l(e.offerings,(function(s,i){return t("a-select-option",{key:i,attrs:{value:s.id}},[e._v(e._s(s.displaytext||s.name))])})),1)],1):e._e(),e.customDiskOffering||"ROOT"===e.resource.type?t("div",[t("a-form-item",{attrs:{label:e.$t("label.sizegb")}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["size",{rules:[{required:!0,message:e.$t("message.error.size")}]}],expression:"['size', {\n            rules: [{ required: true, message: $t('message.error.size') }]}]"}],attrs:{placeholder:e.$t("label.disksize")}})],1)],1):e._e(),t("a-form-item",{attrs:{label:e.$t("label.shrinkok")}},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["shrinkok"],expression:"['shrinkok']"}]})],1),t("div",{staticClass:"action-button",attrs:{span:24}},[t("a-button",{on:{click:e.closeModal}},[e._v(e._s(e.$t("label.cancel")))]),t("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("label.ok")))])],1)],1)],1)},r=[],o=(t("99af"),t("b0c0"),t("d3b7"),t("365c")),a={name:"ResizeVolume",props:{resource:{type:Object,required:!0}},data:function(){return{offerings:[],selectedDiskOfferingId:"",customDiskOffering:!1,loading:!1}},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.loading=!0,Object(o["a"])("listDiskOfferings",{zoneid:this.resource.zoneid,listall:!0}).then((function(s){e.offerings=s.listdiskofferingsresponse.diskoffering||[],e.selectedDiskOfferingId=e.offerings[0].id||"",e.customDiskOffering=e.offerings[0].iscustomized||!1})).finally((function(){e.loading=!1}))},handleSubmit:function(e){var s=this;this.form.validateFields((function(e,t){e||(s.loading=!0,t.id=s.resource.id,Object(o["a"])("resizeVolume",t).then((function(e){s.$pollJob({jobId:e.resizevolumeresponse.jobid,successMessage:s.$t("message.success.resize.volume"),successMethod:function(){s.$store.dispatch("AddAsyncJob",{title:s.$t("message.success.resize.volume"),jobid:e.resizevolumeresponse.jobid,description:t.name,status:"progress"})},errorMessage:s.$t("message.resize.volume.failed"),errorMethod:function(){s.closeModal()},loadingMessage:"Volume resize is in progress",catchMessage:s.$t("error.fetching.async.job.result"),catchMethod:function(){s.loading=!1,s.closeModal()}}),s.closeModal()})).catch((function(e){s.$notification.error({message:"".concat(s.$t("label.error")," ").concat(e.response.status),description:e.response.data.errorresponse.errortext,duration:0})})).finally((function(){s.loading=!1})))}))},closeModal:function(){this.$emit("refresh-data"),this.$emit("close-action")}}},n=a,c=(t("b6b3"),t("2877")),l=Object(c["a"])(n,i,r,!1,null,"3d573c30",null);s["default"]=l.exports},b6b3:function(e,s,t){"use strict";var i=t("b704"),r=t.n(i);r.a},b704:function(e,s,t){}}]);
//# sourceMappingURL=chunk-0407f1b8.4cf30989.js.map