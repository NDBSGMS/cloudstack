{"version":3,"sources":["webpack:///./src/views/iam/DomainView.vue?1fca","webpack:///./src/components/view/TreeView.vue?8667","webpack:///./src/views/iam/DomainView.vue?99fa","webpack:///./src/components/view/TreeView.vue?a220","webpack:///src/components/view/TreeView.vue","webpack:///./src/components/view/TreeView.vue?28c9","webpack:///./src/components/view/TreeView.vue","webpack:///./src/views/iam/DomainActionForm.vue?b245","webpack:///src/views/iam/DomainActionForm.vue","webpack:///./src/views/iam/DomainActionForm.vue?239c","webpack:///./src/views/iam/DomainActionForm.vue","webpack:///src/views/iam/DomainView.vue","webpack:///./src/views/iam/DomainView.vue?9121","webpack:///./src/views/iam/DomainView.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","resource","slot","_v","_s","$t","loading","on","$event","fetchData","style","dataView","float","device","display","actions","selectedRowKeys","execAction","$route","meta","tabs","treeData","treeSelected","actionData","changeResource","showAction","action","_e","staticRenderFns","onSearch","model","value","callback","$$v","searchQuery","expression","loadingSearch","treeViewData","length","onLoadData","defaultSelected","arrExpand","onSelect","onExpand","detailLoading","name","onTabChange","_l","tab","checkShowTabDetail","key","component","tag","items","tabActive","components","ResourceLayout","ResourceView","props","type","Array","required","Object","default","DetailsTab","loadedKeys","Boolean","data","selectedTreeKey","treeVerticalData","oldTreeViewData","apiList","apiChildren","apiDetail","metaName","page","pageSize","showSetting","oldSearchQuery","rootKey","created","permission","watch","keys","resourceIndex","$el","querySelector","$emit","push","arrSelected","createResourceData","newData","reloadTreeData","methods","treeNode","eventKey","Promise","resolve","listAll","id","dataRef","children","dataGenerate","item","i","forEach","event","selected","selectedKeys","getDetailResource","setTimeout","treeExpand","newTreeData","params","keyword","$store","getters","userInfo","domainid","listDomains","objData","isDel","filter","jsonResponse","resourceExists","title","indexOf","haschild","recursiveTreeData","selectedKey","getResponseJsonData","includes","res","hasJobId","responseName","objectName","json","show","store","prototype","hasOwnProperty","call","generateTreeData","jsonData","$set","slots","icon","getNestedChildren","maxLevel","level","dataItems","arrKeys","parentKey","handleSubmit","parentCloseAction","label","form","field","fieldIndex","mapping","description","directives","rawName","rules","message","options","opt","optIndex","input","option","componentOptions","text","toLowerCase","traffictype","publicip","beforeCreate","$form","createForm","mounted","fillEditFormFieldValues","inject","pollActionCompletion","$pollJob","jobId","successMethod","response","duration","errorMethod","loadingMessage","catchMessage","e","preventDefault","validateFields","err","obj","jobid","status","paramFields","map","fieldName","replace","fieldValue","getFieldDecorator","Breadcrumb","ActionButton","TreeView","DomainActionForm","mixins","mixin","computed","beforeRouteUpdate","next","beforeRouteLeave","to","fullPath","from","provide","closeAction","parentUpdActionData","updateActionData","parentFetchData","error","headers","sort","a","b","args","arg","param","listUuidOpts","api","possibleApi","customParams","apiName","opts","rootItem","isLeaf","result"],"mappings":"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","file":"js/chunk-c5dd2134.a3f670d2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainView.vue?vue&type=style&index=0&id=15b746d8&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainView.vue?vue&type=style&index=0&id=15b746d8&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=style&index=0&id=f49b3a86&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=style&index=0&id=f49b3a86&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-card',{staticClass:\"breadcrumb-card\"},[_c('a-row',[_c('a-col',{staticStyle:{\"padding-left\":\"6px\"},attrs:{\"span\":14}},[_c('breadcrumb',{attrs:{\"resource\":_vm.resource}},[_c('span',{attrs:{\"slot\":\"end\"},slot:\"end\"},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.refresh'))+\" \")]),_c('a-button',{staticStyle:{\"margin-top\":\"4px\"},attrs:{\"loading\":_vm.loading,\"shape\":\"round\",\"size\":\"small\",\"icon\":\"reload\"},on:{\"click\":function($event){return _vm.fetchData()}}},[_vm._v(\" \"+_vm._s(_vm.$t('label.refresh'))+\" \")])],2)])],1),_c('a-col',{attrs:{\"span\":10}},[_c('span',{staticStyle:{\"float\":\"right\"}},[_c('action-button',{style:(_vm.dataView ? { float: _vm.device === 'mobile' ? 'left' : 'right' } : { 'margin-right': '10px', display: 'inline-flex' }),attrs:{\"loading\":_vm.loading,\"actions\":_vm.actions,\"selectedRowKeys\":_vm.selectedRowKeys,\"dataView\":_vm.dataView,\"resource\":_vm.resource},on:{\"exec-action\":_vm.execAction}})],1)])],1)],1),_c('div',{staticClass:\"row-element\"},[(_vm.dataView)?_c('resource-view',{attrs:{\"resource\":_vm.resource,\"loading\":_vm.loading,\"tabs\":_vm.$route.meta.tabs}}):_c('tree-view',{attrs:{\"treeData\":_vm.treeData,\"treeSelected\":_vm.treeSelected,\"loading\":_vm.loading,\"tabs\":_vm.$route.meta.tabs,\"actionData\":_vm.actionData},on:{\"change-resource\":_vm.changeResource}})],1),(_vm.showAction)?_c('div',[_c('domain-action-form',{attrs:{\"showAction\":_vm.showAction,\"resource\":_vm.resource,\"action\":_vm.action}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('resource-layout',[_c('a-spin',{attrs:{\"slot\":\"left\",\"spinning\":_vm.loading},slot:\"left\"},[_c('a-card',{attrs:{\"bordered\":false}},[_c('a-input-search',{attrs:{\"size\":\"default\",\"placeholder\":_vm.$t('label.search')},on:{\"search\":_vm.onSearch},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}},[_c('a-icon',{attrs:{\"slot\":\"prefix\",\"type\":\"search\"},slot:\"prefix\"})],1),_c('a-spin',{attrs:{\"spinning\":_vm.loadingSearch}},[(_vm.treeViewData.length > 0)?_c('a-tree',{staticClass:\"list-tree-view\",attrs:{\"showLine\":\"\",\"treeData\":_vm.treeViewData,\"loadData\":_vm.onLoadData,\"expandAction\":false,\"showIcon\":true,\"defaultSelectedKeys\":_vm.defaultSelected,\"checkStrictly\":true,\"defaultExpandedKeys\":_vm.arrExpand},on:{\"select\":_vm.onSelect,\"expand\":_vm.onExpand}},[_c('a-icon',{attrs:{\"slot\":\"parent\",\"type\":\"folder\"},slot:\"parent\"}),_c('a-icon',{attrs:{\"slot\":\"leaf\",\"type\":\"block\"},slot:\"leaf\"})],1):_vm._e()],1)],1)],1),_c('a-spin',{attrs:{\"slot\":\"right\",\"spinning\":_vm.detailLoading},slot:\"right\"},[_c('a-card',{staticClass:\"spin-content\",staticStyle:{\"width\":\"100%\"},attrs:{\"bordered\":true}},[_c('a-tabs',{staticStyle:{\"width\":\"100%\"},attrs:{\"animated\":false,\"defaultActiveKey\":_vm.tabs[0].name},on:{\"change\":_vm.onTabChange}},_vm._l((_vm.tabs),function(tab){return (_vm.checkShowTabDetail(tab))?_c('a-tab-pane',{key:tab.name,attrs:{\"tab\":_vm.$t('label.' + tab.name)}},[_c(tab.component,{tag:\"component\",attrs:{\"resource\":_vm.resource,\"items\":_vm.items,\"tab\":_vm.tabActive,\"loading\":_vm.loading,\"bordered\":false}})],1):_vm._e()}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <resource-layout>\n    <a-spin :spinning=\"loading\" slot=\"left\">\n      <a-card :bordered=\"false\">\n        <a-input-search\n          size=\"default\"\n          :placeholder=\"$t('label.search')\"\n          v-model=\"searchQuery\"\n          @search=\"onSearch\"\n        >\n          <a-icon slot=\"prefix\" type=\"search\" />\n        </a-input-search>\n        <a-spin :spinning=\"loadingSearch\">\n          <a-tree\n            showLine\n            v-if=\"treeViewData.length > 0\"\n            class=\"list-tree-view\"\n            :treeData=\"treeViewData\"\n            :loadData=\"onLoadData\"\n            :expandAction=\"false\"\n            :showIcon=\"true\"\n            :defaultSelectedKeys=\"defaultSelected\"\n            :checkStrictly=\"true\"\n            @select=\"onSelect\"\n            @expand=\"onExpand\"\n            :defaultExpandedKeys=\"arrExpand\">\n            <a-icon slot=\"parent\" type=\"folder\" />\n            <a-icon slot=\"leaf\" type=\"block\" />\n          </a-tree>\n        </a-spin>\n      </a-card>\n    </a-spin>\n    <a-spin :spinning=\"detailLoading\" slot=\"right\">\n      <a-card\n        class=\"spin-content\"\n        :bordered=\"true\"\n        style=\"width:100%\">\n        <a-tabs\n          style=\"width: 100%\"\n          :animated=\"false\"\n          :defaultActiveKey=\"tabs[0].name\"\n          @change=\"onTabChange\" >\n          <a-tab-pane\n            v-for=\"tab in tabs\"\n            :tab=\"$t('label.' + tab.name)\"\n            :key=\"tab.name\"\n            v-if=\"checkShowTabDetail(tab)\">\n            <component\n              :is=\"tab.component\"\n              :resource=\"resource\"\n              :items=\"items\"\n              :tab=\"tabActive\"\n              :loading=\"loading\"\n              :bordered=\"false\" />\n          </a-tab-pane>\n        </a-tabs>\n      </a-card>\n    </a-spin>\n  </resource-layout>\n</template>\n\n<script>\nimport store from '@/store'\nimport { api } from '@/api'\nimport DetailsTab from '@/components/view/DetailsTab'\nimport ResourceView from '@/components/view/ResourceView'\nimport ResourceLayout from '@/layouts/ResourceLayout'\n\nexport default {\n  name: 'TreeView',\n  components: {\n    ResourceLayout,\n    ResourceView\n  },\n  props: {\n    treeData: {\n      type: Array,\n      required: true\n    },\n    treeSelected: {\n      type: Object,\n      required: true\n    },\n    tabs: {\n      type: Array,\n      default () {\n        return [{\n          name: 'details',\n          component: DetailsTab\n        }]\n      }\n    },\n    loadedKeys: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    actionData: {\n      type: Array,\n      default () {\n        return []\n      }\n    }\n  },\n  data () {\n    return {\n      detailLoading: false,\n      loadingSearch: false,\n      tabActive: 'details',\n      selectedTreeKey: '',\n      resource: {},\n      defaultSelected: [],\n      treeVerticalData: [],\n      treeViewData: [],\n      oldTreeViewData: [],\n      apiList: '',\n      apiChildren: '',\n      apiDetail: '',\n      metaName: '',\n      page: 1,\n      pageSize: 20,\n      items: [],\n      showSetting: false,\n      oldSearchQuery: '',\n      searchQuery: '',\n      arrExpand: [],\n      rootKey: ''\n    }\n  },\n  created: function () {\n    this.metaName = this.$route.meta.name\n    this.apiList = this.$route.meta.permission[0] ? this.$route.meta.permission[0] : ''\n    this.apiChildren = this.$route.meta.permission[1] ? this.$route.meta.permission[1] : ''\n  },\n  watch: {\n    loading () {\n      this.detailLoading = this.loading\n    },\n    treeData () {\n      if (this.oldTreeViewData.length === 0) {\n        this.treeViewData = this.treeData\n        this.treeVerticalData = this.treeData\n      }\n\n      if (this.treeViewData.length > 0) {\n        this.oldTreeViewData = this.treeViewData\n        this.rootKey = this.treeViewData[0].key\n      }\n\n      if (Object.keys(this.resource).length > 0) {\n        const resourceIndex = this.treeVerticalData.findIndex(item => item.id === this.resource.id)\n        if (resourceIndex === -1) {\n          this.$el.querySelector(`[title=${this.resource.parentdomainname}]`).click()\n        }\n      }\n    },\n    treeSelected () {\n      if (Object.keys(this.treeSelected).length === 0) {\n        return\n      }\n\n      if (Object.keys(this.resource).length > 0) {\n        this.selectedTreeKey = this.resource.key\n        this.$emit('change-resource', this.resource)\n\n        // set default expand\n        if (this.defaultSelected.length > 1) {\n          const arrSelected = this.defaultSelected\n          this.defaultSelected = []\n          this.defaultSelected.push(arrSelected[0])\n        }\n\n        return\n      }\n\n      this.resource = this.treeSelected\n      this.resource = this.createResourceData(this.resource)\n      this.selectedTreeKey = this.treeSelected.key\n      this.defaultSelected.push(this.selectedTreeKey)\n\n      // set default expand\n      if (this.defaultSelected.length > 1) {\n        const arrSelected = this.defaultSelected\n        this.defaultSelected = []\n        this.defaultSelected.push(arrSelected[0])\n      }\n    },\n    actionData (newData, oldData) {\n      if (!newData || newData.length === 0) {\n        return\n      }\n\n      this.reloadTreeData(newData)\n    }\n  },\n  methods: {\n    onLoadData (treeNode) {\n      if (this.searchQuery !== '' && treeNode.eventKey !== this.rootKey) {\n        return new Promise(resolve => {\n          resolve()\n        })\n      }\n\n      const params = {\n        listAll: true,\n        id: treeNode.eventKey\n      }\n\n      return new Promise(resolve => {\n        api(this.apiChildren, params).then(json => {\n          const dataResponse = this.getResponseJsonData(json)\n          const dataGenerate = this.generateTreeData(dataResponse)\n          treeNode.dataRef.children = dataGenerate\n\n          if (this.treeVerticalData.length === 0) {\n            this.treeVerticalData = this.treeViewData\n          }\n\n          this.treeViewData = [...this.treeViewData]\n          this.oldTreeViewData = this.treeViewData\n\n          for (let i = 0; i < dataGenerate.length; i++) {\n            const resource = this.treeVerticalData.filter(item => item.id === dataGenerate[i].id)\n\n            if (!resource || resource.length === 0) {\n              this.treeVerticalData.push(dataGenerate[i])\n            } else {\n              this.treeVerticalData.filter((item, index) => {\n                if (item.id === dataGenerate[i].id) {\n                  // replace all value of tree data\n                  Object.keys(dataGenerate[i]).forEach((value, idx) => {\n                    this.$set(this.treeVerticalData[index], value, dataGenerate[i][value])\n                  })\n                }\n              })\n            }\n          }\n\n          resolve()\n        })\n      })\n    },\n    onSelect (selectedKeys, event) {\n      if (!event.selected) {\n        setTimeout(() => { event.node.$refs.selectHandle.click() })\n        return\n      }\n\n      // check item tree selected, set selectedTreeKey\n      if (selectedKeys && selectedKeys[0]) {\n        this.selectedTreeKey = selectedKeys[0]\n      }\n\n      this.getDetailResource(this.selectedTreeKey)\n    },\n    onExpand (treeExpand) {\n      this.arrExpand = treeExpand\n    },\n    onSearch (value) {\n      if (this.searchQuery === '' && this.oldSearchQuery === '') {\n        return\n      }\n\n      this.searchQuery = value\n      this.newTreeData = this.treeViewData\n      this.treeVerticalData = this.newTreeData\n\n      // set parameter for the request\n      const params = {}\n      params.listall = true\n\n      // Check the search query to set params and variables using reset data\n      if (this.searchQuery !== '') {\n        this.oldSearchQuery = this.searchQuery\n        params.keyword = this.searchQuery\n      } else if (this.metaName === 'domain') {\n        this.oldSearchQuery = ''\n        params.id = this.$store.getters.userInfo.domainid\n      }\n\n      this.arrExpand = []\n      this.treeViewData = []\n      this.loadingSearch = true\n\n      api(this.apiList, params).then(json => {\n        const listDomains = this.getResponseJsonData(json)\n        this.treeVerticalData = this.treeVerticalData.concat(listDomains)\n\n        if (!listDomains || listDomains.length === 0) {\n          return\n        }\n\n        if (listDomains[0].id === this.rootKey) {\n          const rootDomain = this.generateTreeData(listDomains)\n          this.treeViewData = rootDomain\n          this.defaultSelected = []\n          this.defaultSelected.push(this.treeViewData[0].key)\n          this.resource = this.treeViewData[0]\n          this.$emit('change-resource', this.resource)\n\n          return\n        }\n\n        this.recursiveTreeData(listDomains)\n\n        if (this.treeViewData && this.treeViewData[0]) {\n          this.defaultSelected = []\n          this.defaultSelected.push(this.treeViewData[0].key)\n          this.resource = this.treeViewData[0]\n          this.$emit('change-resource', this.resource)\n        }\n\n        // check treeViewData, set to expand first children\n        if (this.treeViewData &&\n            this.treeViewData[0] &&\n            this.treeViewData[0].children &&\n            this.treeViewData[0].children.length > 0\n        ) {\n          this.arrExpand.push(this.treeViewData[0].children[0].key)\n        }\n      }).finally(() => {\n        this.loadingSearch = false\n      })\n    },\n    onTabChange (key) {\n      this.tabActive = key\n    },\n    reloadTreeData (objData) {\n      if (objData && objData[0].isDel) {\n        this.treeVerticalData = this.treeVerticalData.filter(item => item.id !== objData[0].id)\n        this.treeVerticalData = this.treeVerticalData.filter(item => item.parentdomainid !== objData[0].id)\n      } else {\n        // data response from action\n        let jsonResponse = this.getResponseJsonData(objData[0])\n        jsonResponse = this.createResourceData(jsonResponse)\n\n        // resource for check create or edit\n        const resource = this.treeVerticalData.filter(item => item.id === jsonResponse.id)\n\n        // when edit\n        if (resource && resource[0]) {\n          this.treeVerticalData.filter((item, index) => {\n            if (item.id === jsonResponse.id) {\n              // replace all value of tree data\n              Object.keys(jsonResponse).forEach((value, idx) => {\n                this.$set(this.treeVerticalData[index], value, jsonResponse[value])\n              })\n            }\n          })\n        } else {\n          // when create\n          let resourceExists = true\n\n          // check is searching data\n          if (this.searchQuery !== '') {\n            resourceExists = jsonResponse.title.indexOf(this.searchQuery) > -1\n          }\n\n          // push new resource to tree data\n          if (this.resource.haschild && resourceExists) {\n            this.treeVerticalData.push(jsonResponse)\n          }\n\n          // set resource is currently active as a parent\n          this.treeVerticalData.filter((item, index) => {\n            if (item.id === this.resource.id) {\n              this.$set(this.treeVerticalData[index], 'isLeaf', false)\n              this.$set(this.treeVerticalData[index], 'haschild', true)\n            }\n          })\n        }\n      }\n      this.recursiveTreeData(this.treeVerticalData)\n    },\n    getDetailResource (selectedKey) {\n      // set api name and parameter\n      const apiName = this.$route.meta.permission[0]\n      const params = {}\n\n      // set id to parameter\n      params.id = selectedKey\n      params.listAll = true\n      params.page = 1\n      params.pageSize = 1\n\n      this.detailLoading = true\n\n      api(apiName, params).then(json => {\n        const jsonResponse = this.getResponseJsonData(json)\n\n        // check json response is empty\n        if (!jsonResponse || jsonResponse.length === 0) {\n          this.resource = []\n        } else {\n          this.resource = jsonResponse[0]\n          this.resource = this.createResourceData(this.resource)\n          // set all value of resource tree data\n          this.treeVerticalData.filter((item, index) => {\n            if (item.id === this.resource.id) {\n              this.treeVerticalData[index] = this.resource\n            }\n          })\n        }\n\n        // emit change resource to parent\n        this.$emit('change-resource', this.resource)\n      }).finally(() => {\n        this.detailLoading = false\n      })\n    },\n    getResponseJsonData (json) {\n      let responseName\n      let objectName\n      let hasJobId = false\n      for (const key in json) {\n        if (key.includes('response')) {\n          for (const res in json[key]) {\n            if (res === 'jobid') {\n              hasJobId = true\n              break\n            }\n          }\n          responseName = key\n          break\n        }\n      }\n\n      for (const key in json[responseName]) {\n        if (key === 'count') {\n          continue\n        }\n\n        objectName = key\n        break\n      }\n      if (hasJobId) {\n        return {}\n      }\n      return json[responseName][objectName]\n    },\n    checkShowTabDetail (tab) {\n      if ('show' in tab) {\n        return tab.show(this.resource, this.$route, store.getters.userInfo)\n      }\n      // get permission from the route\n      const permission = tab.permission ? tab.permission[0] : ''\n\n      // check permission not exists\n      if (!permission || permission === '') {\n        return true\n      }\n\n      // Check the permissions to see the tab for a user\n      if (!Object.prototype.hasOwnProperty.call(store.getters.apis, permission)) {\n        return false\n      }\n\n      return true\n    },\n    generateTreeData (jsonData) {\n      if (!jsonData || jsonData.length === 0) {\n        return []\n      }\n\n      for (let i = 0; i < jsonData.length; i++) {\n        jsonData[i] = this.createResourceData(jsonData[i])\n      }\n\n      return jsonData\n    },\n    createResourceData (resource) {\n      if (!resource || Object.keys(resource) === 0) {\n        return {}\n      }\n\n      Object.keys(resource).forEach((value, idx) => {\n        if (resource[value] === 'Unlimited') {\n          this.$set(resource, value, '-1')\n        }\n      })\n      this.$set(resource, 'title', resource.name)\n      this.$set(resource, 'key', resource.id)\n      resource.slots = {\n        icon: 'parent'\n      }\n\n      if (!resource.haschild) {\n        this.$set(resource, 'isLeaf', true)\n        resource.slots = {\n          icon: 'leaf'\n        }\n      }\n\n      return resource\n    },\n    recursiveTreeData (treeData) {\n      const maxLevel = Math.max.apply(Math, treeData.map((o) => { return o.level }))\n      const items = treeData.filter(item => item.level <= maxLevel)\n      this.treeViewData = this.getNestedChildren(items, 0, maxLevel)\n      this.oldTreeViewData = this.treeViewData\n    },\n    getNestedChildren (dataItems, level, maxLevel, id) {\n      if (level > maxLevel) {\n        return\n      }\n\n      let items = []\n\n      if (!id || id === '') {\n        items = dataItems.filter(item => item.level === level)\n      } else {\n        items = dataItems.filter(item => {\n          let parentKey = ''\n          const arrKeys = Object.keys(item)\n          for (let i = 0; i < arrKeys.length; i++) {\n            if (arrKeys[i].indexOf('parent') > -1 && arrKeys[i].indexOf('id') > -1) {\n              parentKey = arrKeys[i]\n              break\n            }\n          }\n\n          return parentKey ? item[parentKey] === id : item.level === level\n        })\n      }\n\n      if (items.length === 0) {\n        return this.getNestedChildren(dataItems, (level + 1), maxLevel)\n      }\n\n      for (let i = 0; i < items.length; i++) {\n        items[i] = this.createResourceData(items[i])\n\n        if (items[i].haschild) {\n          items[i].children = this.getNestedChildren(dataItems, (level + 1), maxLevel, items[i].key)\n        }\n      }\n\n      return items\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.list-tree-view {\n  overflow-y: hidden;\n}\n/deep/.ant-tree.ant-tree-directory {\n  li.ant-tree-treenode-selected {\n    span.ant-tree-switcher {\n      color: rgba(0, 0, 0, 0.65);\n    }\n    span.ant-tree-node-content-wrapper.ant-tree-node-selected > span {\n      color: rgba(0, 0, 0, 0.65);\n      background-color: #bae7ff;\n    }\n    span.ant-tree-node-content-wrapper::before {\n      background: #ffffff;\n    }\n  }\n\n  .ant-tree-child-tree {\n    li.ant-tree-treenode-selected {\n      span.ant-tree-switcher {\n        color: rgba(0, 0, 0, 0.65);\n      }\n      span.ant-tree-node-content-wrapper::before {\n        background: #ffffff;\n      }\n    }\n  }\n}\n\n/deep/.ant-tree li span.ant-tree-switcher.ant-tree-switcher-noop {\n  display: none;\n}\n\n/deep/.ant-tree-node-content-wrapper-open > span:first-child,\n/deep/.ant-tree-node-content-wrapper-close > span:first-child {\n  display: none;\n}\n\n/deep/.ant-tree-icon__customize {\n  color: rgba(0, 0, 0, 0.45);\n  background: #fff;\n  padding-right: 5px;\n}\n\n/deep/.ant-tree li .ant-tree-node-content-wrapper {\n  padding-left: 0;\n  margin-left: 3px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeView.vue?vue&type=template&id=f49b3a86&scoped=true&\"\nimport script from \"./TreeView.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeView.vue?vue&type=style&index=0&id=f49b3a86&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f49b3a86\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{staticStyle:{\"top\":\"20px\"},attrs:{\"visible\":_vm.showAction,\"closable\":true,\"maskClosable\":false,\"okText\":_vm.$t('label.ok'),\"cancelText\":_vm.$t('label.cancel'),\"confirmLoading\":_vm.action.loading,\"centered\":\"\"},on:{\"ok\":_vm.handleSubmit,\"cancel\":_vm.parentCloseAction}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.action.label))+\" \")]),_c('a-spin',{attrs:{\"spinning\":_vm.action.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},_vm._l((_vm.action.paramFields),function(field,fieldIndex){return (!(_vm.action.mapping && field.name in _vm.action.mapping && _vm.action.mapping[field.name].value))?_c('a-form-item',{key:fieldIndex,attrs:{\"v-bind\":field.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.' + field.name))+\" \"),_c('a-tooltip',{attrs:{\"title\":field.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),(field.type==='boolean')?_c('span',[_c('a-switch',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: (\"\" + (_vm.$t('message.error.required.input'))) }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: `${$t('message.error.required.input')}` }]\\n              }]\"}],attrs:{\"placeholder\":field.description}})],1):(_vm.action.mapping && field.name in _vm.action.mapping && _vm.action.mapping[field.name].options)?_c('span',[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: _vm.$t('message.error.select') }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: $t('message.error.select') }]\\n              }]\"}],attrs:{\"loading\":field.loading,\"placeholder\":field.description}},_vm._l((_vm.action.mapping[field.name].options),function(opt,optIndex){return _c('a-select-option',{key:optIndex},[_vm._v(\" \"+_vm._s(opt)+\" \")])}),1)],1):(field.type==='uuid' || field.name==='account')?_c('span',[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: _vm.$t('message.error.select') }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: $t('message.error.select') }]\\n              }]\"}],attrs:{\"showSearch\":\"\",\"optionFilterProp\":\"children\",\"loading\":field.loading,\"placeholder\":field.description,\"filterOption\":function (input, option) {\n                return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n              }}},_vm._l((field.opts),function(opt,optIndex){return _c('a-select-option',{key:optIndex},[_vm._v(\" \"+_vm._s(opt.name || opt.description || opt.traffictype || opt.publicip)+\" \")])}),1)],1):(field.type==='list')?_c('span',[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: _vm.$t('message.error.select') }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: $t('message.error.select') }]\\n              }]\"}],attrs:{\"loading\":field.loading,\"mode\":\"multiple\",\"placeholder\":field.description}},_vm._l((field.opts),function(opt,optIndex){return _c('a-select-option',{key:optIndex},[_vm._v(\" \"+_vm._s(opt.name && opt.type ? opt.name + ' (' + opt.type + ')' : opt.name || opt.description)+\" \")])}),1)],1):(field.type==='long')?_c('span',[_c('a-input-number',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: (\"\" + (_vm.$t('message.validate.number'))) }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: `${$t('message.validate.number')}` }]\\n              }]\"}],attrs:{\"placeholder\":field.description}})],1):_c('span',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([field.name, {\n                rules: [{ required: field.required, message: _vm.$t('message.error.required.input') }]\n              }]),expression:\"[field.name, {\\n                rules: [{ required: field.required, message: $t('message.error.required.input') }]\\n              }]\"}],attrs:{\"placeholder\":field.description}})],1)]):_vm._e()}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-modal\n      :visible=\"showAction\"\n      :closable=\"true\"\n      :maskClosable=\"false\"\n      :okText=\"$t('label.ok')\"\n      :cancelText=\"$t('label.cancel')\"\n      style=\"top: 20px;\"\n      @ok=\"handleSubmit\"\n      @cancel=\"parentCloseAction\"\n      :confirmLoading=\"action.loading\"\n      centered\n    >\n      <span slot=\"title\">\n        {{ $t(action.label) }}\n      </span>\n      <a-spin :spinning=\"action.loading\">\n        <a-form\n          :form=\"form\"\n          @submit=\"handleSubmit\"\n          layout=\"vertical\" >\n          <a-form-item\n            v-for=\"(field, fieldIndex) in action.paramFields\"\n            :key=\"fieldIndex\"\n            :v-bind=\"field.name\"\n            v-if=\"!(action.mapping && field.name in action.mapping && action.mapping[field.name].value)\"\n          >\n            <span slot=\"label\">\n              {{ $t('label.' + field.name) }}\n              <a-tooltip :title=\"field.description\">\n                <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n              </a-tooltip>\n            </span>\n\n            <span v-if=\"field.type==='boolean'\">\n              <a-switch\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: `${$t('message.error.required.input')}` }]\n                }]\"\n                :placeholder=\"field.description\"\n              />\n            </span>\n            <span v-else-if=\"action.mapping && field.name in action.mapping && action.mapping[field.name].options\">\n              <a-select\n                :loading=\"field.loading\"\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: $t('message.error.select') }]\n                }]\"\n                :placeholder=\"field.description\"\n              >\n                <a-select-option v-for=\"(opt, optIndex) in action.mapping[field.name].options\" :key=\"optIndex\">\n                  {{ opt }}\n                </a-select-option>\n              </a-select>\n            </span>\n            <span\n              v-else-if=\"field.type==='uuid' || field.name==='account'\">\n              <a-select\n                showSearch\n                optionFilterProp=\"children\"\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: $t('message.error.select') }]\n                }]\"\n                :loading=\"field.loading\"\n                :placeholder=\"field.description\"\n                :filterOption=\"(input, option) => {\n                  return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                }\"\n              >\n                <a-select-option v-for=\"(opt, optIndex) in field.opts\" :key=\"optIndex\">\n                  {{ opt.name || opt.description || opt.traffictype || opt.publicip }}\n                </a-select-option>\n              </a-select>\n            </span>\n            <span v-else-if=\"field.type==='list'\">\n              <a-select\n                :loading=\"field.loading\"\n                mode=\"multiple\"\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: $t('message.error.select') }]\n                }]\"\n                :placeholder=\"field.description\"\n              >\n                <a-select-option v-for=\"(opt, optIndex) in field.opts\" :key=\"optIndex\">\n                  {{ opt.name && opt.type ? opt.name + ' (' + opt.type + ')' : opt.name || opt.description }}\n                </a-select-option>\n              </a-select>\n            </span>\n            <span v-else-if=\"field.type==='long'\">\n              <a-input-number\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: `${$t('message.validate.number')}` }]\n                }]\"\n                :placeholder=\"field.description\"\n              />\n            </span>\n            <span v-else>\n              <a-input\n                v-decorator=\"[field.name, {\n                  rules: [{ required: field.required, message: $t('message.error.required.input') }]\n                }]\"\n                :placeholder=\"field.description\" />\n            </span>\n          </a-form-item>\n        </a-form>\n      </a-spin>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'DomainActionForm',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    showAction: {\n      type: Boolean,\n      default: false\n    },\n    resource: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n  },\n  mounted () {\n    if (this.action.dataView && this.action.icon === 'edit') {\n      this.fillEditFormFieldValues()\n    }\n  },\n  inject: ['parentCloseAction', 'parentFetchData', 'parentUpdActionData'],\n  methods: {\n    pollActionCompletion (jobId, action) {\n      this.$pollJob({\n        jobId,\n        successMethod: result => {\n          if (this.action.api === 'deleteDomain') {\n            this.$set(this.resource, 'isDel', true)\n            this.parentUpdActionData(this.resource)\n          }\n          this.parentFetchData()\n          if (action.response) {\n            const description = action.response(result.jobresult)\n            if (description) {\n              this.$notification.info({\n                message: this.$t(action.label),\n                description: (<span domPropsInnerHTML={description}></span>),\n                duration: 0\n              })\n            }\n          }\n        },\n        errorMethod: () => this.parentFetchData(),\n        loadingMessage: `${this.$t(action.label)} ${this.$t('label.in.progress')} ${this.$t('label.for')} ${this.resource.name}`,\n        catchMessage: this.$t('error.fetching.async.job.result'),\n        action\n      })\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        this.action.loading = true\n        const params = {}\n        if ('id' in this.resource && this.action.params.map(i => { return i.name }).includes('id')) {\n          params.id = this.resource.id\n        }\n        for (const key in values) {\n          const input = values[key]\n          for (const param of this.action.params) {\n            if (param.name === key) {\n              if (input === undefined) {\n                if (param.type === 'boolean') {\n                  params[key] = false\n                }\n                break\n              }\n              if (this.action.mapping && key in this.action.mapping && this.action.mapping[key].options) {\n                params[key] = this.action.mapping[key].options[input]\n              } else if (param.type === 'uuid') {\n                params[key] = param.opts[input].id\n              } else if (param.type === 'list') {\n                params[key] = input.map(e => { return param.opts[e].id }).reduce((str, name) => { return str + ',' + name })\n              } else if (param.name === 'account') {\n                params[key] = param.opts[input].name\n              } else {\n                params[key] = input\n              }\n              break\n            }\n          }\n        }\n\n        for (const key in this.action.defaultArgs) {\n          if (!params[key]) {\n            params[key] = this.action.defaultArgs[key]\n          }\n        }\n\n        if (this.action.mapping) {\n          for (const key in this.action.mapping) {\n            if (!this.action.mapping[key].value) {\n              continue\n            }\n            params[key] = this.action.mapping[key].value(this.resource, params)\n          }\n        }\n\n        let hasJobId = false\n        api(this.action.api, params).then(json => {\n          for (const obj in json) {\n            if (obj.includes('response')) {\n              for (const res in json[obj]) {\n                if (res === 'jobid') {\n                  this.$store.dispatch('AddAsyncJob', {\n                    title: this.$t(this.action.label),\n                    jobid: json[obj][res],\n                    description: this.resource.name,\n                    status: 'progress'\n                  })\n                  this.pollActionCompletion(json[obj][res], this.action)\n                  hasJobId = true\n                  break\n                }\n              }\n              break\n            }\n          }\n          if (!hasJobId) {\n            this.parentUpdActionData(json)\n            this.parentFetchData()\n          }\n          this.parentCloseAction()\n        }).catch(error => {\n          this.$notification.error({\n            message: this.$t('message.request.failed'),\n            description: (error.response && error.response.headers && error.response.headers['x-description']) || error.message\n          })\n        }).finally(f => {\n          this.action.loading = false\n        })\n      })\n    },\n    fillEditFormFieldValues () {\n      const form = this.form\n      this.action.paramFields.map(field => {\n        let fieldName = null\n        if (field.type === 'uuid' ||\n          field.type === 'list' ||\n          field.name === 'account' ||\n          (this.action.mapping && field.name in this.action.mapping)) {\n          fieldName = field.name.replace('ids', 'name').replace('id', 'name')\n        } else {\n          fieldName = field.name\n        }\n        const fieldValue = this.resource[fieldName] ? this.resource[fieldName] : null\n        if (fieldValue) {\n          form.getFieldDecorator(field.name, { initialValue: fieldValue })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainActionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainActionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainActionForm.vue?vue&type=template&id=66792080&scoped=true&\"\nimport script from \"./DomainActionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainActionForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66792080\",\n  null\n  \n)\n\nexport default component.exports","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-card class=\"breadcrumb-card\">\n      <a-row>\n        <a-col :span=\"14\" style=\"padding-left: 6px\">\n          <breadcrumb :resource=\"resource\">\n            <span slot=\"end\">\n              <template slot=\"title\">\n                {{ $t('label.refresh') }}\n              </template>\n              <a-button\n                style=\"margin-top: 4px\"\n                :loading=\"loading\"\n                shape=\"round\"\n                size=\"small\"\n                icon=\"reload\"\n                @click=\"fetchData()\">\n                {{ $t('label.refresh') }}\n              </a-button>\n            </span>\n          </breadcrumb>\n        </a-col>\n        <a-col :span=\"10\">\n          <span style=\"float: right\">\n            <action-button\n              :style=\"dataView ? { float: device === 'mobile' ? 'left' : 'right' } : { 'margin-right': '10px', display: 'inline-flex' }\"\n              :loading=\"loading\"\n              :actions=\"actions\"\n              :selectedRowKeys=\"selectedRowKeys\"\n              :dataView=\"dataView\"\n              :resource=\"resource\"\n              @exec-action=\"execAction\"/>\n          </span>\n        </a-col>\n      </a-row>\n    </a-card>\n\n    <div class=\"row-element\">\n      <resource-view\n        v-if=\"dataView\"\n        :resource=\"resource\"\n        :loading=\"loading\"\n        :tabs=\"$route.meta.tabs\" />\n      <tree-view\n        v-else\n        :treeData=\"treeData\"\n        :treeSelected=\"treeSelected\"\n        :loading=\"loading\"\n        :tabs=\"$route.meta.tabs\"\n        @change-resource=\"changeResource\"\n        :actionData=\"actionData\"/>\n    </div>\n\n    <div v-if=\"showAction\">\n      <domain-action-form\n        :showAction=\"showAction\"\n        :resource=\"resource\"\n        :action=\"action\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\nimport store from '@/store'\nimport { mixinDevice } from '@/utils/mixin.js'\n\nimport Breadcrumb from '@/components/widgets/Breadcrumb'\nimport ActionButton from '@/components/view/ActionButton'\nimport TreeView from '@/components/view/TreeView'\nimport DomainActionForm from '@/views/iam/DomainActionForm'\nimport ResourceView from '@/components/view/ResourceView'\n\nexport default {\n  name: 'DomainView',\n  components: {\n    Breadcrumb,\n    ActionButton,\n    TreeView,\n    DomainActionForm,\n    ResourceView\n  },\n  mixins: [mixinDevice],\n  data () {\n    return {\n      resource: {},\n      loading: false,\n      selectedRowKeys: [],\n      treeData: [],\n      actionData: [],\n      treeSelected: {},\n      showAction: false,\n      action: {},\n      dataView: false\n    }\n  },\n  computed: {\n    actions () {\n      let actions = []\n      if (this.$route && this.$route.meta) {\n        if (this.$route.meta.actions) {\n          actions = this.$route.meta.actions\n        }\n      }\n      return actions\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n  },\n  mounted () {\n    this.fetchData()\n  },\n  beforeRouteUpdate (to, from, next) {\n    next()\n  },\n  beforeRouteLeave (to, from, next) {\n    next()\n  },\n  watch: {\n    '$route' (to, from) {\n      if (to.fullPath !== from.fullPath && !to.fullPath.includes('action/')) {\n        this.fetchData()\n      }\n    },\n    '$i18n.locale' (to, from) {\n      if (to !== from) {\n        this.fetchData()\n      }\n    }\n  },\n  provide () {\n    return {\n      parentCloseAction: this.closeAction,\n      parentUpdActionData: this.updateActionData,\n      parentFetchData: this.fetchData\n    }\n  },\n  methods: {\n    fetchData () {\n      this.treeData = []\n      this.treeSelected = {}\n      const params = { listall: true }\n      if (this.$route && this.$route.params && this.$route.params.id) {\n        this.resource = {}\n        this.dataView = true\n        params.id = this.$route.params.id\n      } else {\n        this.dataView = false\n        params.id = this.$store.getters.userInfo.domainid\n      }\n\n      this.loading = true\n\n      api('listDomains', params).then(json => {\n        const domains = json.listdomainsresponse.domain || []\n        this.treeData = this.generateTreeData(domains)\n        this.resource = domains[0] || {}\n        this.treeSelected = domains[0] || {}\n      }).catch(error => {\n        if ([401].includes(error.response.status)) {\n          return\n        }\n\n        this.$notification.error({\n          message: this.$t('message.request.failed'),\n          description: error.response.headers['x-description'],\n          duration: 0\n        })\n\n        if ([405].includes(error.response.status)) {\n          this.$router.push({ path: '/exception/403' })\n        }\n\n        if ([430, 431, 432].includes(error.response.status)) {\n          this.$router.push({ path: '/exception/404' })\n        }\n\n        if ([530, 531, 532, 533, 534, 535, 536, 537].includes(error.response.status)) {\n          this.$router.push({ path: '/exception/500' })\n        }\n      }).finally(f => {\n        this.loading = false\n      })\n    },\n    execAction (action) {\n      this.actionData = []\n      this.action = action\n      this.action.params = store.getters.apis[this.action.api].params\n      const paramFields = this.action.params\n      paramFields.sort(function (a, b) {\n        if (a.name === 'name' && b.name !== 'name') { return -1 }\n        if (a.name !== 'name' && b.name === 'name') { return -1 }\n        if (a.name === 'id') { return -1 }\n        if (a.name < b.name) { return -1 }\n        if (a.name > b.name) { return 1 }\n        return 0\n      })\n      this.action.paramFields = []\n      if (action.args) {\n        var args = action.args\n        if (typeof action.args === 'function') {\n          args = action.args(action.resource, this.$store.getters)\n        }\n        if (args.length > 0) {\n          this.action.paramFields = args.map(function (arg) {\n            return paramFields.filter(function (param) {\n              return param.name.toLowerCase() === arg.toLowerCase()\n            })[0]\n          })\n        }\n      }\n      this.showAction = true\n      for (const param of this.action.paramFields) {\n        if (param.type === 'list' && ['tags', 'hosttags'].includes(param.name)) {\n          param.type = 'string'\n        }\n        if (param.type === 'uuid' || param.type === 'list' || param.name === 'account' || (this.action.mapping && param.name in this.action.mapping)) {\n          this.listUuidOpts(param)\n        }\n      }\n      this.action.loading = false\n    },\n    listUuidOpts (param) {\n      if (this.action.mapping && param.name in this.action.mapping && !this.action.mapping[param.name].api) {\n        return\n      }\n      const paramName = param.name\n      const possibleName = 'list' + paramName.replace('ids', '').replace('id', '').toLowerCase() + 's'\n      let params = { listall: true }\n      let possibleApi\n      if (this.action.mapping && param.name in this.action.mapping && this.action.mapping[param.name].api) {\n        possibleApi = this.action.mapping[param.name].api\n        if (this.action.mapping[param.name].params) {\n          const customParams = this.action.mapping[param.name].params(this.resource)\n          if (customParams) {\n            params = { ...params, ...customParams }\n          }\n        }\n      } else if (paramName === 'id') {\n        possibleApi = this.apiName\n      } else {\n        for (const api in store.getters.apis) {\n          if (api.toLowerCase().startsWith(possibleName)) {\n            possibleApi = api\n            break\n          }\n        }\n      }\n      if (!possibleApi) {\n        return\n      }\n      param.loading = true\n      param.opts = []\n      api(possibleApi, params).then(json => {\n        param.loading = false\n        for (const obj in json) {\n          if (obj.includes('response')) {\n            for (const res in json[obj]) {\n              if (res === 'count') {\n                continue\n              }\n              param.opts = json[obj][res]\n              this.$forceUpdate()\n              break\n            }\n            break\n          }\n        }\n      }).catch(() => {\n        param.loading = false\n      })\n    },\n    generateTreeData (treeData) {\n      const result = []\n      const rootItem = treeData\n\n      rootItem[0].title = rootItem[0].title ? rootItem[0].title : rootItem[0].name\n      rootItem[0].key = rootItem[0].id ? rootItem[0].id : 0\n\n      if (!rootItem[0].haschild) {\n        rootItem[0].isLeaf = true\n      }\n\n      result.push(rootItem[0])\n      return result\n    },\n    changeResource (resource) {\n      this.treeSelected = resource\n      this.resource = this.treeSelected\n    },\n    closeAction () {\n      this.showAction = false\n    },\n    updateActionData (data) {\n      this.actionData.push(data)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .breadcrumb-card {\n    margin-left: -24px;\n    margin-right: -24px;\n    margin-top: -16px;\n    margin-bottom: 12px;\n  }\n\n  .row-element {\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n\n  .ant-breadcrumb {\n    vertical-align: text-bottom;\n  }\n\n  .ant-breadcrumb .anticon {\n    margin-left: 8px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainView.vue?vue&type=template&id=15b746d8&scoped=true&\"\nimport script from \"./DomainView.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DomainView.vue?vue&type=style&index=0&id=15b746d8&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15b746d8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}