{"version":3,"sources":["webpack:///./src/views/infra/Resources.vue?c5eb","webpack:///src/views/infra/Resources.vue","webpack:///./src/views/infra/Resources.vue?c34d","webpack:///./src/views/infra/Resources.vue","webpack:///./src/views/infra/Resources.vue?49b5"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fetchLoading","_l","item","key","id","staticClass","_v","_s","returnCapacityTitle","type","convertByType","capacityused","capacitytotal","parseFloat","percentused","p","toFixed","staticRenderFns","name","props","resource","Object","required","watch","fetchData","data","resourcesList","mounted","methods","params","entity","animatePercentVals","forEach","setTimeout","percent","convertBytes","val","convertHz","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,SAAWN,EAAIO,eAAe,CAACH,EAAG,SAASJ,EAAIQ,GAAIR,EAAiB,eAAE,SAASS,GAAM,OAAOL,EAAG,cAAc,CAACM,IAAID,EAAKE,GAAGC,YAAY,aAAa,CAACR,EAAG,MAAM,CAACQ,YAAY,wBAAwB,CAACR,EAAG,MAAM,CAACQ,YAAY,oCAAoC,CAACZ,EAAIa,GAAGb,EAAIc,GAAGd,EAAIe,oBAAoBN,EAAKO,UAAUZ,EAAG,MAAM,CAACQ,YAAY,mBAAmB,CAACR,EAAG,MAAM,CAACQ,YAAY,mBAAmB,CAACZ,EAAIa,GAAG,eAAeb,EAAIc,GAAGd,EAAIiB,cAAcR,EAAKO,KAAMP,EAAKS,eAAe,MAAMlB,EAAIc,GAAGd,EAAIiB,cAAcR,EAAKO,KAAMP,EAAKU,gBAAgB,OAAOf,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,SAAS,QAAUc,WAAWX,EAAKY,aAAa,OAAS,SAAUC,GAAK,OAAOF,WAAWX,EAAKY,aAAaE,QAAQ,GAAK,SAAW,UAAS,IAAI,IAC7zBC,EAAkB,G,iECyCtB,GACEC,KAAM,YACNC,MAAO,CACLC,SAAU,CACRX,KAAMY,OACNC,UAAU,IAGdC,MAAO,CACLH,SADJ,SACA,KACU1B,KAAK0B,UAAY1B,KAAK0B,SAAShB,IACjCV,KAAK8B,cAIXC,KAfF,WAgBI,MAAO,CACLzB,cAAc,EACd0B,cAAe,KAGnBC,QArBF,WAsBIjC,KAAK8B,aAEPI,QAAS,CACPJ,UADJ,WACA,WACA,6BACA,KACMK,EAAOC,GAAUpC,KAAK0B,SAAShB,GAC/BV,KAAKM,cAAe,EACpB,OAAN,OAAM,CAAN,oCACQ,EAAR,8CACQ,EAAR,wBACA,mBACQ,EAAR,mBACA,oBACQ,EAAR,oBAGI+B,mBAfJ,WAgBMrC,KAAKgC,cAAcM,SAAQ,SAAjC,GACQ,IAAR,gBACQZ,EAASN,YAAc,EACvBmB,YAAW,WACTb,EAASN,YAAcoB,IACjC,SAGIC,aAxBJ,SAwBA,GACM,OAAIC,EAAM,QAAoB,GAApC,kCACUA,EAAM,WAA2B,GAA3C,uCACUA,EAAM,cAAkC,GAAlD,4CACUA,EAAM,gBAAyC,GAAzD,iDACaA,GAETC,UA/BJ,SA+BA,GACM,OAAID,EAAM,IAAa,GAA7B,iBACa,GAAb,mCAEI1B,cAnCJ,SAmCA,KACM,OAAQD,GACN,KAAK,EAAb,4BACQ,KAAK,EAAb,yBACQ,KAAK,EAAb,4BACQ,KAAK,EAAb,4BACQ,KAAK,EAAb,4BACQ,KAAK,EAAb,4BACQ,KAAK,GAAb,4BACQ,QAAR,WAGID,oBA/CJ,SA+CA,GACM,OAAQC,GACN,KAAK,EAAb,+BACQ,KAAK,EAAb,4BACQ,KAAK,EAAb,6CACQ,KAAK,EAAb,kDACQ,KAAK,EAAb,mCACQ,KAAK,EAAb,uCACQ,KAAK,EAAb,0CACQ,KAAK,EAAb,6BACQ,KAAK,EAAb,mCACQ,KAAK,EAAb,sCACQ,KAAK,GAAb,4BACQ,KAAK,GAAb,sCACQ,QAAR,aC/HkW,I,wBCQ9V6B,EAAY,eACd,EACA9C,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E,oECnBf,yBAA2jB,EAAG","file":"js/chunk-65b6eb79.397b23fa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-spin',{attrs:{\"spinning\":_vm.fetchLoading}},[_c('a-list',_vm._l((_vm.resourcesList),function(item){return _c('a-list-item',{key:item.id,staticClass:\"list-item\"},[_c('div',{staticClass:\"list-item__container\"},[_c('div',{staticClass:\"list-item__data list-item__title\"},[_vm._v(_vm._s(_vm.returnCapacityTitle(item.type)))]),_c('div',{staticClass:\"list-item__vals\"},[_c('div',{staticClass:\"list-item__data\"},[_vm._v(\" Allocated: \"+_vm._s(_vm.convertByType(item.type, item.capacityused))+\" / \"+_vm._s(_vm.convertByType(item.type, item.capacitytotal))+\" \")]),_c('a-progress',{attrs:{\"status\":\"normal\",\"percent\":parseFloat(item.percentused),\"format\":function (p) { return parseFloat(item.percentused).toFixed(2) + '%'; }}})],1)])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <a-spin :spinning=\"fetchLoading\">\n    <a-list>\n      <a-list-item v-for=\"item in resourcesList\" :key=\"item.id\" class=\"list-item\">\n        <div class=\"list-item__container\">\n          <div class=\"list-item__data list-item__title\">{{ returnCapacityTitle(item.type) }}</div>\n          <div class=\"list-item__vals\">\n            <div class=\"list-item__data\">\n              Allocated:\n              {{ convertByType(item.type, item.capacityused) }} / {{ convertByType(item.type, item.capacitytotal) }}\n            </div>\n            <a-progress\n              status=\"normal\"\n              :percent=\"parseFloat(item.percentused)\"\n              :format=\"p => parseFloat(item.percentused).toFixed(2) + '%'\" />\n          </div>\n        </div>\n      </a-list-item>\n    </a-list>\n  </a-spin>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'Resources',\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  watch: {\n    resource (newItem, oldItem) {\n      if (this.resource && this.resource.id) {\n        this.fetchData()\n      }\n    }\n  },\n  data () {\n    return {\n      fetchLoading: false,\n      resourcesList: []\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  methods: {\n    fetchData () {\n      const entity = this.$route.meta.name + 'id'\n      const params = {}\n      params[entity] = this.resource.id\n      this.fetchLoading = true\n      api('listCapacity', params).then(response => {\n        this.resourcesList = response.listcapacityresponse.capacity\n        this.animatePercentVals()\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    animatePercentVals () {\n      this.resourcesList.forEach(resource => {\n        const percent = resource.percentused\n        resource.percentused = 0\n        setTimeout(() => {\n          resource.percentused = percent\n        }, 200)\n      })\n    },\n    convertBytes (val) {\n      if (val < 1024 * 1024) return `${(val / 1024).toFixed(2)} KB`\n      if (val < 1024 * 1024 * 1024) return `${(val / 1024 / 1024).toFixed(2)} MB`\n      if (val < 1024 * 1024 * 1024 * 1024) return `${(val / 1024 / 1024 / 1024).toFixed(2)} GB`\n      if (val < 1024 * 1024 * 1024 * 1024 * 1024) return `${(val / 1024 / 1024 / 1024 / 1024).toFixed(2)} TB`\n      return val\n    },\n    convertHz (val) {\n      if (val < 1000) return `${val} Mhz`\n      return `${(val / 1000).toFixed(2)} GHz`\n    },\n    convertByType (type, val) {\n      switch (type) {\n        case 0: return this.convertBytes(val)\n        case 1: return this.convertHz(val)\n        case 2: return this.convertBytes(val)\n        case 3: return this.convertBytes(val)\n        case 6: return this.convertBytes(val)\n        case 9: return this.convertBytes(val)\n        case 11: return this.convertBytes(val)\n        default: return val\n      }\n    },\n    returnCapacityTitle (type) {\n      switch (type) {\n        case 0: return this.$t('label.memory')\n        case 1: return this.$t('label.cpu')\n        case 2: return this.$t('label.primary.storage.used')\n        case 3: return this.$t('label.primary.storage.allocated')\n        case 4: return this.$t('label.public.ips')\n        case 5: return this.$t('label.management.ips')\n        case 6: return this.$t('label.secondary.storage')\n        case 7: return this.$t('label.vlan')\n        case 8: return this.$t('label.direct.ips')\n        case 9: return this.$t('label.local.storage')\n        case 19: return this.$t('label.gpu')\n        case 90: return this.$t('label.num.cpu.cores')\n        default: return ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .list-item {\n\n    &__container {\n      max-width: 90%;\n      width: 100%;\n\n      @media (min-width: 760px) {\n        max-width: 95%;\n      }\n    }\n\n    &__title {\n      font-weight: bold;\n    }\n\n    &__data {\n      margin-right: 20px;\n      white-space: nowrap;\n    }\n\n    &__vals {\n      @media (min-width: 760px) {\n        display: flex;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resources.vue?vue&type=template&id=b64c9182&scoped=true&\"\nimport script from \"./Resources.vue?vue&type=script&lang=js&\"\nexport * from \"./Resources.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Resources.vue?vue&type=style&index=0&id=b64c9182&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b64c9182\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=style&index=0&id=b64c9182&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=style&index=0&id=b64c9182&scoped=true&lang=scss&\""],"sourceRoot":""}