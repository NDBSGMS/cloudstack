{"version":3,"sources":["webpack:///./src/views/image/AddKubernetesSupportedVersion.vue?6a69","webpack:///src/views/image/AddKubernetesSupportedVersion.vue","webpack:///./src/views/image/AddKubernetesSupportedVersion.vue?d57a","webpack:///./src/views/image/AddKubernetesSupportedVersion.vue","webpack:///./src/views/image/AddKubernetesSupportedVersion.vue?b117"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","staticClass","attrs","loading","form","on","handleSubmit","slot","_v","_s","$t","apiParams","semanticversion","description","staticStyle","directives","name","rawName","value","rules","required","message","expression","zoneid","validator","rule","callback","length","indexOf","input","option","componentOptions","children","text","toLowerCase","zoneLoading","_l","opt","optIndex","key","url","checksum","mincpunumber","isNaN","minmemory","closeAction","staticRenderFns","props","data","zones","beforeCreate","$form","createForm","apiConfig","$store","getters","apis","addKubernetesSupportedVersion","params","forEach","created","mounted","fetchData","methods","fetchZoneData","isValidValueForKey","obj","arrayHasItems","array","undefined","Array","isArray","e","preventDefault","validateFields","err","values","$emit","component"],"mappings":"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","file":"js/chunk-3bd5f129.da22d3c9.js","sourcesContent":["var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-layout\"},[_c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.semanticversion'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.semanticversion.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['semanticversion', {\n            rules: [{ required: true, message: _vm.$t('message.error.kuberversion') }]\n          }]),expression:\"['semanticversion', {\\n            rules: [{ required: true, message: $t('message.error.kuberversion') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.semanticversion.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.name'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.name.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name', {\n            rules: [{ message: _vm.$t('message.error.name') }]\n          }]),expression:\"['name', {\\n            rules: [{ message: $t('message.error.name') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.$t('label.name')}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.zoneid'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.zoneid.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['zoneid', {\n            rules: [\n              {\n                validator: function (rule, value, callback) {\n                  if (value && value.length > 1 && value.indexOf(0) !== -1) {\n                    callback(this$1.$t('message.error.zone.combined'))\n                  }\n                  callback()\n                }\n              }\n            ]\n          }]),expression:\"['zoneid', {\\n            rules: [\\n              {\\n                validator: (rule, value, callback) => {\\n                  if (value && value.length > 1 && value.indexOf(0) !== -1) {\\n                    callback(this.$t('message.error.zone.combined'))\\n                  }\\n                  callback()\\n                }\\n              }\\n            ]\\n          }]\"}],attrs:{\"id\":\"zone-selection\",\"showSearch\":\"\",\"optionFilterProp\":\"children\",\"filterOption\":function (input, option) {\n            return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          },\"loading\":_vm.zoneLoading,\"placeholder\":_vm.apiParams.zoneid.description}},_vm._l((this.zones),function(opt,optIndex){return _c('a-select-option',{key:optIndex},[_vm._v(\" \"+_vm._s(opt.name || opt.description)+\" \")])}),1)],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.url'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.url.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['url', {\n            rules: [{ required: true, message: _vm.$t('message.error.binaries.iso.url') }]\n          }]),expression:\"['url', {\\n            rules: [{ required: true, message: $t('message.error.binaries.iso.url') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.url.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.checksum'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.checksum.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['checksum', {\n            rules: [{ required: false, message: _vm.$t('message.error.required.input') }]\n          }]),expression:\"['checksum', {\\n            rules: [{ required: false, message: $t('message.error.required.input') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.checksum.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.mincpunumber'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.mincpunumber.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['mincpunumber', {\n            rules: [{ required: true, message: _vm.$t('message.please.enter.value') },\n                    {\n                      validator: function (rule, value, callback) {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this$1.$t('message.validate.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]),expression:\"['mincpunumber', {\\n            rules: [{ required: true, message: $t('message.please.enter.value') },\\n                    {\\n                      validator: (rule, value, callback) => {\\n                        if (value && (isNaN(value) || value <= 0)) {\\n                          callback(this.$t('message.validate.number'))\\n                        }\\n                        callback()\\n                      }\\n                    }\\n            ]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.mincpunumber.description}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.minmemory'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.minmemory.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['minmemory', {\n            rules: [{ required: true, message: _vm.$t('message.please.enter.value') },\n                    {\n                      validator: function (rule, value, callback) {\n                        if (value && (isNaN(value) || value <= 0)) {\n                          callback(this$1.$t('message.validate.number'))\n                        }\n                        callback()\n                      }\n                    }\n            ]\n          }]),expression:\"['minmemory', {\\n            rules: [{ required: true, message: $t('message.please.enter.value') },\\n                    {\\n                      validator: (rule, value, callback) => {\\n                        if (value && (isNaN(value) || value <= 0)) {\\n                          callback(this.$t('message.validate.number'))\\n                        }\\n                        callback()\\n                      }\\n                    }\\n            ]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.minmemory.description}})],1),_c('div',{staticClass:\"action-button\",attrs:{\"span\":24}},[_c('a-button',{on:{\"click\":_vm.closeAction}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(this.$t('label.ok')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"form-layout\">\n    <a-spin :spinning=\"loading\">\n      <a-form\n        :form=\"form\"\n        @submit=\"handleSubmit\"\n        layout=\"vertical\">\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.semanticversion') }}\n            <a-tooltip :title=\"apiParams.semanticversion.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['semanticversion', {\n              rules: [{ required: true, message: $t('message.error.kuberversion') }]\n            }]\"\n            :placeholder=\"apiParams.semanticversion.description\"/>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.name') }}\n            <a-tooltip :title=\"apiParams.name.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['name', {\n              rules: [{ message: $t('message.error.name') }]\n            }]\"\n            :placeholder=\"$t('label.name')\"/>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.zoneid') }}\n            <a-tooltip :title=\"apiParams.zoneid.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-select\n            id=\"zone-selection\"\n            v-decorator=\"['zoneid', {\n              rules: [\n                {\n                  validator: (rule, value, callback) => {\n                    if (value && value.length > 1 && value.indexOf(0) !== -1) {\n                      callback(this.$t('message.error.zone.combined'))\n                    }\n                    callback()\n                  }\n                }\n              ]\n            }]\"\n            showSearch\n            optionFilterProp=\"children\"\n            :filterOption=\"(input, option) => {\n              return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n            }\"\n            :loading=\"zoneLoading\"\n            :placeholder=\"apiParams.zoneid.description\">\n            <a-select-option v-for=\"(opt, optIndex) in this.zones\" :key=\"optIndex\">\n              {{ opt.name || opt.description }}\n            </a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.url') }}\n            <a-tooltip :title=\"apiParams.url.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['url', {\n              rules: [{ required: true, message: $t('message.error.binaries.iso.url') }]\n            }]\"\n            :placeholder=\"apiParams.url.description\" />\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.checksum') }}\n            <a-tooltip :title=\"apiParams.checksum.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['checksum', {\n              rules: [{ required: false, message: $t('message.error.required.input') }]\n            }]\"\n            :placeholder=\"apiParams.checksum.description\" />\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.mincpunumber') }}\n            <a-tooltip :title=\"apiParams.mincpunumber.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['mincpunumber', {\n              rules: [{ required: true, message: $t('message.please.enter.value') },\n                      {\n                        validator: (rule, value, callback) => {\n                          if (value && (isNaN(value) || value <= 0)) {\n                            callback(this.$t('message.validate.number'))\n                          }\n                          callback()\n                        }\n                      }\n              ]\n            }]\"\n            :placeholder=\"apiParams.mincpunumber.description\"/>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.minmemory') }}\n            <a-tooltip :title=\"apiParams.minmemory.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input\n            v-decorator=\"['minmemory', {\n              rules: [{ required: true, message: $t('message.please.enter.value') },\n                      {\n                        validator: (rule, value, callback) => {\n                          if (value && (isNaN(value) || value <= 0)) {\n                            callback(this.$t('message.validate.number'))\n                          }\n                          callback()\n                        }\n                      }\n              ]\n            }]\"\n            :placeholder=\"apiParams.minmemory.description\"/>\n        </a-form-item>\n\n        <div :span=\"24\" class=\"action-button\">\n          <a-button @click=\"closeAction\">{{ this.$t('label.cancel') }}</a-button>\n          <a-button :loading=\"loading\" type=\"primary\" @click=\"handleSubmit\">{{ this.$t('label.ok') }}</a-button>\n        </div>\n      </a-form>\n    </a-spin>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'AddKubernetesSupportedVersion',\n  props: {},\n  data () {\n    return {\n      zones: [],\n      zoneLoading: false,\n      loading: false\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    this.apiConfig = this.$store.getters.apis.addKubernetesSupportedVersion || {}\n    this.apiParams = {}\n    this.apiConfig.params.forEach(param => {\n      this.apiParams[param.name] = param\n    })\n  },\n  created () {\n    this.zones = [\n      {\n        id: null,\n        name: this.$t('label.all.zone')\n      }\n    ]\n  },\n  mounted () {\n    this.fetchData()\n  },\n  methods: {\n    fetchData () {\n      this.fetchZoneData()\n    },\n    isValidValueForKey (obj, key) {\n      return key in obj && obj[key] != null\n    },\n    arrayHasItems (array) {\n      return array !== null && array !== undefined && Array.isArray(array) && array.length > 0\n    },\n    fetchZoneData () {\n      const params = {}\n      params.listAll = true\n      this.zoneLoading = true\n      api('listZones', params).then(json => {\n        const listZones = json.listzonesresponse.zone\n        this.zones = this.zones.concat(listZones)\n      }).finally(() => {\n        this.zoneLoading = false\n        if (this.arrayHasItems(this.zones)) {\n          this.form.setFieldsValue({\n            zoneid: 0\n          })\n        }\n      })\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        this.loading = true\n        const params = {\n          semanticversion: values.semanticversion,\n          url: values.url\n        }\n        if (this.isValidValueForKey(values, 'name')) {\n          params.name = values.name\n        }\n        if (this.isValidValueForKey(values, 'checksum')) {\n          params.checksum = values.checksum\n        }\n        if (this.isValidValueForKey(values, 'zoneid')) {\n          params.zoneid = this.zones[values.zoneid].id\n        }\n        if (this.isValidValueForKey(values, 'mincpunumber') && values.mincpunumber > 0) {\n          params.mincpunumber = values.mincpunumber\n        }\n        if (this.isValidValueForKey(values, 'minmemory') && values.minmemory > 0) {\n          params.minmemory = values.minmemory\n        }\n        api('addKubernetesSupportedVersion', params).then(json => {\n          this.$message.success(`${this.$t('message.success.add.kuberversion')}: ${values.semanticversion}`)\n          this.$emit('refresh-data')\n          this.closeAction()\n        }).catch(error => {\n          this.$notifyError(error)\n        }).finally(() => {\n          this.loading = false\n        })\n      })\n    },\n    closeAction () {\n      this.$emit('close-action')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .form-layout {\n    width: 80vw;\n\n    @media (min-width: 700px) {\n      width: 550px;\n    }\n  }\n\n  .action-button {\n    text-align: right;\n\n    button {\n      margin-right: 5px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddKubernetesSupportedVersion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddKubernetesSupportedVersion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddKubernetesSupportedVersion.vue?vue&type=template&id=0f4490b5&scoped=true&\"\nimport script from \"./AddKubernetesSupportedVersion.vue?vue&type=script&lang=js&\"\nexport * from \"./AddKubernetesSupportedVersion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddKubernetesSupportedVersion.vue?vue&type=style&index=0&id=0f4490b5&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f4490b5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddKubernetesSupportedVersion.vue?vue&type=style&index=0&id=0f4490b5&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddKubernetesSupportedVersion.vue?vue&type=style&index=0&id=0f4490b5&scoped=true&lang=less&\""],"sourceRoot":""}