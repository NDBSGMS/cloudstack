(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f27ba996"],{ab57:function(t,a,s){"use strict";var e=s("ba3b"),n=s.n(e);n.a},adfb:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("a-card",{staticClass:"breadcrumb-card"},[s("a-row",[s("a-col",{staticStyle:{"padding-left":"12px"},attrs:{span:24}},[s("breadcrumb",[s("a-tooltip",{attrs:{slot:"end",placement:"bottom"},slot:"end"},[s("template",{slot:"title"},[t._v(t._s(t.$t("label.refresh")))]),s("a-button",{staticStyle:{"margin-top":"4px"},attrs:{loading:t.loading,shape:"round",size:"small",icon:"reload"},on:{click:function(a){return t.fetchData()}}},[t._v(t._s(t.$t("label.refresh")))])],2)],1)],1)],1)],1),s("div",{staticClass:"row-element"},[s("list-view",{attrs:{columns:t.columns,items:t.items,loading:t.loading},on:{refresh:this.fetchData}})],1)],1)},n=[],i=(s("a4d3"),s("e01a"),s("d28b"),s("caad"),s("b0c0"),s("d3b7"),s("3ca3"),s("ddb0"),s("365c")),o=s("dbd1"),r=s("2f47"),c=s("0fa6"),l={name:"CpuSockets",components:{ListView:c["a"],Breadcrumb:r["a"]},provide:function(){var t=this;return{parentFetchData:this.fetchData,parentToggleLoading:function(){t.loading=!t.loading}}},data:function(){return{loading:!1,items:[],data:{},columns:[]}},mounted:function(){this.fetchData()},watch:{"$i18n.locale":function(t,a){t!==a&&this.fetchData()}},methods:{pushData:function(t){["BareMetal","LXC"].includes(t)&&(this.data[t].cpusockets="N/A"),"Hyperv"===t&&(this.data[t].name="Hyper-V"),this.items.push(this.data[t])},callListHostsWithPage:function(t,a){var s=this;this.loading=!0;var e=100;Object(i["a"])("listHosts",{type:"routing",details:"min",hypervisor:t,page:a,pagesize:e}).then((function(e){if(void 0!==e.listhostsresponse.count){s.data[t].hosts=e.listhostsresponse.count,s.data[t].currentHosts+=e.listhostsresponse.host.length;var n=!0,i=!1,o=void 0;try{for(var r,c=e.listhostsresponse.host[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var l=r.value;void 0!==l.cpusockets&&!1===isNaN(l.cpusockets)&&(s.data[t].cpusockets+=l.cpusockets)}}catch(d){i=!0,o=d}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}s.data[t].currentHosts<s.data[t].hosts?s.callListHostsWithPage(t,a+1):s.pushData(t)}else s.pushData(t)})).finally((function(){s.loading=!1}))},fetchData:function(){this.columns=[],this.columns.push({dataIndex:"name",title:this.$t("label.hypervisor"),sorter:function(t,a){return Object(o["a"])(t[this.dataIndex]||"",a[this.dataIndex]||"")}}),this.columns.push({dataIndex:"hosts",title:this.$t("label.hosts"),sorter:function(t,a){return Object(o["a"])(t[this.dataIndex]||"",a[this.dataIndex]||"")}}),this.columns.push({dataIndex:"cpusockets",title:this.$t("label.cpu.sockets"),sorter:function(t,a){return Object(o["a"])(t[this.dataIndex]||"",a[this.dataIndex]||"")}}),this.items=[],this.data={};for(var t=["BareMetal","Hyperv","KVM","LXC","Ovm3","Simulator","VMware","XenServer"],a=0,s=t;a<s.length;a++){var e=s[a];this.data[e]={name:e,hosts:0,cpusockets:0,currentHosts:0},this.callListHostsWithPage(e,1)}}}},d=l,u=(s("ab57"),s("2877")),h=Object(u["a"])(d,e,n,!1,null,"0728fcde",null);a["default"]=h.exports},ba3b:function(t,a,s){}}]);
//# sourceMappingURL=chunk-f27ba996.6f96d3b9.js.map