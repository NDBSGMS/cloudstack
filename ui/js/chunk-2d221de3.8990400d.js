(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221de3"],{cbd2:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("autogen-view",{on:{"change-resource":e.changeResource}},[n("div",{attrs:{slot:"action"},slot:"action"},[n("action-button",{style:{float:"mobile"===e.device?"left":"right"},attrs:{loading:e.loading,actions:e.actions,selectedRowKeys:e.selectedRowKeys,dataView:!0,resource:e.resource},on:{"exec-action":function(t){return e.execAction(t,t.groupAction&&!e.dataView)}}})],1),n("div",{attrs:{slot:"resource"},slot:"resource"},[e.isPublicIpAddress&&"id"in e.resource?n("resource-view",{attrs:{loading:e.loading,resource:e.resource,tabs:e.tabs}}):e._e()],1)])],1)},a=[],r=(n("4de4"),n("caad"),n("b0c0"),n("b64b"),n("d3b7"),n("2532"),n("2ca0"),n("96cf"),n("c964")),i=n("365c"),c=n("ac0d"),s=n("dd65"),u=n("831b"),l=n("1e7a"),d=n("048e"),h={name:"PublicIpResource",components:{AutogenView:u["a"],ResourceView:l["a"],ActionButton:d["a"]},data:function(){return{loading:!1,selectedRowKeys:[],actions:[],resource:{},tabs:[{name:"details",component:function(){return Promise.resolve().then(n.bind(null,"5801"))}}]}},mixins:[c["c"]],provide:function(){return{parentFetchData:this.fetchData(),parentToggleLoading:this.toggleLoading}},computed:{isPublicIpAddress:function(){return this.$route.path.startsWith("/publicip")&&this.$route.path.includes("/publicip/")}},watch:{resource:function(){"id"in this.resource&&this.fetchData()}},mounted:function(){"id"in this.resource&&this.fetchData()},methods:{fetchData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==Object.keys(e.resource).length){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.fetchPortFWRule();case 5:if(e.portFWRuleCount=t.sent,!(e.portFWRuleCount>0&&e.resource.vpcid)){t.next=10;break}e.tabs=e.$route.meta.tabs.filter((function(e){return"loadbalancing"!==e.name})),t.next=14;break;case 10:return t.next=12,e.fetchLoadBalancerRule();case 12:e.loadBalancerRuleCount=t.sent,e.loadBalancerRuleCount>0?(e.tabs=e.resource.vpcid?e.$route.meta.tabs.filter((function(e){return"portforwarding"!==e.name})):e.$route.meta.tabs,e.loading=!1):e.tabs=e.$route.meta.tabs;case 14:return t.next=16,e.fetchAction();case 16:e.loading=!1;case 17:case"end":return t.stop()}}),t)})))()},fetchAction:function(){this.actions=[],this.$route.meta.actions&&(this.actions=this.$route.meta.actions),(this.portFWRuleCount>0||this.loadBalancerRuleCount>0)&&(this.actions=this.actions.filter((function(e){return"enableStaticNat"!==e.api})))},fetchPortFWRule:function(){var e=this;return new Promise((function(t,n){Object(i["a"])("listPortForwardingRules",{listAll:!0,ipaddressid:e.resource.id,page:1,pagesize:1}).then((function(e){var n=e.listportforwardingrulesresponse.count||0;t(n)})).catch((function(e){n(e)}))}))},fetchLoadBalancerRule:function(){var e=this;return new Promise((function(t,n){Object(i["a"])("listLoadBalancerRules",{listAll:!0,publicipid:e.resource.id,page:1,pagesize:1}).then((function(e){var n=e.listloadbalancerrulesresponse.count||0;t(n)})).catch((function(e){n(e)}))}))},changeResource:function(e){this.resource=e},toggleLoading:function(){this.loading=!this.loading},execAction:function(e,t){s["a"].$emit("exec-action",e,t)}}},f=h,p=n("2877"),b=Object(p["a"])(f,o,a,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d221de3.8990400d.js.map