{"version":3,"sources":["webpack:///./src/views/network/InternalLBAssignVmForm.vue?bf17","webpack:///src/views/network/InternalLBAssignVmForm.vue","webpack:///./src/views/network/InternalLBAssignVmForm.vue?af20","webpack:///./src/views/network/InternalLBAssignVmForm.vue","webpack:///./src/views/network/InternalLBAssignVmForm.vue?2585","webpack:///./node_modules/core-js/modules/es.array.some.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fetchLoading","staticClass","staticStyle","_v","_s","$t","_l","vm","index","key","name","addVmModalNicLoading","iLb","virtualmachineid","id","_e","model","value","vmguestip","callback","$$v","$set","expression","nics","nic","nicIndex","state","instancename","displayname","account","zonename","on","e","fetchNics","page","pageSize","vmCounts","total","changePage","changePageSize","scopedSlots","_u","fn","props","closeModal","handleSubmit","staticRenderFns","components","Status","resource","type","Object","required","data","vms","params","assignedVMs","mounted","fetchData","methods","fetchLoadBalancers","fetchVirtualMachines","Array","isArray","lb","length","differenceBy","array1","filter","listAll","networkid","pagesize","response","listvirtualmachinesresponse","virtualmachine","target","checked","listnicsresponse","newItem","push","ipaddress","secondaryip","$emit","j","i","jobId","assigntoloadbalancerruleresponse","jobid","successMessage","successMethod","errorMessage","errorMethod","loadingMessage","catchMessage","message","description","error","errorresponse","errortext","duration","currentPage","component","$","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-03938a1a.532eab67.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-spin',{attrs:{\"spinning\":_vm.fetchLoading}},[_c('div',[_c('div',{staticClass:\"vm-modal__header\"},[_c('span',{staticStyle:{\"min-width\":\"200px\"}},[_vm._v(_vm._s(_vm.$t('label.name')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.state')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.instancename')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.displayname')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.ip')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.account')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.zonenamelabel')))]),_c('span',[_vm._v(_vm._s(_vm.$t('label.select')))])]),_c('a-checkbox-group',{staticStyle:{\"width\":\"100%\"}},[_vm._l((_vm.vms),function(vm,index){return _c('div',{key:index,staticClass:\"vm-modal__item\"},[_c('span',{staticStyle:{\"min-width\":\"200px\"}},[_c('span',[_vm._v(\" \"+_vm._s(vm.name)+\" \")]),(_vm.addVmModalNicLoading)?_c('a-icon',{attrs:{\"type\":\"loading\"}}):(!_vm.addVmModalNicLoading && _vm.iLb.virtualmachineid[index] === vm.id)?_c('a-select',{attrs:{\"mode\":\"multiple\"},model:{value:(_vm.iLb.vmguestip[index]),callback:function ($$v) {_vm.$set(_vm.iLb.vmguestip, index, $$v)},expression:\"iLb.vmguestip[index]\"}},_vm._l((_vm.nics[index]),function(nic,nicIndex){return _c('a-select-option',{key:nic,attrs:{\"value\":nic}},[_vm._v(\" \"+_vm._s(nic)+_vm._s(nicIndex === 0 ? (\" (\" + (this.$t('label.primary')) + \")\") : null)+\" \")])}),1):_vm._e()],1),_c('span',[_c('status',{attrs:{\"text\":vm.state,\"displayText\":\"\"}})],1),_c('span',[_vm._v(_vm._s(vm.instancename))]),_c('span',[_vm._v(_vm._s(vm.displayname))]),_c('span'),_c('span',[_vm._v(_vm._s(vm.account))]),_c('span',[_vm._v(_vm._s(vm.zonename))]),_c('a-checkbox',{attrs:{\"value\":vm.id},on:{\"change\":function (e) { return _vm.fetchNics(e, index); }}})],1)}),_c('a-divider'),_c('a-pagination',{staticClass:\"row-element pagination\",attrs:{\"size\":\"small\",\"current\":_vm.page,\"pageSize\":_vm.pageSize,\"total\":_vm.vmCounts,\"showTotal\":function (total) { return ((_vm.$t('label.total')) + \" \" + total + \" \" + (_vm.$t('label.items'))); },\"pageSizeOptions\":['10', '20', '40', '80', '100'],\"showSizeChanger\":\"\"},on:{\"change\":_vm.changePage,\"showSizeChange\":_vm.changePageSize},scopedSlots:_vm._u([{key:\"buildOptionText\",fn:function(props){return [_c('span',[_vm._v(_vm._s(props.value)+\" / \"+_vm._s(_vm.$t('label.page')))])]}}])})],2)],1),_c('div',{staticClass:\"actions\"},[_c('a-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\" \"+_vm._s(_vm.$t('label.cancel'))+\" \")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\" \"+_vm._s(_vm.$t('label.ok'))+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <a-spin :spinning=\"fetchLoading\">\n    <div>\n      <div class=\"vm-modal__header\">\n        <span style=\"min-width: 200px;\">{{ $t('label.name') }}</span>\n        <span>{{ $t('label.state') }}</span>\n        <span>{{ $t('label.instancename') }}</span>\n        <span>{{ $t('label.displayname') }}</span>\n        <span>{{ $t('label.ip') }}</span>\n        <span>{{ $t('label.account') }}</span>\n        <span>{{ $t('label.zonenamelabel') }}</span>\n        <span>{{ $t('label.select') }}</span>\n      </div>\n\n      <a-checkbox-group style=\"width: 100%;\">\n        <div v-for=\"(vm, index) in vms\" :key=\"index\" class=\"vm-modal__item\">\n          <span style=\"min-width: 200px;\">\n            <span>\n              {{ vm.name }}\n            </span>\n            <a-icon v-if=\"addVmModalNicLoading\" type=\"loading\"></a-icon>\n            <a-select\n              v-else-if=\"!addVmModalNicLoading && iLb.virtualmachineid[index] === vm.id\"\n              mode=\"multiple\"\n              v-model=\"iLb.vmguestip[index]\"\n            >\n              <a-select-option v-for=\"(nic, nicIndex) in nics[index]\" :key=\"nic\" :value=\"nic\">\n                {{ nic }}{{ nicIndex === 0 ? ` (${this.$t('label.primary')})` : null }}\n              </a-select-option>\n            </a-select>\n          </span>\n          <span><status :text=\"vm.state\" displayText /></span>\n          <span>{{ vm.instancename }}</span>\n          <span>{{ vm.displayname }}</span>\n          <span></span>\n          <span>{{ vm.account }}</span>\n          <span>{{ vm.zonename }}</span>\n          <a-checkbox :value=\"vm.id\" @change=\"e => fetchNics(e, index)\" />\n        </div>\n        <a-divider/>\n        <a-pagination\n          class=\"row-element pagination\"\n          size=\"small\"\n          :current=\"page\"\n          :pageSize=\"pageSize\"\n          :total=\"vmCounts\"\n          :showTotal=\"total => `${$t('label.total')} ${total} ${$t('label.items')}`\"\n          :pageSizeOptions=\"['10', '20', '40', '80', '100']\"\n          @change=\"changePage\"\n          @showSizeChange=\"changePageSize\"\n          showSizeChanger>\n          <template slot=\"buildOptionText\" slot-scope=\"props\">\n            <span>{{ props.value }} / {{ $t('label.page') }}</span>\n          </template>\n        </a-pagination>\n      </a-checkbox-group>\n    </div>\n    <div class=\"actions\">\n      <a-button @click=\"closeModal\">\n        {{ $t('label.cancel') }}\n      </a-button>\n      <a-button type=\"primary\" @click=\"handleSubmit\">\n        {{ $t('label.ok') }}\n      </a-button>\n    </div>\n  </a-spin>\n</template>\n\n<script>\nimport { api } from '@/api'\nimport Status from '@/components/widgets/Status'\n\nexport default {\n  name: 'InternalLBAssignVmForm',\n  components: {\n    Status\n  },\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      page: 1,\n      pageSize: 10,\n      vmCounts: 0,\n      addVmModalNicLoading: false,\n      vms: [],\n      nics: [],\n      params: {},\n      assignedVMs: [],\n      iLb: {\n        virtualmachineid: [],\n        vmguestip: []\n      },\n      fetchLoading: false\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  methods: {\n    fetchData () {\n      this.fetchLoadBalancers()\n      this.fetchVirtualMachines()\n    },\n    fetchLoadBalancers () {\n      this.fetchLoading = true\n      api('listLoadBalancers', {\n        id: this.resource.id\n      }).then(response => {\n        const lb = response.listloadbalancersresponse.loadbalancer\n        this.assignedVMs = []\n        if (Array.isArray(lb) && lb.length) {\n          this.assignedVMs = lb[0].loadbalancerinstance || []\n        }\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    differenceBy (array1, array2, key) {\n      return array1.filter(a => !array2.some(b => b[key] === a[key]))\n    },\n    fetchVirtualMachines () {\n      this.fetchLoading = true\n      api('listVirtualMachines', {\n        listAll: true,\n        networkid: this.resource.networkid,\n        page: this.page,\n        pagesize: this.pageSize\n      }).then(response => {\n        var vms = response.listvirtualmachinesresponse.virtualmachine || []\n        this.vms = this.differenceBy(vms, this.assignedVMs, 'id')\n        this.vmCounts = this.vms.length || 0\n        this.vms.forEach((vm, index) => {\n          this.iLb.virtualmachineid[index] = null\n          this.nics[index] = null\n          this.iLb.vmguestip[index] = null\n        })\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    fetchNics (e, index) {\n      if (!e.target.checked) {\n        this.iLb.virtualmachineid[index] = null\n        this.nics[index] = null\n        this.iLb.vmguestip[index] = null\n        return\n      }\n      this.iLb.virtualmachineid[index] = e.target.value\n      this.addVmModalNicLoading = true\n      api('listNics', {\n        virtualmachineid: e.target.value,\n        networkid: this.resource.networkid\n      }).then(response => {\n        if (!response.listnicsresponse.nic[0]) return\n        const newItem = []\n        newItem.push(response.listnicsresponse.nic[0].ipaddress)\n        if (response.listnicsresponse.nic[0].secondaryip) {\n          newItem.push(...response.listnicsresponse.nic[0].secondaryip.map(ip => ip.ipaddress))\n        }\n        this.nics[index] = newItem\n        this.iLb.vmguestip[index] = this.nics[index][0]\n        this.addVmModalNicLoading = false\n      }).catch(error => {\n        this.$notifyError(error)\n        this.closeModal()\n      })\n    },\n    closeModal () {\n      this.$emit('close-action')\n    },\n    handleSubmit () {\n      var j = 0\n      this.params = {}\n      for (var i = 0; i < this.iLb.virtualmachineid.length; i++) {\n        if (this.iLb.virtualmachineid[i] !== null) {\n          this.params['vmidipmap[' + j + '].vmid'] = this.iLb.virtualmachineid[i]\n          this.params['vmidipmap[' + j + '].vmip'] = this.iLb.vmguestip[i]\n          j++\n        }\n      }\n      this.params.id = this.resource.id\n      this.fetchLoading = true\n      api('assignToLoadBalancerRule', this.params).then(response => {\n        this.$pollJob({\n          jobId: response.assigntoloadbalancerruleresponse.jobid,\n          successMessage: `${this.$t('message.success.assigned.vms')} ${this.$t('label.to')} ${this.resource.name}`,\n          successMethod: () => {\n            this.$emit('refresh-data')\n          },\n          errorMessage: `${this.$t('message.failed.to.assign.vms')} ${this.$t('label.to')} ${this.resource.name}`,\n          errorMethod: () => {\n            this.$emit('refresh-data')\n          },\n          loadingMessage: `${this.$t('label.assigning.vms')} ${this.$t('label.to')} ${this.resource.name}`,\n          catchMessage: this.$t('error.fetching.async.job.result')\n        })\n        this.$emit('refresh-data')\n        this.closeModal()\n      }).catch(error => {\n        this.$notification.error({\n          message: `${this.$t('label.error')} ${error.response.status}`,\n          description: error.response.data.errorresponse.errortext,\n          duration: 0\n        })\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    changePage (page, pageSize) {\n      this.page = page\n      this.pageSize = pageSize\n      this.fetchData()\n    },\n    changePageSize (currentPage, pageSize) {\n      this.page = currentPage\n      this.pageSize = pageSize\n      this.fetchData()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.vm-modal {\n\n  &__header {\n    display: flex;\n\n    span {\n      flex: 1;\n      font-weight: bold;\n      margin-right: 10px;\n    }\n  }\n\n  &__item {\n    display: flex;\n    margin-top: 10px;\n\n    span,\n    label {\n      display: block;\n      flex: 1;\n      margin-right: 10px;\n    }\n  }\n}\n\n.actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n\n  button {\n    &:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalLBAssignVmForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalLBAssignVmForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InternalLBAssignVmForm.vue?vue&type=template&id=6e2792f0&scoped=true&\"\nimport script from \"./InternalLBAssignVmForm.vue?vue&type=script&lang=js&\"\nexport * from \"./InternalLBAssignVmForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InternalLBAssignVmForm.vue?vue&type=style&index=0&id=6e2792f0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e2792f0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalLBAssignVmForm.vue?vue&type=style&index=0&id=6e2792f0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalLBAssignVmForm.vue?vue&type=style&index=0&id=6e2792f0&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}