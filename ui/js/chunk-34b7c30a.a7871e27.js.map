{"version":3,"sources":["webpack:///./src/views/infra/AddSecondaryStorage.vue?bc24","webpack:///./src/views/infra/AddSecondaryStorage.vue?dab4","webpack:///src/views/infra/AddSecondaryStorage.vue","webpack:///./src/views/infra/AddSecondaryStorage.vue?8c42","webpack:///./src/views/infra/AddSecondaryStorage.vue"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","staticClass","attrs","loading","form","$t","directives","name","rawName","value","expression","initialValue","on","val","provider","_l","prov","idx","key","_v","_s","zoneSelected","rules","required","message","zone","id","_e","closeModal","handleSubmit","staticRenderFns","props","resource","type","Object","inject","data","providers","zones","beforeCreate","$form","createForm","mounted","fetchData","methods","listZones","$parent","close","json","listzonesresponse","nfsURL","url","path","substring","server","indexOf","smbURL","e","preventDefault","validateFields","err","values","user","smbUsername","password","smbPassword","domain","smbDomain","keys","smbParams","forEach","index","toString","account","username","storagepolicy","swiftParams","zoneid","description","component"],"mappings":"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","file":"js/chunk-34b7c30a.a7871e27.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSecondaryStorage.vue?vue&type=style&index=0&id=47bedaf3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSecondaryStorage.vue?vue&type=style&index=0&id=47bedaf3&lang=scss&scoped=true&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-layout\"},[_c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.name')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name']),expression:\"['name']\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.providername')}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'provider',\n            {\n              initialValue: 'NFS'\n            }]),expression:\"[\\n            'provider',\\n            {\\n              initialValue: 'NFS'\\n            }]\"}],on:{\"change\":function (val) { this$1.provider = val }}},_vm._l((_vm.providers),function(prov,idx){return _c('a-select-option',{key:idx,attrs:{\"value\":prov}},[_vm._v(_vm._s(prov))])}),1)],1),(_vm.provider !== 'Swift')?_c('div',[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.zone')}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'zone',\n              {\n                initialValue: this.zoneSelected,\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required')))}]\n              }]),expression:\"[\\n              'zone',\\n              {\\n                initialValue: this.zoneSelected,\\n                rules: [{ required: true, message: `${$t('label.required')}`}]\\n              }]\"}],on:{\"change\":function (val) { _vm.zoneSelected = val }}},_vm._l((_vm.zones),function(zone){return _c('a-select-option',{key:zone.id,attrs:{\"value\":zone.id}},[_vm._v(_vm._s(zone.name))])}),1)],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.server')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'server',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'server',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.path')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'path',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'path',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1)],1):_vm._e(),(_vm.provider === 'SMB/CIFS')?_c('div',[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.smbusername')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'smbUsername',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'smbUsername',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.smbpassword')}},[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'smbPassword',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'smbPassword',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.smbdomain')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'smbDomain',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'smbDomain',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1)],1):_vm._e(),(_vm.provider === 'Swift')?_c('div',[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.url')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'url',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'url',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.account')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'account',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'account',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.username')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'username',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'username',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.key')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'key',\n              {\n                rules: [{ required: true, message: (\"\" + (_vm.$t('label.required'))) }]\n              }]),expression:\"[\\n              'key',\\n              {\\n                rules: [{ required: true, message: `${$t('label.required')}` }]\\n              }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.storagepolicy')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n              'storagepolicy'\n            ]),expression:\"[\\n              'storagepolicy'\\n            ]\"}]})],1)],1):_vm._e(),_c('div',{staticClass:\"actions\"},[_c('a-button',{on:{\"click\":_vm.closeModal}},[_vm._v(_vm._s(_vm.$t('label.cancel')))]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(_vm.$t('label.ok')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"form-layout\">\n    <a-spin :spinning=\"loading\">\n      <a-form :form=\"form\" layout=\"vertical\">\n        <a-form-item :label=\"$t('label.name')\">\n          <a-input v-decorator=\"['name']\" />\n        </a-form-item>\n        <a-form-item :label=\"$t('label.providername')\">\n          <a-select\n            v-decorator=\"[\n              'provider',\n              {\n                initialValue: 'NFS'\n              }]\"\n            @change=\"val => { this.provider = val }\"\n          >\n            <a-select-option\n              :value=\"prov\"\n              v-for=\"(prov,idx) in providers\"\n              :key=\"idx\"\n            >{{ prov }}</a-select-option>\n          </a-select>\n        </a-form-item>\n        <div v-if=\"provider !== 'Swift'\">\n          <a-form-item :label=\"$t('label.zone')\">\n            <a-select\n              v-decorator=\"[\n                'zone',\n                {\n                  initialValue: this.zoneSelected,\n                  rules: [{ required: true, message: `${$t('label.required')}`}]\n                }]\"\n              @change=\"val => { zoneSelected = val }\"\n            >\n              <a-select-option\n                :value=\"zone.id\"\n                v-for=\"(zone) in zones\"\n                :key=\"zone.id\"\n              >{{ zone.name }}</a-select-option>\n            </a-select>\n          </a-form-item>\n          <a-form-item :label=\"$t('label.server')\">\n            <a-input\n              v-decorator=\"[\n                'server',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.path')\">\n            <a-input\n              v-decorator=\"[\n                'path',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n        </div>\n        <div v-if=\"provider === 'SMB/CIFS'\">\n          <a-form-item :label=\"$t('label.smbusername')\">\n            <a-input\n              v-decorator=\"[\n                'smbUsername',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.smbpassword')\">\n            <a-input-password\n              v-decorator=\"[\n                'smbPassword',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.smbdomain')\">\n            <a-input\n              v-decorator=\"[\n                'smbDomain',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n        </div>\n        <div v-if=\"provider === 'Swift'\">\n          <a-form-item :label=\"$t('label.url')\">\n            <a-input\n              v-decorator=\"[\n                'url',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.account')\">\n            <a-input\n              v-decorator=\"[\n                'account',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.username')\">\n            <a-input\n              v-decorator=\"[\n                'username',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.key')\">\n            <a-input\n              v-decorator=\"[\n                'key',\n                {\n                  rules: [{ required: true, message: `${$t('label.required')}` }]\n                }]\"\n            />\n          </a-form-item>\n          <a-form-item :label=\"$t('label.storagepolicy')\">\n            <a-input\n              v-decorator=\"[\n                'storagepolicy'\n              ]\"\n            />\n          </a-form-item>\n        </div>\n        <div class=\"actions\">\n          <a-button @click=\"closeModal\">{{ $t('label.cancel') }}</a-button>\n          <a-button type=\"primary\" @click=\"handleSubmit\">{{ $t('label.ok') }}</a-button>\n        </div>\n      </a-form>\n    </a-spin>\n  </div>\n</template>\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'AddSecondryStorage',\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  inject: ['parentFetchData'],\n  data () {\n    return {\n      providers: ['NFS', 'SMB/CIFS', 'Swift'],\n      provider: '',\n      zones: [],\n      zoneSelected: '',\n      loading: false\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n  },\n  mounted () {\n    this.fetchData()\n  },\n  methods: {\n    fetchData () {\n      this.listZones()\n    },\n    closeModal () {\n      this.$parent.$parent.close()\n    },\n    listZones () {\n      api('listZones').then(json => {\n        if (json && json.listzonesresponse && json.listzonesresponse.zone) {\n          this.zones = json.listzonesresponse.zone\n          if (this.zones.length > 0) {\n            this.zoneSelected = this.zones[0].id || ''\n          }\n        }\n      })\n    },\n    nfsURL (server, path) {\n      var url\n      if (path.substring(0, 1) !== '/') {\n        path = '/' + path\n      }\n      if (server.indexOf('://') === -1) {\n        url = 'nfs://' + server + path\n      } else {\n        url = server + path\n      }\n      return url\n    },\n    smbURL (server, path, smbUsername, smbPassword, smbDomain) {\n      var url = ''\n      if (path.substring(0, 1) !== '/') {\n        path = '/' + path\n      }\n      if (server.indexOf('://') === -1) {\n        url += 'cifs://'\n      }\n      url += (server + path)\n      return url\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n\n        var data = {\n          name: values.name\n        }\n        var url = ''\n        var provider = values.provider\n        if (provider === 'NFS') {\n          url = this.nfsURL(values.server, values.path)\n        }\n        if (provider === 'SMB/CIFS') {\n          provider = 'SMB'\n          url = this.smbURL(values.server, values.path, values.smbUsername, values.smbPassword, values.smbDomain)\n          const smbParams = {\n            user: values.smbUsername,\n            password: values.smbPassword,\n            domain: values.smbDomain\n          }\n          Object.keys(smbParams).forEach((key, index) => {\n            data['details[' + index.toString() + '].key'] = key\n            data['details[' + index.toString() + '].value'] = smbParams[key]\n          })\n        }\n        if (provider === 'Swift') {\n          url = values.url\n          const swiftParams = {\n            account: values.account,\n            username: values.username,\n            key: values.key,\n            storagepolicy: values.storagepolicy\n          }\n          Object.keys(swiftParams).forEach((key, index) => {\n            data['details[' + index.toString() + '].key'] = key\n            data['details[' + index.toString() + '].value'] = swiftParams[key]\n          })\n        }\n\n        data.url = url\n        data.provider = provider\n        if (values.zone && provider !== 'Swift') {\n          data.zoneid = values.zone\n        }\n\n        this.loading = true\n        api('addImageStore', data).then(json => {\n          this.$notification.success({\n            message: this.$t('label.add.secondary.storage'),\n            description: this.$t('label.add.secondary.storage')\n          })\n          this.closeModal()\n          this.parentFetchData()\n        }).catch(error => {\n          this.$notifyError(error)\n        }).finally(() => {\n          this.loading = false\n        })\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.form-layout {\n  width: 85vw;\n\n  @media (min-width: 1000px) {\n    width: 35vw;\n  }\n}\n\n.actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n  button {\n    &:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSecondaryStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSecondaryStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddSecondaryStorage.vue?vue&type=template&id=47bedaf3&scoped=true&\"\nimport script from \"./AddSecondaryStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddSecondaryStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddSecondaryStorage.vue?vue&type=style&index=0&id=47bedaf3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47bedaf3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}