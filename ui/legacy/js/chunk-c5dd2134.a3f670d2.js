(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5dd2134"],{"5a26":function(e,t,a){},"5ad5":function(e,t,a){"use strict";var i=a("5a26"),r=a.n(i);r.a},a9b4:function(e,t,a){"use strict";var i=a("dc49"),r=a.n(i);r.a},b7ea:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticClass:"breadcrumb-card"},[a("a-row",[a("a-col",{staticStyle:{"padding-left":"6px"},attrs:{span:14}},[a("breadcrumb",{attrs:{resource:e.resource}},[a("span",{attrs:{slot:"end"},slot:"end"},[a("template",{slot:"title"},[e._v(" "+e._s(e.$t("label.refresh"))+" ")]),a("a-button",{staticStyle:{"margin-top":"4px"},attrs:{loading:e.loading,shape:"round",size:"small",icon:"reload"},on:{click:function(t){return e.fetchData()}}},[e._v(" "+e._s(e.$t("label.refresh"))+" ")])],2)])],1),a("a-col",{attrs:{span:10}},[a("span",{staticStyle:{float:"right"}},[a("action-button",{style:e.dataView?{float:"mobile"===e.device?"left":"right"}:{"margin-right":"10px",display:"inline-flex"},attrs:{loading:e.loading,actions:e.actions,selectedRowKeys:e.selectedRowKeys,dataView:e.dataView,resource:e.resource},on:{"exec-action":e.execAction}})],1)])],1)],1),a("div",{staticClass:"row-element"},[e.dataView?a("resource-view",{attrs:{resource:e.resource,loading:e.loading,tabs:e.$route.meta.tabs}}):a("tree-view",{attrs:{treeData:e.treeData,treeSelected:e.treeSelected,loading:e.loading,tabs:e.$route.meta.tabs,actionData:e.actionData},on:{"change-resource":e.changeResource}})],1),e.showAction?a("div",[a("domain-action-form",{attrs:{showAction:e.showAction,resource:e.resource,action:e.action}})],1):e._e()],1)},r=[],n=(a("a4d3"),a("e01a"),a("d28b"),a("4de4"),a("caad"),a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("2ca0"),a("ddb0"),a("f3f3")),s=a("365c"),o=a("4360"),c=a("ac0d"),l=a("2f47"),u=a("048e"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("resource-layout",[a("a-spin",{attrs:{slot:"left",spinning:e.loading},slot:"left"},[a("a-card",{attrs:{bordered:!1}},[a("a-input-search",{attrs:{size:"default",placeholder:e.$t("label.search")},on:{search:e.onSearch},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}},[a("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1),a("a-spin",{attrs:{spinning:e.loadingSearch}},[e.treeViewData.length>0?a("a-tree",{staticClass:"list-tree-view",attrs:{showLine:"",treeData:e.treeViewData,loadData:e.onLoadData,expandAction:!1,showIcon:!0,defaultSelectedKeys:e.defaultSelected,checkStrictly:!0,defaultExpandedKeys:e.arrExpand},on:{select:e.onSelect,expand:e.onExpand}},[a("a-icon",{attrs:{slot:"parent",type:"folder"},slot:"parent"}),a("a-icon",{attrs:{slot:"leaf",type:"block"},slot:"leaf"})],1):e._e()],1)],1)],1),a("a-spin",{attrs:{slot:"right",spinning:e.detailLoading},slot:"right"},[a("a-card",{staticClass:"spin-content",staticStyle:{width:"100%"},attrs:{bordered:!0}},[a("a-tabs",{staticStyle:{width:"100%"},attrs:{animated:!1,defaultActiveKey:e.tabs[0].name},on:{change:e.onTabChange}},e._l(e.tabs,(function(t){return e.checkShowTabDetail(t)?a("a-tab-pane",{key:t.name,attrs:{tab:e.$t("label."+t.name)}},[a(t.component,{tag:"component",attrs:{resource:e.resource,items:e.items,tab:e.tabActive,loading:e.loading,bordered:!1}})],1):e._e()})),1)],1)],1)],1)},h=[],p=(a("99af"),a("c740"),a("4160"),a("c975"),a("b64b"),a("159b"),a("d0ff")),f=a("5801"),m=a("1e7a"),g=a("9127"),v={name:"TreeView",components:{ResourceLayout:g["a"],ResourceView:m["a"]},props:{treeData:{type:Array,required:!0},treeSelected:{type:Object,required:!0},tabs:{type:Array,default:function(){return[{name:"details",component:f["default"]}]}},loadedKeys:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},actionData:{type:Array,default:function(){return[]}}},data:function(){return{detailLoading:!1,loadingSearch:!1,tabActive:"details",selectedTreeKey:"",resource:{},defaultSelected:[],treeVerticalData:[],treeViewData:[],oldTreeViewData:[],apiList:"",apiChildren:"",apiDetail:"",metaName:"",page:1,pageSize:20,items:[],showSetting:!1,oldSearchQuery:"",searchQuery:"",arrExpand:[],rootKey:""}},created:function(){this.metaName=this.$route.meta.name,this.apiList=this.$route.meta.permission[0]?this.$route.meta.permission[0]:"",this.apiChildren=this.$route.meta.permission[1]?this.$route.meta.permission[1]:""},watch:{loading:function(){this.detailLoading=this.loading},treeData:function(){var e=this;if(0===this.oldTreeViewData.length&&(this.treeViewData=this.treeData,this.treeVerticalData=this.treeData),this.treeViewData.length>0&&(this.oldTreeViewData=this.treeViewData,this.rootKey=this.treeViewData[0].key),Object.keys(this.resource).length>0){var t=this.treeVerticalData.findIndex((function(t){return t.id===e.resource.id}));-1===t&&this.$el.querySelector("[title=".concat(this.resource.parentdomainname,"]")).click()}},treeSelected:function(){if(0!==Object.keys(this.treeSelected).length)if(Object.keys(this.resource).length>0){if(this.selectedTreeKey=this.resource.key,this.$emit("change-resource",this.resource),this.defaultSelected.length>1){var e=this.defaultSelected;this.defaultSelected=[],this.defaultSelected.push(e[0])}}else if(this.resource=this.treeSelected,this.resource=this.createResourceData(this.resource),this.selectedTreeKey=this.treeSelected.key,this.defaultSelected.push(this.selectedTreeKey),this.defaultSelected.length>1){var t=this.defaultSelected;this.defaultSelected=[],this.defaultSelected.push(t[0])}},actionData:function(e,t){e&&0!==e.length&&this.reloadTreeData(e)}},methods:{onLoadData:function(e){var t=this;if(""!==this.searchQuery&&e.eventKey!==this.rootKey)return new Promise((function(e){e()}));var a={listAll:!0,id:e.eventKey};return new Promise((function(i){Object(s["a"])(t.apiChildren,a).then((function(a){var r=t.getResponseJsonData(a),n=t.generateTreeData(r);e.dataRef.children=n,0===t.treeVerticalData.length&&(t.treeVerticalData=t.treeViewData),t.treeViewData=Object(p["a"])(t.treeViewData),t.oldTreeViewData=t.treeViewData;for(var s=function(e){var a=t.treeVerticalData.filter((function(t){return t.id===n[e].id}));a&&0!==a.length?t.treeVerticalData.filter((function(a,i){a.id===n[e].id&&Object.keys(n[e]).forEach((function(a,r){t.$set(t.treeVerticalData[i],a,n[e][a])}))})):t.treeVerticalData.push(n[e])},o=0;o<n.length;o++)s(o);i()}))}))},onSelect:function(e,t){t.selected?(e&&e[0]&&(this.selectedTreeKey=e[0]),this.getDetailResource(this.selectedTreeKey)):setTimeout((function(){t.node.$refs.selectHandle.click()}))},onExpand:function(e){this.arrExpand=e},onSearch:function(e){var t=this;if(""!==this.searchQuery||""!==this.oldSearchQuery){this.searchQuery=e,this.newTreeData=this.treeViewData,this.treeVerticalData=this.newTreeData;var a={listall:!0};""!==this.searchQuery?(this.oldSearchQuery=this.searchQuery,a.keyword=this.searchQuery):"domain"===this.metaName&&(this.oldSearchQuery="",a.id=this.$store.getters.userInfo.domainid),this.arrExpand=[],this.treeViewData=[],this.loadingSearch=!0,Object(s["a"])(this.apiList,a).then((function(e){var a=t.getResponseJsonData(e);if(t.treeVerticalData=t.treeVerticalData.concat(a),a&&0!==a.length){if(a[0].id===t.rootKey){var i=t.generateTreeData(a);return t.treeViewData=i,t.defaultSelected=[],t.defaultSelected.push(t.treeViewData[0].key),t.resource=t.treeViewData[0],void t.$emit("change-resource",t.resource)}t.recursiveTreeData(a),t.treeViewData&&t.treeViewData[0]&&(t.defaultSelected=[],t.defaultSelected.push(t.treeViewData[0].key),t.resource=t.treeViewData[0],t.$emit("change-resource",t.resource)),t.treeViewData&&t.treeViewData[0]&&t.treeViewData[0].children&&t.treeViewData[0].children.length>0&&t.arrExpand.push(t.treeViewData[0].children[0].key)}})).finally((function(){t.loadingSearch=!1}))}},onTabChange:function(e){this.tabActive=e},reloadTreeData:function(e){var t=this;if(e&&e[0].isDel)this.treeVerticalData=this.treeVerticalData.filter((function(t){return t.id!==e[0].id})),this.treeVerticalData=this.treeVerticalData.filter((function(t){return t.parentdomainid!==e[0].id}));else{var a=this.getResponseJsonData(e[0]);a=this.createResourceData(a);var i=this.treeVerticalData.filter((function(e){return e.id===a.id}));if(i&&i[0])this.treeVerticalData.filter((function(e,i){e.id===a.id&&Object.keys(a).forEach((function(e,r){t.$set(t.treeVerticalData[i],e,a[e])}))}));else{var r=!0;""!==this.searchQuery&&(r=a.title.indexOf(this.searchQuery)>-1),this.resource.haschild&&r&&this.treeVerticalData.push(a),this.treeVerticalData.filter((function(e,a){e.id===t.resource.id&&(t.$set(t.treeVerticalData[a],"isLeaf",!1),t.$set(t.treeVerticalData[a],"haschild",!0))}))}}this.recursiveTreeData(this.treeVerticalData)},getDetailResource:function(e){var t=this,a=this.$route.meta.permission[0],i={};i.id=e,i.listAll=!0,i.page=1,i.pageSize=1,this.detailLoading=!0,Object(s["a"])(a,i).then((function(e){var a=t.getResponseJsonData(e);a&&0!==a.length?(t.resource=a[0],t.resource=t.createResourceData(t.resource),t.treeVerticalData.filter((function(e,a){e.id===t.resource.id&&(t.treeVerticalData[a]=t.resource)}))):t.resource=[],t.$emit("change-resource",t.resource)})).finally((function(){t.detailLoading=!1}))},getResponseJsonData:function(e){var t,a,i=!1;for(var r in e)if(r.includes("response")){for(var n in e[r])if("jobid"===n){i=!0;break}t=r;break}for(var s in e[t])if("count"!==s){a=s;break}return i?{}:e[t][a]},checkShowTabDetail:function(e){if("show"in e)return e.show(this.resource,this.$route,o["a"].getters.userInfo);var t=e.permission?e.permission[0]:"";return!t||""===t||!!Object.prototype.hasOwnProperty.call(o["a"].getters.apis,t)},generateTreeData:function(e){if(!e||0===e.length)return[];for(var t=0;t<e.length;t++)e[t]=this.createResourceData(e[t]);return e},createResourceData:function(e){var t=this;return e&&0!==Object.keys(e)?(Object.keys(e).forEach((function(a,i){"Unlimited"===e[a]&&t.$set(e,a,"-1")})),this.$set(e,"title",e.name),this.$set(e,"key",e.id),e.slots={icon:"parent"},e.haschild||(this.$set(e,"isLeaf",!0),e.slots={icon:"leaf"}),e):{}},recursiveTreeData:function(e){var t=Math.max.apply(Math,e.map((function(e){return e.level}))),a=e.filter((function(e){return e.level<=t}));this.treeViewData=this.getNestedChildren(a,0,t),this.oldTreeViewData=this.treeViewData},getNestedChildren:function(e,t,a,i){if(!(t>a)){var r=[];if(r=i&&""!==i?e.filter((function(e){for(var a="",r=Object.keys(e),n=0;n<r.length;n++)if(r[n].indexOf("parent")>-1&&r[n].indexOf("id")>-1){a=r[n];break}return a?e[a]===i:e.level===t})):e.filter((function(e){return e.level===t})),0===r.length)return this.getNestedChildren(e,t+1,a);for(var n=0;n<r.length;n++)r[n]=this.createResourceData(r[n]),r[n].haschild&&(r[n].children=this.getNestedChildren(e,t+1,a,r[n].key));return r}}}},D=v,b=(a("a9b4"),a("2877")),y=Object(b["a"])(D,d,h,!1,null,"f49b3a86",null),w=y.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{staticStyle:{top:"20px"},attrs:{visible:e.showAction,closable:!0,maskClosable:!1,okText:e.$t("label.ok"),cancelText:e.$t("label.cancel"),confirmLoading:e.action.loading,centered:""},on:{ok:e.handleSubmit,cancel:e.parentCloseAction}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.$t(e.action.label))+" ")]),a("a-spin",{attrs:{spinning:e.action.loading}},[a("a-form",{attrs:{form:e.form,layout:"vertical"},on:{submit:e.handleSubmit}},e._l(e.action.paramFields,(function(t,i){return e.action.mapping&&t.name in e.action.mapping&&e.action.mapping[t.name].value?e._e():a("a-form-item",{key:i,attrs:{"v-bind":t.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label."+t.name))+" "),a("a-tooltip",{attrs:{title:t.description}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),"boolean"===t.type?a("span",[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:""+e.$t("message.error.required.input")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: `${$t('message.error.required.input')}` }]\n              }]"}],attrs:{placeholder:t.description}})],1):e.action.mapping&&t.name in e.action.mapping&&e.action.mapping[t.name].options?a("span",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.select")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: $t('message.error.select') }]\n              }]"}],attrs:{loading:t.loading,placeholder:t.description}},e._l(e.action.mapping[t.name].options,(function(t,i){return a("a-select-option",{key:i},[e._v(" "+e._s(t)+" ")])})),1)],1):"uuid"===t.type||"account"===t.name?a("span",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.select")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: $t('message.error.select') }]\n              }]"}],attrs:{showSearch:"",optionFilterProp:"children",loading:t.loading,placeholder:t.description,filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}}},e._l(t.opts,(function(t,i){return a("a-select-option",{key:i},[e._v(" "+e._s(t.name||t.description||t.traffictype||t.publicip)+" ")])})),1)],1):"list"===t.type?a("span",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.select")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: $t('message.error.select') }]\n              }]"}],attrs:{loading:t.loading,mode:"multiple",placeholder:t.description}},e._l(t.opts,(function(t,i){return a("a-select-option",{key:i},[e._v(" "+e._s(t.name&&t.type?t.name+" ("+t.type+")":t.name||t.description)+" ")])})),1)],1):"long"===t.type?a("span",[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:""+e.$t("message.validate.number")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: `${$t('message.validate.number')}` }]\n              }]"}],attrs:{placeholder:t.description}})],1):a("span",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,{rules:[{required:t.required,message:e.$t("message.error.required.input")}]}],expression:"[field.name, {\n                rules: [{ required: field.required, message: $t('message.error.required.input') }]\n              }]"}],attrs:{placeholder:t.description}})],1)])})),1)],1)],1)],1)},V=[],S=(a("13d5"),{name:"DomainActionForm",props:{action:{type:Object,required:!0},showAction:{type:Boolean,default:!1},resource:{type:Object,default:function(){}}},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){this.action.dataView&&"edit"===this.action.icon&&this.fillEditFormFieldValues()},inject:["parentCloseAction","parentFetchData","parentUpdActionData"],methods:{pollActionCompletion:function(e,t){var a=this,i=this.$createElement;this.$pollJob({jobId:e,successMethod:function(e){if("deleteDomain"===a.action.api&&(a.$set(a.resource,"isDel",!0),a.parentUpdActionData(a.resource)),a.parentFetchData(),t.response){var r=t.response(e.jobresult);r&&a.$notification.info({message:a.$t(t.label),description:i("span",{domProps:{innerHTML:r}}),duration:0})}},errorMethod:function(){return a.parentFetchData()},loadingMessage:"".concat(this.$t(t.label)," ").concat(this.$t("label.in.progress")," ").concat(this.$t("label.for")," ").concat(this.resource.name),catchMessage:this.$t("error.fetching.async.job.result"),action:t})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){t.action.loading=!0;var i={};for(var r in"id"in t.resource&&t.action.params.map((function(e){return e.name})).includes("id")&&(i.id=t.resource.id),a){var n=a[r],o=!0,c=!1,l=void 0;try{for(var u,d=function(){var e=u.value;if(e.name===r)return void 0===n?("boolean"===e.type&&(i[r]=!1),"break"):(t.action.mapping&&r in t.action.mapping&&t.action.mapping[r].options?i[r]=t.action.mapping[r].options[n]:"uuid"===e.type?i[r]=e.opts[n].id:"list"===e.type?i[r]=n.map((function(t){return e.opts[t].id})).reduce((function(e,t){return e+","+t})):"account"===e.name?i[r]=e.opts[n].name:i[r]=n,"break")},h=t.action.params[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var p=d();if("break"===p)break}}catch(e){c=!0,l=e}finally{try{o||null==h.return||h.return()}finally{if(c)throw l}}}for(var f in t.action.defaultArgs)i[f]||(i[f]=t.action.defaultArgs[f]);if(t.action.mapping)for(var m in t.action.mapping)t.action.mapping[m].value&&(i[m]=t.action.mapping[m].value(t.resource,i));var g=!1;Object(s["a"])(t.action.api,i).then((function(e){for(var a in e)if(a.includes("response")){for(var i in e[a])if("jobid"===i){t.$store.dispatch("AddAsyncJob",{title:t.$t(t.action.label),jobid:e[a][i],description:t.resource.name,status:"progress"}),t.pollActionCompletion(e[a][i],t.action),g=!0;break}break}g||(t.parentUpdActionData(e),t.parentFetchData()),t.parentCloseAction()})).catch((function(e){t.$notification.error({message:t.$t("message.request.failed"),description:e.response&&e.response.headers&&e.response.headers["x-description"]||e.message})})).finally((function(e){t.action.loading=!1}))}}))},fillEditFormFieldValues:function(){var e=this,t=this.form;this.action.paramFields.map((function(a){var i=null;i="uuid"===a.type||"list"===a.type||"account"===a.name||e.action.mapping&&a.name in e.action.mapping?a.name.replace("ids","name").replace("id","name"):a.name;var r=e.resource[i]?e.resource[i]:null;r&&t.getFieldDecorator(a.name,{initialValue:r})}))}}}),k=S,x=Object(b["a"])(k,$,V,!1,null,"66792080",null),A=x.exports,q={name:"DomainView",components:{Breadcrumb:l["a"],ActionButton:u["a"],TreeView:w,DomainActionForm:A,ResourceView:m["a"]},mixins:[c["c"]],data:function(){return{resource:{},loading:!1,selectedRowKeys:[],treeData:[],actionData:[],treeSelected:{},showAction:!1,action:{},dataView:!1}},computed:{actions:function(){var e=[];return this.$route&&this.$route.meta&&this.$route.meta.actions&&(e=this.$route.meta.actions),e}},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){this.fetchData()},beforeRouteUpdate:function(e,t,a){a()},beforeRouteLeave:function(e,t,a){a()},watch:{$route:function(e,t){e.fullPath===t.fullPath||e.fullPath.includes("action/")||this.fetchData()},"$i18n.locale":function(e,t){e!==t&&this.fetchData()}},provide:function(){return{parentCloseAction:this.closeAction,parentUpdActionData:this.updateActionData,parentFetchData:this.fetchData}},methods:{fetchData:function(){var e=this;this.treeData=[],this.treeSelected={};var t={listall:!0};this.$route&&this.$route.params&&this.$route.params.id?(this.resource={},this.dataView=!0,t.id=this.$route.params.id):(this.dataView=!1,t.id=this.$store.getters.userInfo.domainid),this.loading=!0,Object(s["a"])("listDomains",t).then((function(t){var a=t.listdomainsresponse.domain||[];e.treeData=e.generateTreeData(a),e.resource=a[0]||{},e.treeSelected=a[0]||{}})).catch((function(t){[401].includes(t.response.status)||(e.$notification.error({message:e.$t("message.request.failed"),description:t.response.headers["x-description"],duration:0}),[405].includes(t.response.status)&&e.$router.push({path:"/exception/403"}),[430,431,432].includes(t.response.status)&&e.$router.push({path:"/exception/404"}),[530,531,532,533,534,535,536,537].includes(t.response.status)&&e.$router.push({path:"/exception/500"}))})).finally((function(t){e.loading=!1}))},execAction:function(e){this.actionData=[],this.action=e,this.action.params=o["a"].getters.apis[this.action.api].params;var t=this.action.params;if(t.sort((function(e,t){return"name"===e.name&&"name"!==t.name||"name"!==e.name&&"name"===t.name||"id"===e.name||e.name<t.name?-1:e.name>t.name?1:0})),this.action.paramFields=[],e.args){var a=e.args;"function"===typeof e.args&&(a=e.args(e.resource,this.$store.getters)),a.length>0&&(this.action.paramFields=a.map((function(e){return t.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()}))[0]})))}this.showAction=!0;var i=!0,r=!1,n=void 0;try{for(var s,c=this.action.paramFields[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;"list"===l.type&&["tags","hosttags"].includes(l.name)&&(l.type="string"),("uuid"===l.type||"list"===l.type||"account"===l.name||this.action.mapping&&l.name in this.action.mapping)&&this.listUuidOpts(l)}}catch(u){r=!0,n=u}finally{try{i||null==c.return||c.return()}finally{if(r)throw n}}this.action.loading=!1},listUuidOpts:function(e){var t=this;if(!this.action.mapping||!(e.name in this.action.mapping)||this.action.mapping[e.name].api){var a,i=e.name,r="list"+i.replace("ids","").replace("id","").toLowerCase()+"s",c={listall:!0};if(this.action.mapping&&e.name in this.action.mapping&&this.action.mapping[e.name].api){if(a=this.action.mapping[e.name].api,this.action.mapping[e.name].params){var l=this.action.mapping[e.name].params(this.resource);l&&(c=Object(n["a"])(Object(n["a"])({},c),l))}}else if("id"===i)a=this.apiName;else for(var u in o["a"].getters.apis)if(u.toLowerCase().startsWith(r)){a=u;break}a&&(e.loading=!0,e.opts=[],Object(s["a"])(a,c).then((function(a){for(var i in e.loading=!1,a)if(i.includes("response")){for(var r in a[i])if("count"!==r){e.opts=a[i][r],t.$forceUpdate();break}break}})).catch((function(){e.loading=!1})))}},generateTreeData:function(e){var t=[],a=e;return a[0].title=a[0].title?a[0].title:a[0].name,a[0].key=a[0].id?a[0].id:0,a[0].haschild||(a[0].isLeaf=!0),t.push(a[0]),t},changeResource:function(e){this.treeSelected=e,this.resource=this.treeSelected},closeAction:function(){this.showAction=!1},updateActionData:function(e){this.actionData.push(e)}}},O=q,T=(a("5ad5"),Object(b["a"])(O,i,r,!1,null,"15b746d8",null));t["default"]=T.exports},dc49:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c5dd2134.a3f670d2.js.map