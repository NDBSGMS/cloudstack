{"version":3,"sources":["webpack:///./src/views/project/InvitationTokenTemplate.vue?b432","webpack:///src/views/project/InvitationTokenTemplate.vue","webpack:///./src/views/project/InvitationTokenTemplate.vue?f4f8","webpack:///./src/views/project/InvitationTokenTemplate.vue","webpack:///./src/views/project/InvitationTokenTemplate.vue?a030"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","form","on","handleSubmit","$t","directives","name","rawName","value","rules","required","message","expression","apiParams","projectid","description","token","$emit","_v","_s","staticRenderFns","beforeCreate","$form","createForm","apiConfig","$store","getters","apis","updateProjectInvitation","params","forEach","data","methods","e","preventDefault","validateFields","err","setTimeout","checkForAddAsyncJob","obj","includes","res","hasJobId","dispatch","title","jobid","jobId","status","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,SAAWP,EAAIQ,UAAU,CAACJ,EAAG,SAAS,CAACG,MAAM,CAAC,KAAOP,EAAIS,KAAK,OAAS,YAAYC,GAAG,CAAC,OAASV,EAAIW,eAAe,CAACP,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAIY,GAAG,qBAAqB,CAACR,EAAG,UAAU,CAACS,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,YAAa,CAClaC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAU,GAAMlB,KAAKW,GAAG,oCAChDQ,WAAW,kIAAkIb,MAAM,CAAC,YAAcP,EAAIqB,UAAUC,UAAUC,gBAAgB,GAAGnB,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAIY,GAAG,iBAAiB,CAACR,EAAG,UAAU,CAACS,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,QAAS,CAC5VC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAU,GAAMlB,KAAKW,GAAG,oCAChDQ,WAAW,8HAA8Hb,MAAM,CAAC,YAAcP,EAAIqB,UAAUG,MAAMD,gBAAgB,GAAGnB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACM,GAAG,CAAC,MAAQ,WAAc,OAAOV,EAAIyB,MAAM,mBAAqB,CAACzB,EAAI0B,GAAG1B,EAAI2B,GAAG1B,KAAKW,GAAG,oBAAoBR,EAAG,WAAW,CAACG,MAAM,CAAC,QAAUP,EAAIQ,QAAQ,KAAO,WAAWE,GAAG,CAAC,MAAQV,EAAIW,eAAe,CAACX,EAAI0B,GAAG1B,EAAI2B,GAAG1B,KAAKW,GAAG,iBAAiB,IAAI,IAAI,IAAI,IAChgBgB,EAAkB,G,0ECgDtB,GACEd,KAAM,0BACNe,aAFF,WAEA,WACI5B,KAAKQ,KAAOR,KAAK6B,MAAMC,WAAW9B,MAClCA,KAAK+B,UAAY/B,KAAKgC,OAAOC,QAAQC,KAAKC,yBAA2B,GACrEnC,KAAKoB,UAAY,GACjBpB,KAAK+B,UAAUK,OAAOC,SAAQ,SAAlC,GACM,EAAN,wBAGEC,KAVF,WAWI,MAAO,CACL/B,SAAS,IAGbgC,QAAS,CACP7B,aADJ,SACA,cACM8B,EAAEC,iBAEFzC,KAAKQ,KAAKkC,gBAAe,SAA/B,KACQ,IAAIC,EAAJ,CAIA,IAAR,0CACA,0CACA,yEAEQ,EAAR,WAEQ,OAAR,OAAQ,CAAR,+CACU,EAAV,2BACU,EAAV,yBACA,mBACU,EAAV,mBACA,oBACU,EAAV,sBACU,EAAV,WACUC,WAAWrC,EAAS,aAI1BsC,oBA3BJ,SA2BA,OACM,IAAN,KAEM,IAAK,IAAX,OACQ,GAAIC,EAAIC,SAAS,YACf,IAAK,IAAf,UACY,GAAY,UAARC,EAAiB,CACnBC,GAAW,EACX,IAAd,UACcjD,KAAKgC,OAAOkB,SAAS,cAAe,CAClCC,MAAOA,EACPC,MAAOC,EACP/B,YAAaA,EACbgC,OAAQ,aAOlB,OAAOL,KCnHmW,I,wBCQ5WM,EAAY,eACd,EACAzD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAA4B,E,kECnBf,yBAA6kB,EAAG","file":"js/chunk-2c5b7425.173ed146.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-project-invitation\"},[_c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.projectid')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['projectid', {\n            rules: [{ required: true, message: (\"\" + (this.$t('message.error.required.input'))) }]\n          }]),expression:\"['projectid', {\\n            rules: [{ required: true, message: `${this.$t('message.error.required.input')}` }]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.projectid.description}})],1),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.token')}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['token', {\n            rules: [{ required: true, message: (\"\" + (this.$t('message.error.required.input'))) }]\n          }]),expression:\"['token', {\\n            rules: [{ required: true, message: `${this.$t('message.error.required.input')}` }]\\n          }]\"}],attrs:{\"placeholder\":_vm.apiParams.token.description}})],1),_c('div',{staticClass:\"card-footer\"},[_c('a-button',{on:{\"click\":function () { return _vm.$emit('close-action'); }}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(this.$t('label.ok')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"row-project-invitation\">\n    <a-spin :spinning=\"loading\">\n      <a-form\n        :form=\"form\"\n        @submit=\"handleSubmit\"\n        layout=\"vertical\">\n        <a-form-item :label=\"$t('label.projectid')\">\n          <a-input\n            v-decorator=\"['projectid', {\n              rules: [{ required: true, message: `${this.$t('message.error.required.input')}` }]\n            }]\"\n            :placeholder=\"apiParams.projectid.description\"\n          />\n        </a-form-item>\n        <a-form-item :label=\"$t('label.token')\">\n          <a-input\n            v-decorator=\"['token', {\n              rules: [{ required: true, message: `${this.$t('message.error.required.input')}` }]\n            }]\"\n            :placeholder=\"apiParams.token.description\"\n          />\n        </a-form-item>\n        <div class=\"card-footer\">\n          <!-- ToDo extract as component -->\n          <a-button @click=\"() => $emit('close-action')\">{{ this.$t('label.cancel') }}</a-button>\n          <a-button :loading=\"loading\" type=\"primary\" @click=\"handleSubmit\">{{ this.$t('label.ok') }}</a-button>\n        </div>\n      </a-form>\n    </a-spin>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'InvitationTokenTemplate',\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    this.apiConfig = this.$store.getters.apis.updateProjectInvitation || {}\n    this.apiParams = {}\n    this.apiConfig.params.forEach(param => {\n      this.apiParams[param.name] = param\n    })\n  },\n  data () {\n    return {\n      loading: false\n    }\n  },\n  methods: {\n    handleSubmit (e) {\n      e.preventDefault()\n\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n\n        const title = this.$t('label.accept.project.invitation')\n        const description = this.$t('label.projectid') + ' ' + values.projectid\n        const loading = this.$message.loading(title + `${this.$t('label.in.progress.for')} ` + description, 0)\n\n        this.loading = true\n\n        api('updateProjectInvitation', values).then(json => {\n          this.checkForAddAsyncJob(json, title, description)\n          this.$emit('close-action')\n        }).catch(error => {\n          this.$notifyError(error)\n        }).finally(() => {\n          this.$emit('refresh-data')\n          this.loading = false\n          setTimeout(loading, 1000)\n        })\n      })\n    },\n    checkForAddAsyncJob (json, title, description) {\n      let hasJobId = false\n\n      for (const obj in json) {\n        if (obj.includes('response')) {\n          for (const res in json[obj]) {\n            if (res === 'jobid') {\n              hasJobId = true\n              const jobId = json[obj][res]\n              this.$store.dispatch('AddAsyncJob', {\n                title: title,\n                jobid: jobId,\n                description: description,\n                status: 'progress'\n              })\n            }\n          }\n        }\n      }\n\n      return hasJobId\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.row-project-invitation {\n  min-width: 450px;\n}\n\n.card-footer {\n  text-align: right;\n\n  button + button {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationTokenTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationTokenTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InvitationTokenTemplate.vue?vue&type=template&id=67b3bf8e&scoped=true&\"\nimport script from \"./InvitationTokenTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./InvitationTokenTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InvitationTokenTemplate.vue?vue&type=style&index=0&id=67b3bf8e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67b3bf8e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationTokenTemplate.vue?vue&type=style&index=0&id=67b3bf8e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationTokenTemplate.vue?vue&type=style&index=0&id=67b3bf8e&lang=less&scoped=true&\""],"sourceRoot":""}