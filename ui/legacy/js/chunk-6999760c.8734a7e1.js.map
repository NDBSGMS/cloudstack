{"version":3,"sources":["webpack:///./src/views/network/VpnDetails.vue?2d27","webpack:///src/views/network/VpnDetails.vue","webpack:///./src/views/network/VpnDetails.vue?093e","webpack:///./src/views/network/VpnDetails.vue","webpack:///./src/views/network/VpnDetails.vue?3483"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","$t","remoteAccessVpn","publicip","presharedkey","attrs","path","staticStyle","$store","getters","apis","on","$event","disableVpn","model","value","callback","$$v","expression","staticClass","handleDisableVpn","enableVpn","handleCreateVpn","staticRenderFns","props","resource","type","Object","required","data","inject","mounted","fetchData","watch","newItem","id","methods","publicipid","listAll","console","log","error","parentToggleLoading","domainid","account","jobId","response","createremoteaccessvpnresponse","jobid","successMethod","message","description","duration","errorMessage","errorMethod","loadingMessage","catchMessage","catchMethod","deleteremoteaccessvpnresponse","successMessage","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,wBAAwB,KAAKJ,EAAG,SAAS,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIS,gBAAgBC,eAAeN,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,+BAA+B,KAAKJ,EAAG,SAAS,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIS,gBAAgBE,mBAAmBP,EAAG,aAAaA,EAAG,WAAW,CAACA,EAAG,cAAc,CAACQ,MAAM,CAAC,GAAK,CAAEC,KAAM,cAAc,CAACb,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,8BAA8B,GAAGJ,EAAG,WAAW,CAACU,YAAY,CAAC,cAAc,QAAQF,MAAM,CAAC,KAAO,SAAS,WAAa,0BAA2BZ,EAAIe,OAAOC,QAAQC,OAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQnB,EAAIoB,YAAa,KAAQ,CAACpB,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,sBAAsB,QAAQ,GAAGJ,EAAG,UAAU,CAACQ,MAAM,CAAC,OAAS,KAAK,SAAW,qBAAqB,MAAQZ,EAAIQ,GAAG,qBAAqB,cAAe,GAAOa,MAAM,CAACC,MAAOtB,EAAc,WAAEuB,SAAS,SAAUC,GAAMxB,EAAIoB,WAAWI,GAAKC,WAAW,eAAe,CAACrB,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,2BAA2BJ,EAAG,aAAaA,EAAG,MAAM,CAACsB,YAAY,WAAW,CAACtB,EAAG,WAAW,CAACc,GAAG,CAAC,MAAQ,WAAc,OAAOlB,EAAIoB,YAAa,KAAW,CAACpB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,oBAAoBJ,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQlB,EAAI2B,mBAAmB,CAAC3B,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,kBAAkB,IAAI,IAAI,GAAGJ,EAAG,MAAM,CAACA,EAAG,WAAW,CAACQ,MAAM,CAAC,WAAa,0BAA2BZ,EAAIe,OAAOC,QAAQC,MAAM,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQnB,EAAI4B,WAAY,KAAQ,CAAC5B,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,qBAAqB,OAAOJ,EAAG,UAAU,CAACQ,MAAM,CAAC,OAAS,KAAK,SAAW,oBAAoB,MAAQZ,EAAIQ,GAAG,oBAAoB,cAAe,GAAOa,MAAM,CAACC,MAAOtB,EAAa,UAAEuB,SAAS,SAAUC,GAAMxB,EAAI4B,UAAUJ,GAAKC,WAAW,cAAc,CAACrB,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,0BAA0BJ,EAAG,aAAaA,EAAG,MAAM,CAACsB,YAAY,WAAW,CAACtB,EAAG,WAAW,CAACc,GAAG,CAAC,MAAQ,WAAc,OAAOlB,EAAI4B,WAAY,KAAW,CAAC5B,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,oBAAoBJ,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQlB,EAAI6B,kBAAkB,CAAC7B,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,kBAAkB,IAAI,IAAI,IAC5lEsB,EAAkB,G,wBCwEtB,GACEC,MAAO,CACLC,SAAU,CACRC,KAAMC,OACNC,UAAU,IAGdC,KAPF,WAQI,MAAO,CACL3B,gBAAiB,KACjBmB,WAAW,EACXR,YAAY,IAGhBiB,OAAQ,CAAC,kBAAmB,uBAC5BC,QAfF,WAgBIrC,KAAKsC,aAEPC,MAAO,CACLR,SAAU,SAAd,KACWS,GAAYA,EAAQC,KAGzBzC,KAAK+B,SAAWS,EAChBxC,KAAKsC,eAGTI,QAAS,CACPJ,UADJ,WACA,WACM,OAAN,OAAM,CAAN,wBACQK,WAAY3C,KAAK+B,SAASU,GAC1BG,SAAS,IACjB,kBACQ,EAAR,+DACA,0DACA,mBACQC,QAAQC,IAAIC,GACZ,EAAR,oBAGInB,gBAbJ,WAaA,WACM5B,KAAKgD,sBACLhD,KAAK2B,WAAY,EACjB,OAAN,OAAM,CAAN,yBACQgB,WAAY3C,KAAK+B,SAASU,GAC1BQ,SAAUjD,KAAK+B,SAASkB,SACxBC,QAASlD,KAAK+B,SAASmB,UAC/B,kBACQ,EAAR,UACUC,MAAOC,EAASC,8BAA8BC,MAC9CC,cAAe,SAAzB,GACY,IAAZ,8BACY,EAAZ,uBACcC,QAAS,EAAvB,mBACcC,YAAd,UACA,4BADA,YACA,WADA,aACA,mCADA,YACA,gBACcC,SAAU,IAEZ,EAAZ,YACY,EAAZ,kBACY,EAAZ,uBAEUC,aAAc,EAAxB,gCACUC,YAAa,WACX,EAAZ,YACY,EAAZ,kBACY,EAAZ,uBAEUC,eAAgB,EAA1B,oCACUC,aAAc,EAAxB,sCACUC,YAAa,WACX,EAAZ,YACY,EAAZ,kBACY,EAAZ,4BAGA,mBACQ,EAAR,gBACQ,EAAR,YACQ,EAAR,kBACQ,EAAR,0BAGIrC,iBAxDJ,WAwDA,WACM1B,KAAKgD,sBACLhD,KAAKmB,YAAa,EAClB,OAAN,OAAM,CAAN,yBACQwB,WAAY3C,KAAK+B,SAASU,GAC1BQ,SAAUjD,KAAK+B,SAASkB,WAChC,kBACQ,EAAR,UACUE,MAAOC,EAASY,8BAA8BV,MAC9CW,eAAgB,EAA1B,kCACUV,cAAe,WACb,EAAZ,YACY,EAAZ,kBACY,EAAZ,uBAEUI,aAAc,EAAxB,iCACUC,YAAa,WACX,EAAZ,YACY,EAAZ,kBACY,EAAZ,uBAEUC,eAAgB,EAA1B,qCACUC,aAAc,EAAxB,sCACUC,YAAa,WACX,EAAZ,YACY,EAAZ,kBACY,EAAZ,4BAGA,mBACQ,EAAR,gBACQ,EAAR,YACQ,EAAR,kBACQ,EAAR,4BC7LmW,I,wBCQ/VG,EAAY,eACd,EACApE,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAqC,E,2CCnBf,yBAA4jB,EAAG,G","file":"js/chunk-6999760c.8734a7e1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.remoteAccessVpn)?_c('div',[_c('div',[_c('p',[_vm._v(_vm._s(_vm.$t('message.enabled.vpn'))+\" \"),_c('strong',[_vm._v(_vm._s(_vm.remoteAccessVpn.publicip))])]),_c('p',[_vm._v(_vm._s(_vm.$t('message.enabled.vpn.ip.sec'))+\" \"),_c('strong',[_vm._v(_vm._s(_vm.remoteAccessVpn.presharedkey))])]),_c('a-divider'),_c('a-button',[_c('router-link',{attrs:{\"to\":{ path: '/vpnuser'}}},[_vm._v(_vm._s(_vm.$t('label.manage.vpn.user')))])],1),_c('a-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\",\"disabled\":!('deleteRemoteAccessVpn' in _vm.$store.getters.apis)},on:{\"click\":function($event){_vm.disableVpn = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('label.disable.vpn'))+\" \")])],1),_c('a-modal',{attrs:{\"footer\":null,\"oncancel\":\"disableVpn = false\",\"title\":_vm.$t('label.disable.vpn'),\"maskClosable\":false},model:{value:(_vm.disableVpn),callback:function ($$v) {_vm.disableVpn=$$v},expression:\"disableVpn\"}},[_c('p',[_vm._v(_vm._s(_vm.$t('message.disable.vpn')))]),_c('a-divider'),_c('div',{staticClass:\"actions\"},[_c('a-button',{on:{\"click\":function () { return _vm.disableVpn = false; }}},[_vm._v(_vm._s(_vm.$t('label.cancel')))]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDisableVpn}},[_vm._v(_vm._s(_vm.$t('label.yes')))])],1)],1)],1):_c('div',[_c('a-button',{attrs:{\"disabled\":!('createRemoteAccessVpn' in _vm.$store.getters.apis),\"type\":\"primary\"},on:{\"click\":function($event){_vm.enableVpn = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('label.enable.vpn'))+\" \")]),_c('a-modal',{attrs:{\"footer\":null,\"onCancel\":\"enableVpn = false\",\"title\":_vm.$t('label.enable.vpn'),\"maskClosable\":false},model:{value:(_vm.enableVpn),callback:function ($$v) {_vm.enableVpn=$$v},expression:\"enableVpn\"}},[_c('p',[_vm._v(_vm._s(_vm.$t('message.enable.vpn')))]),_c('a-divider'),_c('div',{staticClass:\"actions\"},[_c('a-button',{on:{\"click\":function () { return _vm.enableVpn = false; }}},[_vm._v(_vm._s(_vm.$t('label.cancel')))]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateVpn}},[_vm._v(_vm._s(_vm.$t('label.yes')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div v-if=\"remoteAccessVpn\">\n    <div>\n      <p>{{ $t('message.enabled.vpn') }} <strong>{{ remoteAccessVpn.publicip }}</strong></p>\n      <p>{{ $t('message.enabled.vpn.ip.sec') }} <strong>{{ remoteAccessVpn.presharedkey }}</strong></p>\n      <a-divider/>\n      <a-button><router-link :to=\"{ path: '/vpnuser'}\">{{ $t('label.manage.vpn.user') }}</router-link></a-button>\n      <a-button style=\"margin-left: 10px\" type=\"danger\" @click=\"disableVpn = true\" :disabled=\"!('deleteRemoteAccessVpn' in $store.getters.apis)\">\n        {{ $t('label.disable.vpn') }}\n      </a-button>\n    </div>\n\n    <a-modal\n      v-model=\"disableVpn\"\n      :footer=\"null\"\n      oncancel=\"disableVpn = false\"\n      :title=\"$t('label.disable.vpn')\"\n      :maskClosable=\"false\">\n      <p>{{ $t('message.disable.vpn') }}</p>\n\n      <a-divider></a-divider>\n\n      <div class=\"actions\">\n        <a-button @click=\"() => disableVpn = false\">{{ $t('label.cancel') }}</a-button>\n        <a-button type=\"primary\" @click=\"handleDisableVpn\">{{ $t('label.yes') }}</a-button>\n      </div>\n    </a-modal>\n\n  </div>\n  <div v-else>\n    <a-button :disabled=\"!('createRemoteAccessVpn' in $store.getters.apis)\" type=\"primary\" @click=\"enableVpn = true\">\n      {{ $t('label.enable.vpn') }}\n    </a-button>\n\n    <a-modal\n      v-model=\"enableVpn\"\n      :footer=\"null\"\n      onCancel=\"enableVpn = false\"\n      :title=\"$t('label.enable.vpn')\"\n      :maskClosable=\"false\">\n      <p>{{ $t('message.enable.vpn') }}</p>\n\n      <a-divider></a-divider>\n\n      <div class=\"actions\">\n        <a-button @click=\"() => enableVpn = false\">{{ $t('label.cancel') }}</a-button>\n        <a-button type=\"primary\" @click=\"handleCreateVpn\">{{ $t('label.yes') }}</a-button>\n      </div>\n    </a-modal>\n\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      remoteAccessVpn: null,\n      enableVpn: false,\n      disableVpn: false\n    }\n  },\n  inject: ['parentFetchData', 'parentToggleLoading'],\n  mounted () {\n    this.fetchData()\n  },\n  watch: {\n    resource: function (newItem, oldItem) {\n      if (!newItem || !newItem.id) {\n        return\n      }\n      this.resource = newItem\n      this.fetchData()\n    }\n  },\n  methods: {\n    fetchData () {\n      api('listRemoteAccessVpns', {\n        publicipid: this.resource.id,\n        listAll: true\n      }).then(response => {\n        this.remoteAccessVpn = response.listremoteaccessvpnsresponse.remoteaccessvpn\n          ? response.listremoteaccessvpnsresponse.remoteaccessvpn[0] : null\n      }).catch(error => {\n        console.log(error)\n        this.$notifyError(error)\n      })\n    },\n    handleCreateVpn () {\n      this.parentToggleLoading()\n      this.enableVpn = false\n      api('createRemoteAccessVpn', {\n        publicipid: this.resource.id,\n        domainid: this.resource.domainid,\n        account: this.resource.account\n      }).then(response => {\n        this.$pollJob({\n          jobId: response.createremoteaccessvpnresponse.jobid,\n          successMethod: result => {\n            const res = result.jobresult.remoteaccessvpn\n            this.$notification.success({\n              message: this.$t('label.status'),\n              description:\n                `${this.$t('message.enabled.vpn')} ${res.publicip}. ${this.$t('message.enabled.vpn.ip.sec')} ${res.presharedkey}`,\n              duration: 0\n            })\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          },\n          errorMessage: this.$t('message.enable.vpn.failed'),\n          errorMethod: () => {\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          },\n          loadingMessage: this.$t('message.enable.vpn.processing'),\n          catchMessage: this.$t('error.fetching.async.job.result'),\n          catchMethod: () => {\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          }\n        })\n      }).catch(error => {\n        this.$notifyError(error)\n        this.fetchData()\n        this.parentFetchData()\n        this.parentToggleLoading()\n      })\n    },\n    handleDisableVpn () {\n      this.parentToggleLoading()\n      this.disableVpn = false\n      api('deleteRemoteAccessVpn', {\n        publicipid: this.resource.id,\n        domainid: this.resource.domainid\n      }).then(response => {\n        this.$pollJob({\n          jobId: response.deleteremoteaccessvpnresponse.jobid,\n          successMessage: this.$t('message.success.disable.vpn'),\n          successMethod: () => {\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          },\n          errorMessage: this.$t('message.disable.vpn.failed'),\n          errorMethod: () => {\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          },\n          loadingMessage: this.$t('message.disable.vpn.processing'),\n          catchMessage: this.$t('error.fetching.async.job.result'),\n          catchMethod: () => {\n            this.fetchData()\n            this.parentFetchData()\n            this.parentToggleLoading()\n          }\n        })\n      }).catch(error => {\n        this.$notifyError(error)\n        this.fetchData()\n        this.parentFetchData()\n        this.parentToggleLoading()\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .actions {\n    display: flex;\n    justify-content: flex-end;\n\n    button {\n      &:not(:last-child) {\n        margin-right: 20px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VpnDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VpnDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VpnDetails.vue?vue&type=template&id=2617f3e2&scoped=true&\"\nimport script from \"./VpnDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./VpnDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VpnDetails.vue?vue&type=style&index=0&id=2617f3e2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2617f3e2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VpnDetails.vue?vue&type=style&index=0&id=2617f3e2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VpnDetails.vue?vue&type=style&index=0&id=2617f3e2&scoped=true&lang=scss&\""],"sourceRoot":""}