(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c70217"],{"07ac":function(e,t,a){var i=a("23e7"),r=a("6f53").values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},"12d0":function(e,t,a){"use strict";var i=a("ccca"),r=a.n(i);r.a},"166a":function(e,t,a){},2323:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"form-layout"},[i("a-spin",{attrs:{spinning:t.loading}},[i("a-form",{attrs:{form:t.form,layout:"vertical"},on:{submit:t.handleSubmit}},[i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.name"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.name.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:t.$t("message.error.name")}]}],expression:"['name', {\n            rules: [{ required: true, message: $t('message.error.name') }]\n          }]"}],attrs:{placeholder:this.$t("label.name")}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.displaytext"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.displaytext.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["displaytext",{rules:[{required:!0,message:t.$t("message.error.description")}]}],expression:"['displaytext', {\n            rules: [{ required: true, message: $t('message.error.description') }]\n          }]"}],attrs:{placeholder:this.$t("label.displaytext")}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.networkrate"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.networkrate.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["networkrate",{rules:[{validator:function(t,a,i){a&&(isNaN(a)||a<=0)&&i(e.$t("message.validate.number")),i()}}]}],expression:"['networkrate', {\n            rules: [{\n              validator: (rule, value, callback) => {\n                if (value && (isNaN(value) || value <= 0)) {\n                  callback(this.$t('message.validate.number'))\n                }\n                callback()\n              }\n            }]\n          }]"}],attrs:{placeholder:this.$t("label.networkrate")}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.guestiptype"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.guestiptype.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["guestiptype",{initialValue:this.guestType}],expression:"['guestiptype', {\n            initialValue: this.guestType\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleGuestTypeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:"isolated"}},[t._v(" "+t._s(t.$t("label.isolated"))+" ")]),i("a-radio-button",{attrs:{value:"l2"}},[t._v(" "+t._s(t.$t("label.l2"))+" ")]),i("a-radio-button",{attrs:{value:"shared"}},[t._v(" "+t._s(t.$t("label.shared"))+" ")])],1)],1),"shared"!==this.guestType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.ispersistent"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.ispersistent.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["ispersistent",{initialValue:!1}],expression:"['ispersistent', {initialValue: false}]"}]})],1):t._e(),"shared"!==this.guestType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.specifyvlan"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.specifyvlan.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["specifyvlan",{initialValue:!0}],expression:"['specifyvlan', {initialValue: true}]"}],attrs:{defaultChecked:!0}})],1):t._e(),"isolated"===this.guestType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.vpc"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.forvpc.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["forvpc",{initialValue:this.forVpc}],expression:"['forvpc', {initialValue: this.forVpc}]"}],attrs:{defaultChecked:this.forVpc},on:{change:function(t){e.handleForVpcChange(t)}}})],1):t._e(),"l2"===this.guestType?i("a-form-item",{attrs:{label:t.$t("label.userdatal2")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["userdatal2",{initialValue:!1}],expression:"['userdatal2', {initialValue: false}]"}]})],1):t._e(),this.forVpc&&this.lbServiceChecked?i("a-form-item",{attrs:{label:t.$t("label.lbtype")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[" ",{initialValue:"publicLb"}],expression:"[' ', {\n            initialValue: 'publicLb'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"publicLb"}},[t._v(" "+t._s(t.$t("label.public.lb"))+" ")]),i("a-radio-button",{attrs:{value:"internalLb"}},[t._v(" "+t._s(t.$t("label.internal.lb"))+" ")])],1)],1):t._e(),i("a-form-item",{attrs:{label:t.$t("label.promiscuousmode")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["promiscuousmode",{initialValue:this.promiscuousMode}],expression:"['promiscuousmode', {\n            initialValue: this.promiscuousMode\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handlePromiscuousModeChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:""}},[t._v(" "+t._s(t.$t("label.none"))+" ")]),i("a-radio-button",{attrs:{value:"true"}},[t._v(" "+t._s(t.$t("label.accept"))+" ")]),i("a-radio-button",{attrs:{value:"false"}},[t._v(" "+t._s(t.$t("label.reject"))+" ")])],1)],1),i("a-form-item",{attrs:{label:t.$t("label.macaddresschanges")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["macaddresschanges",{initialValue:this.macAddressChanges}],expression:"['macaddresschanges', {\n            initialValue: this.macAddressChanges\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleMacAddressChangesChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:""}},[t._v(" "+t._s(t.$t("label.none"))+" ")]),i("a-radio-button",{attrs:{value:"true"}},[t._v(" "+t._s(t.$t("label.accept"))+" ")]),i("a-radio-button",{attrs:{value:"false"}},[t._v(" "+t._s(t.$t("label.reject"))+" ")])],1)],1),i("a-form-item",{attrs:{label:t.$t("label.forgedtransmits")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["forgedtransmits",{initialValue:this.forgedTransmits}],expression:"['forgedtransmits', {\n            initialValue: this.forgedTransmits\n          }]"}],attrs:{buttonStyle:"solid"},on:{change:function(t){e.handleForgedTransmitsChange(t.target.value)}}},[i("a-radio-button",{attrs:{value:""}},[t._v(" "+t._s(t.$t("label.none"))+" ")]),i("a-radio-button",{attrs:{value:"true"}},[t._v(" "+t._s(t.$t("label.accept"))+" ")]),i("a-radio-button",{attrs:{value:"false"}},[t._v(" "+t._s(t.$t("label.reject"))+" ")])],1)],1),"l2"!==this.guestType?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.supportedservices"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.supportedservices.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("div",{staticClass:"supported-services-container",attrs:{"scroll-to":"last-child"}},[i("a-list",{attrs:{itemLayout:"horizontal",dataSource:this.supportedServices},scopedSlots:t._u([{key:"renderItem",fn:function(e){return i("a-list-item",{},[i("CheckBoxSelectPair",{directives:[{name:"decorator",rawName:"v-decorator",value:["service."+e.name,{}],expression:"['service.'+item.name, {}]"}],attrs:{resourceKey:e.name,checkBoxLabel:e.description,checkBoxDecorator:"service."+e.name,selectOptions:e.provider,selectDecorator:e.name+".provider"},on:{"handle-checkpair-change":t.handleSupportedServiceChange}})],1)}}],null,!1,2021060418)})],1)]):t._e(),this.isVirtualRouterForAtLeastOneService?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.serviceofferingid"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.serviceofferingid.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["serviceofferingid",{rules:[{required:!0,message:""+this.$t("message.error.select")}],initialValue:0}],expression:"['serviceofferingid', {\n            rules: [\n              {\n                required: true,\n                message: `${this.$t('message.error.select')}`\n              }\n            ],\n            initialValue: 0\n          }]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.serviceOfferingLoading,placeholder:this.$t("label.serviceofferingid")}},t._l(this.serviceOfferings,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1):t._e(),"shared"!==this.guestType&&"isolated"!==this.guestType||!this.sourceNatServiceChecked||this.isVpcVirtualRouterForAtLeastOneService?t._e():i("a-form-item",{attrs:{label:t.$t("label.redundantrouter")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["redundantroutercapability",{initialValue:!1}],expression:"['redundantroutercapability', {initialValue: false}]"}]})],1),"shared"!==this.guestType&&"isolated"!==this.guestType||!this.sourceNatServiceChecked?t._e():i("a-form-item",{attrs:{label:t.$t("label.sourcenattype")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["sourcenattype",{initialValue:"peraccount"}],expression:"['sourcenattype', {\n            initialValue: 'peraccount'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"peraccount"}},[t._v(" "+t._s(t.$t("label.per.account"))+" ")]),i("a-radio-button",{attrs:{value:"perzone"}},[t._v(" "+t._s(t.$t("label.per.zone"))+" ")])],1)],1),"shared"==this.guestType&&this.lbServiceChecked&&"Netscaler"===this.lbServiceProvider?i("a-form-item",{attrs:{label:t.$t("label.service.lb.elasticlbcheckbox")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["elasticlb",{initialValue:!1}],expression:"['elasticlb', {initialValue: false}]"}]})],1):t._e(),("shared"===this.guestType||"isolated"===this.guestType)&&this.lbServiceChecked&&this.firewallServiceChecked&&"F5BigIp"===this.lbServiceProvider&&"JuniperSRX"===this.firewallServiceProvider?i("a-form-item",{attrs:{label:t.$t("label.service.lb.inlinemodedropdown")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["inlinemode",{initialValue:"false"}],expression:"['inlinemode', {\n            initialValue: 'false'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"false"}},[t._v(" "+t._s(t.$t("side.by.side"))+" ")]),i("a-radio-button",{attrs:{value:"true"}},[t._v(" "+t._s(t.$t("inline"))+" ")])],1)],1):t._e(),"shared"!==this.guestType&&"isolated"!==this.guestType||!this.lbServiceChecked||"Netscaler"!==this.lbServiceProvider?t._e():i("a-form-item",{attrs:{label:t.$t("label.service.lb.netscaler.servicepackages")}},[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["netscalerservicepackages",{}],expression:"['netscalerservicepackages', {}]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.registeredServicePackageLoading,placeholder:this.$t("label.service.lb.netscaler.servicepackages")}},t._l(this.registeredServicePackages,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1),"shared"!==this.guestType&&"isolated"!==this.guestType||!this.lbServiceChecked||"Netscaler"!==this.lbServiceProvider?t._e():i("a-form-item",{attrs:{label:t.$t("label.service.lb.netscaler.servicepackages.description")}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["netscalerservicepackagesdescription",{}],expression:"['netscalerservicepackagesdescription', {}]"}],attrs:{placeholder:this.$t("label.service.lb.netscaler.servicepackages.description")}})],1),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:t.$t("label.service.lb.lbisolationdropdown")}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isolation",{initialValue:"dedicated"}],expression:"['isolation', {\n            initialValue: 'dedicated'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"dedicated"}},[t._v(" "+t._s(t.$t("label.dedicated"))+" ")]),i("a-radio-button",{attrs:{value:"shared"}},[t._v(" "+t._s(t.$t("label.shared"))+" ")])],1)],1),"shared"==this.guestType&&this.staticNatServiceChecked&&"Netscaler"===this.staticNatServiceProvider?i("a-form-item",{attrs:{label:t.$t("label.service.staticnat.elasticipcheckbox")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["elasticip",{initialValue:this.isElasticIp}],expression:"['elasticip', {initialValue: this.isElasticIp}]"}],attrs:{defaultChecked:this.isElasticIp},on:{change:function(t){e.isElasticIp=t}}})],1):t._e(),this.isElasticIp&&this.staticNatServiceChecked&&"Netscaler"===this.staticNatServiceProvider?i("a-form-item",{attrs:{label:t.$t("label.service.staticnat.associatepublicip")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["associatepublicip",{initialValue:!1}],expression:"['associatepublicip', {initialValue: false}]"}]})],1):t._e(),this.connectivityServiceChecked?i("a-form-item",{attrs:{label:t.$t("label.supportsstrechedl2subnet")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["supportsstrechedl2subnet",{initialValue:!1}],expression:"['supportsstrechedl2subnet', {initialValue: false}]"}]})],1):t._e(),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:t.$t("label.supportspublicaccess")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["supportspublicaccess",{initialValue:!1}],expression:"['supportspublicaccess', {initialValue: false}]"}]})],1),"shared"!==this.guestType&&"isolated"!==this.guestType||this.isVpcVirtualRouterForAtLeastOneService?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.conservemode"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.conservemode.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["conservemode",{initialValue:!0}],expression:"['conservemode', {initialValue: true}]"}],attrs:{defaultChecked:!0}})],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.tags"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.tags.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tags",{}],expression:"['tags', {}]"}],attrs:{placeholder:this.$t("label.tags")}})],1),this.requiredNetworkOfferingExists&&"isolated"===this.guestType&&this.sourceNatServiceChecked?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.availability"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.availability.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["availability",{initialValue:"optional"}],expression:"['availability', {\n            initialValue: 'optional'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"optional"}},[t._v(" "+t._s(t.$t("label.optional"))+" ")]),i("a-radio-button",{attrs:{value:"required"}},[t._v(" "+t._s(t.$t("label.required"))+" ")])],1)],1):t._e(),this.firewallServiceChecked?i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.egressdefaultpolicy"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.egressdefaultpolicy.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["egressdefaultpolicy",{initialValue:"allow"}],expression:"['egressdefaultpolicy', {\n            initialValue: 'allow'\n          }]"}],attrs:{buttonStyle:"solid"}},[i("a-radio-button",{attrs:{value:"allow"}},[t._v(" "+t._s(t.$t("label.allow"))+" ")]),i("a-radio-button",{attrs:{value:"deny"}},[t._v(" "+t._s(t.$t("label.deny"))+" ")])],1)],1):t._e(),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:this.isAdmin(),expression:"this.isAdmin()"}],attrs:{label:t.$t("label.ispublic")}},[i("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["ispublic",{initialValue:this.isPublic}],expression:"['ispublic', {initialValue: this.isPublic}]"}],attrs:{defaultChecked:this.isPublic},on:{change:function(t){e.isPublic=t}}})],1),this.isPublic?t._e():i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.domainid"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.domainid.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["domainid",{rules:[{required:!0,message:""+this.$t("message.error.select")}]}],expression:"['domainid', {\n            rules: [\n              {\n                required: true,\n                message: `${this.$t('message.error.select')}`\n              }\n            ]\n          }]"}],attrs:{mode:"multiple",showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.domainLoading,placeholder:this.$t("label.domain")}},t._l(this.domains,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1),i("a-form-item",[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("label.zoneid"))+" "),i("a-tooltip",{attrs:{title:t.apiParams.zoneid.description}},[i("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["zoneid",{rules:[{validator:function(e,a,i){a&&a.length>1&&-1!==a.indexOf(0)&&i(t.$t("message.error.zone.combined")),i()}}]}],expression:"['zoneid', {\n            rules: [\n              {\n                validator: (rule, value, callback) => {\n                  if (value && value.length > 1 && value.indexOf(0) !== -1) {\n                    callback($t('message.error.zone.combined'))\n                  }\n                  callback()\n                }\n              }\n            ]\n          }]"}],attrs:{id:"zone-selection",mode:"multiple",showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},loading:t.zoneLoading,placeholder:this.$t("label.zone")}},t._l(this.zones,(function(e,a){return i("a-select-option",{key:a},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1)],1),i("div",{staticClass:"action-button",attrs:{span:24}},[i("a-button",{on:{click:t.closeAction}},[t._v(t._s(this.$t("label.cancel")))]),i("a-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(this.$t("label.ok")))])],1)],1)],1)},r=[],s=(a("a4d3"),a("e01a"),a("99af"),a("4160"),a("caad"),a("a15b"),a("b0c0"),a("b64b"),a("d3b7"),a("07ac"),a("2532"),a("159b"),a("365c")),l=a("6bfd"),o={name:"AddNetworkOffering",components:{CheckBoxSelectPair:l["a"]},data:function(){return{hasAdvanceZone:!1,requiredNetworkOfferingExists:!1,guestType:"isolated",promiscuousMode:"",macAddressChanges:"",forgedTransmits:"",selectedDomains:[],selectedZones:[],forVpc:!1,supportedServices:[],supportedServiceLoading:!1,isVirtualRouterForAtLeastOneService:!1,isVpcVirtualRouterForAtLeastOneService:!1,serviceOfferings:[],serviceOfferingLoading:!1,sourceNatServiceChecked:!1,lbServiceChecked:!1,lbServiceProvider:"",isElasticIp:!1,staticNatServiceChecked:!1,staticNatServiceProvider:"",connectivityServiceChecked:!1,firewallServiceChecked:!1,firewallServiceProvider:"",selectedServiceProviderMap:{},isPublic:!0,domains:[],domainLoading:!1,zones:[],zoneLoading:!1,loading:!1}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this),this.apiParams={};var t=this.$store.getters.apis.createNetworkOffering||{};t.params.forEach((function(t){e.apiParams[t.name]=t}))},created:function(){this.zones=[{id:null,name:this.$t("label.all.zone")}]},mounted:function(){this.fetchData()},methods:{fetchData:function(){this.fetchDomainData(),this.fetchZoneData(),this.fetchSupportedServiceData(),this.fetchServiceOfferingData()},isAdmin:function(){return["Admin"].includes(this.$store.getters.userInfo.roletype)},isSupportedServiceObject:function(e){return null!==e&&void 0!==e&&Object.keys(e).length>0&&e.constructor===Object&&"provider"in e},fetchDomainData:function(){var e=this,t={listAll:!0,details:"min"};this.domainLoading=!0,Object(s["a"])("listDomains",t).then((function(t){var a=t.listdomainsresponse.domain;e.domains=e.domains.concat(a)})).finally((function(){e.domainLoading=!1}))},fetchZoneData:function(){var e=this,t={listAll:!0};this.zoneLoading=!0,Object(s["a"])("listZones",t).then((function(t){var a=t.listzonesresponse.zone;e.zones=e.zones.concat(a)})).finally((function(){e.zoneLoading=!1}))},handleGuestTypeChange:function(e){this.guestType=e},handlePromiscuousModeChange:function(e){this.promiscuousMode=e},handleMacAddressChangesChange:function(e){this.macAddressChanges=e},handleForgedTransmitsChange:function(e){this.forgedTransmits=e},fetchSupportedServiceData:function(){var e=this,t={listAll:!0};this.supportedServiceLoading=!0,this.supportedServices=[],Object(s["a"])("listSupportedNetworkServices",t).then((function(t){for(var a in e.supportedServices=t.listsupportednetworkservicesresponse.networkservice,e.supportedServices){var i=e.supportedServices[a],r=i.name,s=r,l=[];for(var o in e.supportedServices[a].provider){var c=e.supportedServices[a].provider[o];c.description=c.name,c.enabled=!0,"VpcVirtualRouter"===c.name&&(c.enabled=!1),"VirtualRouter"===c.name?l.unshift(c):l.push(c)}e.supportedServices[a].provider=l,e.supportedServices[a].description=s}}))},fetchServiceOfferingData:function(){var e=this,t={issystem:!0,systemvmtype:"domainrouter"};this.supportedServiceLoading=!0,Object(s["a"])("listServiceOfferings",t).then((function(t){var a=t.listserviceofferingsresponse.serviceoffering;e.serviceOfferings=e.serviceOfferings.concat(a)})).finally((function(){e.supportedServiceLoading=!1}))},fetchRegisteredServicePackageData:function(){var e=this;this.registeredServicePackageLoading=!0,this.registeredServicePackages=[],Object(s["a"])("listRegisteredServicePackages",{}).then((function(t){var a=t.listregisteredservicepackage.registeredServicepackage;for(var i in void 0!==a&&null!=a&&a||(a=t.listregisteredservicepackage),a)e.registeredServicePackages.push({id:a[i].id,description:a[i].name,desc:a[i].description})})).finally((function(){e.registeredServicePackageLoading=!1}))},handleForVpcChange:function(e){var t=this;this.forVpc=e,this.supportedServices.forEach((function(e,a){if("Connectivity"!==e){var i=e.provider;i.forEach((function(e,a){t.forVpc?"InternalLbVm"===e.name||"VpcVirtualRouter"===e.name||"Netscaler"===e.name||"BigSwitchBcf"===e.name||"ConfigDrive"===e.name?e.enabled=!0:e.enabled=!1:"InternalLbVm"===e.name||"VpcVirtualRouter"===e.name?e.enabled=!1:e.enabled=!0,i[a]=e})),e.provider=i,t.supportedServices[a]=e}}))},handleSupportedServiceChange:function(e,t,a){"SourceNat"===e?this.sourceNatServiceChecked=t:"Lb"===e?(t?(this.fetchRegisteredServicePackageData(),null!=a&void 0!==a&&(this.lbServiceProvider=a)):this.lbServiceProvider="",this.lbServiceChecked=t):"StaticNat"===e?(this.staticNatServiceChecked=t,this.staticNatServiceProvider=t&&null!=a&void 0!==a?a:""):"Connectivity"===e?this.connectivityServiceChecked=t:"Firewall"===e&&(this.firewallServiceChecked=t,this.staticNatServiceProvider=t&&null!=a&void 0!==a?a:""),t&&null!=a&void 0!==a?this.selectedServiceProviderMap[e]=a:delete this.selectedServiceProviderMap[e];var i=Object.values(this.selectedServiceProviderMap);this.isVirtualRouterForAtLeastOneService=!1,this.isVpcVirtualRouterForAtLeastOneService=!1;var r=this;i.forEach((function(e,t){"VirtualRouter"===e&&(r.isVirtualRouterForAtLeastOneService=!0,0===r.serviceOfferings.length&&r.fetchServiceOfferingData()),"VpcVirtualRouter"===e&&(r.isVpcVirtualRouterForAtLeastOneService=!0)}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){var i={},r=t,l=null,o=Object.keys(a),c=["state","status","allocationstate","forvpc","specifyvlan","ispublic","domainid","zoneid","egressdefaultpolicy","promiscuousmode","macaddresschanges","forgedtransmits","isolation","supportspublicaccess"];if(o.forEach((function(e,t){r.isSupportedServiceObject(a[e])?(null==l&&(l={}),l[e]=a[e]):c.includes(e)||null==a[e]||void 0===a[e]||"availability"===e&&"Optional"===a[e]||(i[e]=a[e])})),"shared"===a.guestiptype?(i.specifyvlan=!0,i.specifyipranges=!0,delete i.ispersistent):"isolated"===a.guestiptype?(!0===a.specifyvlan&&(i.specifyvlan=!0),a.ispersistent?i.ispersistent=!0:delete i.ispersistent):"l2"===a.guestiptype&&(!0===a.specifyvlan&&(i.specifyvlan=!0),!0===a.userdatal2&&(i["serviceProviderList[0].service"]="UserData",i["serviceProviderList[0].provider"]="ConfigDrive",i.supportedservices="UserData"),delete i.conservemode),!0===a.forvpc&&(i.forvpc=!0),"shared"!==a.guestiptype&&"isolated"!==a.guestiptype||!0!==a.conservemode&&(i.conservemode=!1),null!=l){var n=Object.keys(l);for(var d in i.supportedservices=n.join(","),n)i["serviceProviderList["+d+"].service"]=n[d],i["serviceProviderList["+d+"].provider"]=l[n[d]].provider;var p=0;n.includes("Connectivity")&&(!0===a.supportsstrechedl2subnet&&(i["serviceCapabilityList["+p+"].service"]="Connectivity",i["serviceCapabilityList["+p+"].capabilitytype"]="RegionLevelVpc",i["serviceCapabilityList["+p+"].capabilityvalue"]=!0,p++),!0===a.supportspublicaccess&&(i["serviceCapabilityList["+p+"].service"]="Connectivity",i["serviceCapabilityList["+p+"].capabilitytype"]="DistributedRouter",i["serviceCapabilityList["+p+"].capabilityvalue"]=!0,p++),delete i.supportsstrechedl2subnet,delete i.supportspublicaccess),n.includes("SourceNat")&&(!0===a.redundantroutercapability&&(i["serviceCapabilityList["+p+"].service"]="SourceNat",i["serviceCapabilityList["+p+"].capabilitytype"]="RedundantRouter",i["serviceCapabilityList["+p+"].capabilityvalue"]=!0,p++),i["servicecapabilitylist["+p+"].service"]="SourceNat",i["servicecapabilitylist["+p+"].capabilitytype"]="SupportedSourceNatTypes",i["servicecapabilitylist["+p+"].capabilityvalue"]=a.sourcenattype,p++,delete i.redundantroutercapability,delete i.sourcenattype),n.includes("SourceNat")&&(!0===a.elasticip&&(i["servicecapabilitylist["+p+"].service"]="StaticNat",i["servicecapabilitylist["+p+"].capabilitytype"]="ElasticIp",i["servicecapabilitylist["+p+"].capabilityvalue"]=!0,p++),!0!==a.elasticip&&!0!==a.associatepublicip||(i["servicecapabilitylist["+p+"].service"]="StaticNat",i["servicecapabilitylist["+p+"].capabilitytype"]="associatePublicIP",i["servicecapabilitylist["+p+"].capabilityvalue"]=a.associatepublicip,p++),delete i.elasticip,delete i.associatepublicip),n.includes("Lb")&&(!0===a.elasticlb&&(i["servicecapabilitylist["+p+"].service"]="lb",i["servicecapabilitylist["+p+"].capabilitytype"]="ElasticLb",i["servicecapabilitylist["+p+"].capabilityvalue"]=!0,p++),!0!==a.inlinemode||"F5BigIp"!==l.Lb.provider&&"Netscaler"!==l.Lb.provider||(i["servicecapabilitylist["+p+"].service"]="lb",i["servicecapabilitylist["+p+"].capabilitytype"]="InlineMode",i["servicecapabilitylist["+p+"].capabilityvalue"]=a.inlinemode,p++),i["servicecapabilitylist["+p+"].service"]="lb",i["servicecapabilitylist["+p+"].capabilitytype"]="SupportedLbIsolation",i["servicecapabilitylist["+p+"].capabilityvalue"]=a.isolation,p++,"InternalLbVm"===l.Lb.provider&&(i["servicecapabilitylist["+p+"].service"]="lb",i["servicecapabilitylist["+p+"].capabilitytype"]="lbSchemes",i["servicecapabilitylist["+p+"].capabilityvalue"]="internal",p++),"netscalerservicepackages"in a&&t.registeredServicePackages.length>a.netscalerservicepackages&&"netscalerservicepackagesdescription"in a&&(i["details[0].servicepackageuuid"]=t.registeredServicePackages[a.netscalerservicepackages].id,i["details[1].servicepackagedescription"]=a.netscalerservicepackagesdescription))}else"supportedservices"in i||(i.supportedservices="");if("egressdefaultpolicy"in a&&"allow"!==a.egressdefaultpolicy&&(i.egressdefaultpolicy=!1),a.promiscuousmode&&(i["details[0].promiscuousMode"]=a.promiscuousmode),a.macaddresschanges&&(i["details[0].macaddresschanges"]=a.macaddresschanges),a.forgedtransmits&&(i["details[0].forgedtransmits"]=a.forgedtransmits),!0!==a.ispublic){var u=a.domainid,v=null;if(u&&u.length>0){for(var h=[],b=0;b<u.length;b++)h=h.concat(t.domains[u[b]].id);v=h.join(",")}v&&(i.domainid=v)}var m=a.zoneid,f=null;if(m&&m.length>0){for(var g=[],y=0;y<m.length;y++)g=g.concat(t.zones[m[y]].id);f=g.join(",")}f&&(i.zoneid=f),i.traffictype="GUEST",Object(s["a"])("createNetworkOffering",i).then((function(e){t.$message.success("Network offering created: "+a.name),t.$emit("refresh-data"),t.closeAction()})).catch((function(e){t.$notifyError(e)})).finally((function(){t.loading=!1}))}}))},closeAction:function(){this.$emit("close-action")}}},c=o,n=(a("12d0"),a("2877")),d=Object(n["a"])(c,i,r,!1,null,"6b937e1e",null);t["default"]=d.exports},"416d":function(e,t,a){"use strict";var i=a("166a"),r=a.n(i);r.a},"6bfd":function(e,t,a){"use strict";var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.checkBoxDecorator,{}],expression:"[checkBoxDecorator, {}]"}],staticClass:"pair-checkbox",on:{change:t.handleCheckChange}},[t._v(" "+t._s(t.checkBoxLabel)+" ")]),this.checked?i("a-form-item",{staticClass:"pair-select-container",attrs:{label:t.selectLabel}},[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.selectDecorator,{initialValue:this.getSelectInitialValue()}],expression:"[selectDecorator, {\n        initialValue: this.getSelectInitialValue()\n      }]"}],attrs:{showSearch:"",optionFilterProp:"children",filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}},on:{change:function(t){e.handleSelectChange(t)}}},t._l(t.selectOptions,(function(e){return i("a-select-option",{key:e.name,attrs:{disabled:!1===e.enabled}},[t._v(" "+t._s(e.name||e.description)+" ")])})),1)],1):t._e()],1)},r=[],s=(a("b0c0"),{name:"CheckBoxSelectPair",props:{resourceKey:{type:String,required:!0},checkBoxLabel:{type:String,required:!0},checkBoxDecorator:{type:String,default:""},selectOptions:{type:Array,required:!0},selectLabel:{type:String,default:""},selectDecorator:{type:String,default:""}},data:function(){return{checked:!1,selectedOption:""}},methods:{arrayHasItems:function(e){return null!==e&&void 0!==e&&Array.isArray(e)&&e.length>0},getSelectInitialValue:function(){if(this.arrayHasItems(this.selectOptions))for(var e=0;e<this.selectOptions.length;e++)if(!1!==this.selectOptions[e].enabled)return this.selectOptions[e].name;return""},handleCheckChange:function(e){this.checked=e.target.checked,this.checked&&this.arrayHasItems(this.selectOptions)&&(this.selectedOption=this.selectOptions[0].name),this.$emit("handle-checkpair-change",this.resourceKey,this.checked,"")},handleSelectChange:function(e){this.$emit("handle-checkpair-change",this.resourceKey,this.checked,e)}}}),l=s,o=(a("416d"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"7af55cbc",null);t["a"]=c.exports},ccca:function(e,t,a){}}]);
//# sourceMappingURL=chunk-28c70217.5e3b1fc0.js.map