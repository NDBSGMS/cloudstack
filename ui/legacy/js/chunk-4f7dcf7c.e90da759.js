(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f7dcf7c"],{7505:function(e,a,t){"use strict";var r=t("c361"),s=t.n(r);s.a},"7f06":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-form",{staticClass:"form-layout",attrs:{form:e.form,layout:"vertical"}},[t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.name"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.name.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:""+e.$t("label.required")}]}],expression:"[\n          'name',\n          {\n            rules: [{ required: true, message: `${$t('label.required')}` }],\n          }\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergatewayname")}})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.gateway"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.gateway.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["gateway",{rules:[{required:!0,message:""+e.$t("label.required")}]}],expression:"[\n          'gateway',\n          {\n            rules: [{ required: true, message: `${$t('label.required')}`}],\n          }\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergateway")}})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.cidrlist"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.cidrlist.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cidrlist",{rules:[{required:!0,message:""+e.$t("label.required")}]}],expression:"[\n          'cidrlist',\n          {\n            rules: [{ required: true, message: `${$t('label.required')}`}],\n          }\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergateway.cidrlist")}})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.ipsecpsk"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.ipsecpsk.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ipsecpsk",{rules:[{required:!0,message:""+e.$t("label.required")}]}],expression:"[\n          'ipsecpsk',\n          {\n            rules: [{ required: true, message: `${$t('label.required')}`}],\n          }\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergateway.secretkey")}})],1),t("a-form-item",{attrs:{label:e.$t("label.ikeencryption")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ikeEncryption",{initialValue:"aes128"}],expression:"[\n          'ikeEncryption',\n          {\n            initialValue: 'aes128',\n          },\n        ]"}]},e._l(e.encryptionAlgo,(function(a,r){return t("a-select-option",{key:r,attrs:{value:a}},[e._v(" "+e._s(a)+" ")])})),1)],1),t("a-form-item",{attrs:{label:e.$t("label.ikehash")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ikeHash",{initialValue:"sha1"}],expression:"[\n          'ikeHash',\n          {\n            initialValue: 'sha1',\n          },\n        ]"}]},e._l(e.hash,(function(a,r){return t("a-select-option",{key:r,attrs:{value:a}},[e._v(" "+e._s(a)+" ")])})),1)],1),t("a-form-item",{attrs:{label:e.$t("label.ikedh")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ikeDh",{initialValue:"Group 5(modp1536)"}],expression:"[\n          'ikeDh',\n          {\n            initialValue: 'Group 5(modp1536)',\n          },\n        ]"}]},e._l(Object.keys(e.DHGroups),(function(a,r){return t("a-select-option",{key:r,attrs:{value:e.DHGroups[a]}},[""!==a?t("div",[e._v(" "+e._s(a+"("+e.DHGroups[a]+")")+" ")]):e._e()])})),1)],1),t("a-form-item",{attrs:{label:e.$t("label.espencryption")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["espEncryption",{initialValue:"aes128"}],expression:"[\n          'espEncryption',\n          {\n            initialValue: 'aes128',\n          },\n        ]"}]},e._l(e.encryptionAlgo,(function(a,r){return t("a-select-option",{key:r,attrs:{value:a}},[e._v(" "+e._s(a)+" ")])})),1)],1),t("a-form-item",{attrs:{label:e.$t("label.esphash")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["espHash",{initialValue:"sha1"}],expression:"[\n          'espHash',\n          {\n            initialValue: 'sha1',\n          },\n        ]"}]},e._l(e.hash,(function(a,r){return t("a-select-option",{key:r,attrs:{value:a}},[e._v(" "+e._s(a)+" ")])})),1)],1),t("a-form-item",{attrs:{label:e.$t("label.perfectforwardsecrecy")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["perfectForwardSecrecy",{initialValue:"None"}],expression:"[\n          'perfectForwardSecrecy',\n          {\n            initialValue: 'None',\n          },\n        ]"}]},e._l(Object.keys(e.DHGroups),(function(a,r){return t("a-select-option",{key:r,attrs:{value:e.DHGroups[a]}},[t("div",""===a?[e._v(" "+e._s(e.DHGroups[a])+" ")]:[e._v(" "+e._s(a+"("+e.DHGroups[a]+")")+" ")])])})),1)],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.ikelifetime"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.ikelifetime.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ikelifetime",{initialValue:"86400"}],expression:"[\n          'ikelifetime',\n          {\n            initialValue: '86400',\n          },\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergateway.ikelifetime")}})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.esplifetime"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.esplifetime.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esplifetime",{initialValue:"3600"}],expression:"[\n          'esplifetime',\n          {\n            initialValue: '3600',\n          },\n        ]"}],attrs:{placeholder:e.$t("label.vpncustomergateway.esplifetime")}})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.dpd"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.dpd.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["dpd",{initialValue:"false"}],expression:"[\n          'dpd',\n          {\n            initialValue: 'false',\n          },\n        ]"}]})],1),t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" "+e._s(e.$t("label.forceencap"))+" "),t("a-tooltip",{attrs:{title:e.apiParams.forceencap.description}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.45)"},attrs:{type:"info-circle"}})],1)],1),t("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["forceencap",{initialValue:"false"}],expression:"[\n          'forceencap',\n          {\n            initialValue: 'false',\n          },\n        ]"}]})],1),t("div",{staticClass:"actions"},[t("a-button",{on:{click:e.closeModal}},[e._v(" "+e._s(e.$t("label.cancel"))+" ")]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("label.ok"))+" ")])],1)],1)],1)},s=[],i=(t("4160"),t("b0c0"),t("ac1f"),t("1276"),t("159b"),t("365c")),o={name:"CreateVpnCustomerGateway",props:{resource:{type:Object,required:!0}},inject:["parentFetchData","parentToggleLoading"],data:function(){return{encryptionAlgo:["aes128","aes192","aes256","3des"],hash:["sha1","sha256","sha384","sha512","md5"],DHGroups:{"":"None","Group 2":"modp1024","Group 5":"modp1536","Group 14":"modp2048","Group 15":"modp3072","Group 16":"modp4096","Group 17":"modp6144","Group 18":"modp8192"},ikeDhGroupInitialValue:"Group 5(modp1536)"}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this),this.apiParams={};var a=this.$store.getters.apis.createVpnCustomerGateway||{};a.params.forEach((function(a){e.apiParams[a.name]=a}))},methods:{closeModal:function(){this.$parent.$parent.close()},handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields((function(e,t){if(!e){var r=t.ikeEncryption+"-"+t.ikeHash+";";r+=t.ikeDh!==a.ikeDhGroupInitialValue?t.ikeDh:t.ikeDh.split("(")[1].split(")")[0];var s=t.espEncryption+"-"+t.espHash;"None"!==t.perfectForwardSecrecy&&(s+=";"+t.perfectForwardSecrecy),Object(i["a"])("createVpnCustomerGateway",{name:t.name,gateway:t.gateway,cidrlist:t.cidrlist,ipsecpsk:t.ipsecpsk,ikelifetime:t.ikelifetime,esplifetime:t.esplifetime,dpd:t.dpd,forceencap:t.forceencap,ikepolicy:r,esppolicy:s}).then((function(e){a.$store.dispatch("AddAsyncJob",{title:a.$t("message.add.vpn.customer.gateway"),jobid:e.createvpncustomergatewayresponse.jobid,description:t.name,status:"progress"}),a.$pollJob({jobId:e.createvpncustomergatewayresponse.jobid,successMessage:a.$t("message.success.add.vpn.customer.gateway"),successMethod:function(){a.closeModal(),a.parentFetchData()},errorMessage:"".concat(a.$t("message.create.vpn.customer.gateway.failed")," ")+e,errorMethod:function(){a.closeModal(),a.parentFetchData()},loadingMessage:a.$t("message.add.vpn.customer.gateway.processing"),catchMessage:a.$t("error.fetching.async.job.result"),catchMethod:function(){a.closeModal()}}),a.closeModal(),a.form.resetFields()})).catch((function(e){console.error(e),a.$message.error(a.$t("message.success.add.vpn.customer.gateway"))}))}}))}}},l=o,n=(t("7505"),t("2877")),c=Object(n["a"])(l,r,s,!1,null,"0e1b3cc7",null);a["default"]=c.exports},c361:function(e,a,t){}}]);
//# sourceMappingURL=chunk-4f7dcf7c.e90da759.js.map