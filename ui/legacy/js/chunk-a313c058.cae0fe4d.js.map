{"version":3,"sources":["webpack:///./src/views/network/IpAddressesTab.vue?df64","webpack:///./src/views/network/IpAddressesTab.vue?cd2e","webpack:///src/views/network/IpAddressesTab.vue","webpack:///./src/views/network/IpAddressesTab.vue?5d8f","webpack:///./src/views/network/IpAddressesTab.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fetchLoading","staticStyle","$store","getters","apis","on","onShowAcquireIp","_v","_s","$t","$route","path","startsWith","vpcTier","handleTierSelect","key","_l","network","id","name","_e","columns","ips","item","scopedSlots","_u","fn","text","record","issourcenat","state","virtualmachineid","virtualmachinename","associatednetworkid","associatednetworkname","$event","releaseIpAddress","staticClass","page","pageSize","totalIps","total","changePage","changePageSize","props","value","showAcquireIp","onCloseModal","acquireIpAddress","acquireLoading","model","callback","$$v","acquireIp","expression","ip","ipaddress","staticRenderFns","components","Status","resource","type","Object","required","loading","Boolean","default","data","ipsTiers","networksList","defaultNetwork","tiersSelect","listPublicIpAddress","mounted","fetchData","watch","newItem","methods","listall","pagesize","params","vpcid","forvirtualnetwork","fetchListPublicIpAddress","Promise","zoneid","domainid","account","allocatedonly","resolve","listPublicIps","tier","currentPage","networkid","jobId","response","associateipaddressresponse","jobid","successMessage","successMethod","errorMessage","errorMethod","loadingMessage","catchMessage","message","description","error","errorresponse","errortext","duration","disassociateipaddressresponse","component"],"mappings":"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","file":"js/chunk-a313c058.cae0fe4d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IpAddressesTab.vue?vue&type=style&index=0&id=48f7b13c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IpAddressesTab.vue?vue&type=style&index=0&id=48f7b13c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-spin',{attrs:{\"spinning\":_vm.fetchLoading}},[_c('a-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"disabled\":!('associateIpAddress' in _vm.$store.getters.apis),\"type\":\"dashed\",\"icon\":\"plus\"},on:{\"click\":_vm.onShowAcquireIp}},[_vm._v(\" \"+_vm._s(_vm.$t('label.acquire.new.ip'))+\" \")]),(_vm.$route.path.startsWith('/vpc'))?_c('div',[_vm._v(\" Select Tier: \"),_c('a-select',{staticStyle:{\"width\":\"40%\",\"margin-left\":\"15px\",\"margin-bottom\":\"15px\"},attrs:{\"loading\":_vm.fetchLoading,\"defaultActiveFirstOption\":\"\",\"value\":_vm.vpcTier},on:{\"change\":_vm.handleTierSelect}},[_c('a-select-option',{key:\"all\",attrs:{\"value\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('label.view.all'))+\" \")]),_vm._l((_vm.networksList),function(network){return _c('a-select-option',{key:network.id,attrs:{\"value\":network.id}},[_vm._v(\" \"+_vm._s(network.name)+\" \")])})],2)],1):_vm._e(),_c('a-table',{staticStyle:{\"overflow-y\":\"auto\"},attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"dataSource\":_vm.ips,\"rowKey\":function (item) { return item.id; },\"pagination\":false},scopedSlots:_vm._u([{key:\"ipaddress\",fn:function(text, record){return [_c('router-link',{attrs:{\"to\":{ path: '/publicip/' + record.id }}},[_vm._v(_vm._s(text)+\" \")]),(record.issourcenat === true)?_c('a-tag',[_vm._v(\"source-nat\")]):_vm._e()]}},{key:\"state\",fn:function(text, record){return [_c('status',{attrs:{\"text\":record.state,\"displayText\":\"\"}})]}},{key:\"virtualmachineid\",fn:function(text, record){return [(record.virtualmachineid)?_c('a-icon',{attrs:{\"type\":\"desktop\"}}):_vm._e(),_c('router-link',{attrs:{\"to\":{ path: '/vm/' + record.virtualmachineid }}},[_vm._v(\" \"+_vm._s(record.virtualmachinename || record.virtualmachineid)+\" \")])]}},{key:\"associatednetworkname\",fn:function(text, record){return [_c('router-link',{attrs:{\"to\":{ path: '/guestnetwork/' + record.associatednetworkid }}},[_vm._v(\" \"+_vm._s(record.associatednetworkname || record.associatednetworkid)+\" \")])]}},{key:\"action\",fn:function(text, record){return [(record.issourcenat !== true)?_c('a-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"shape\":\"circle\",\"disabled\":!('disassociateIpAddress' in _vm.$store.getters.apis)},on:{\"click\":function($event){return _vm.releaseIpAddress(record)}}}):_vm._e()]}}])}),_c('a-divider'),_c('a-pagination',{staticClass:\"row-element pagination\",attrs:{\"size\":\"small\",\"current\":_vm.page,\"pageSize\":_vm.pageSize,\"total\":_vm.totalIps,\"showTotal\":function (total) { return ((_vm.$t('label.total')) + \" \" + total + \" \" + (_vm.$t('label.items'))); },\"pageSizeOptions\":['10', '20', '40', '80', '100'],\"showSizeChanger\":\"\"},on:{\"change\":_vm.changePage,\"showSizeChange\":_vm.changePageSize},scopedSlots:_vm._u([{key:\"buildOptionText\",fn:function(props){return [_c('span',[_vm._v(_vm._s(props.value)+\" / \"+_vm._s(_vm.$t('label.page')))])]}}])})],1),(_vm.showAcquireIp)?_c('a-modal',{attrs:{\"visible\":_vm.showAcquireIp,\"title\":_vm.$t('label.acquire.new.ip'),\"closable\":true,\"okText\":_vm.$t('label.ok'),\"cancelText\":_vm.$t('label.cancel'),\"centered\":\"\",\"width\":\"450px\"},on:{\"cancel\":_vm.onCloseModal,\"ok\":_vm.acquireIpAddress}},[_c('a-spin',{attrs:{\"spinning\":_vm.acquireLoading}},[_c('a-alert',{attrs:{\"message\":_vm.$t('message.action.acquire.ip'),\"type\":\"warning\"}}),_c('a-form-item',{attrs:{\"label\":_vm.$t('label.ipaddress')}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"showSearch\":\"\"},model:{value:(_vm.acquireIp),callback:function ($$v) {_vm.acquireIp=$$v},expression:\"acquireIp\"}},_vm._l((_vm.listPublicIpAddress),function(ip){return _c('a-select-option',{key:ip.ipaddress},[_vm._v(_vm._s(ip.ipaddress))])}),1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-spin :spinning=\"fetchLoading\">\n      <a-button\n        :disabled=\"!('associateIpAddress' in $store.getters.apis)\"\n        type=\"dashed\"\n        icon=\"plus\"\n        style=\"width: 100%; margin-bottom: 15px\"\n        @click=\"onShowAcquireIp\">\n        {{ $t('label.acquire.new.ip') }}\n      </a-button>\n      <div v-if=\"$route.path.startsWith('/vpc')\">\n        Select Tier:\n        <a-select\n          style=\"width: 40%; margin-left: 15px;margin-bottom: 15px\"\n          :loading=\"fetchLoading\"\n          defaultActiveFirstOption\n          :value=\"vpcTier\"\n          @change=\"handleTierSelect\"\n        >\n          <a-select-option key=\"all\" value=\"\">\n            {{ $t('label.view.all') }}\n          </a-select-option>\n          <a-select-option v-for=\"network in networksList\" :key=\"network.id\" :value=\"network.id\">\n            {{ network.name }}\n          </a-select-option>\n        </a-select>\n      </div>\n      <a-table\n        size=\"small\"\n        style=\"overflow-y: auto\"\n        :columns=\"columns\"\n        :dataSource=\"ips\"\n        :rowKey=\"item => item.id\"\n        :pagination=\"false\" >\n        <template slot=\"ipaddress\" slot-scope=\"text, record\">\n          <router-link :to=\"{ path: '/publicip/' + record.id }\" >{{ text }} </router-link>\n          <a-tag v-if=\"record.issourcenat === true\">source-nat</a-tag>\n        </template>\n\n        <template slot=\"state\" slot-scope=\"text, record\">\n          <status :text=\"record.state\" displayText />\n        </template>\n\n        <template slot=\"virtualmachineid\" slot-scope=\"text, record\">\n          <a-icon type=\"desktop\" v-if=\"record.virtualmachineid\" />\n          <router-link :to=\"{ path: '/vm/' + record.virtualmachineid }\" > {{ record.virtualmachinename || record.virtualmachineid }} </router-link>\n        </template>\n\n        <template slot=\"associatednetworkname\" slot-scope=\"text, record\">\n          <router-link :to=\"{ path: '/guestnetwork/' + record.associatednetworkid }\" > {{ record.associatednetworkname || record.associatednetworkid }} </router-link>\n        </template>\n\n        <template slot=\"action\" slot-scope=\"text, record\">\n          <a-button\n            v-if=\"record.issourcenat !== true\"\n            type=\"danger\"\n            icon=\"delete\"\n            shape=\"circle\"\n            :disabled=\"!('disassociateIpAddress' in $store.getters.apis)\"\n            @click=\"releaseIpAddress(record)\" />\n        </template>\n      </a-table>\n      <a-divider/>\n      <a-pagination\n        class=\"row-element pagination\"\n        size=\"small\"\n        :current=\"page\"\n        :pageSize=\"pageSize\"\n        :total=\"totalIps\"\n        :showTotal=\"total => `${$t('label.total')} ${total} ${$t('label.items')}`\"\n        :pageSizeOptions=\"['10', '20', '40', '80', '100']\"\n        @change=\"changePage\"\n        @showSizeChange=\"changePageSize\"\n        showSizeChanger>\n        <template slot=\"buildOptionText\" slot-scope=\"props\">\n          <span>{{ props.value }} / {{ $t('label.page') }}</span>\n        </template>\n      </a-pagination>\n    </a-spin>\n    <a-modal\n      v-if=\"showAcquireIp\"\n      :visible=\"showAcquireIp\"\n      :title=\"$t('label.acquire.new.ip')\"\n      :closable=\"true\"\n      :okText=\"$t('label.ok')\"\n      :cancelText=\"$t('label.cancel')\"\n      @cancel=\"onCloseModal\"\n      @ok=\"acquireIpAddress\"\n      centered\n      width=\"450px\">\n      <a-spin :spinning=\"acquireLoading\">\n        <a-alert :message=\"$t('message.action.acquire.ip')\" type=\"warning\" />\n        <a-form-item :label=\"$t('label.ipaddress')\">\n          <a-select\n            style=\"width: 100%;\"\n            showSearch\n            v-model=\"acquireIp\">\n            <a-select-option\n              v-for=\"ip in listPublicIpAddress\"\n              :key=\"ip.ipaddress\">{{ ip.ipaddress }}</a-select-option>\n          </a-select>\n        </a-form-item>\n      </a-spin>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport { api } from '@/api'\nimport Status from '@/components/widgets/Status'\n\nexport default {\n  name: 'IpAddressesTab',\n  components: {\n    Status\n  },\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      fetchLoading: false,\n      ips: [],\n      ipsTiers: [],\n      networksList: [],\n      defaultNetwork: '',\n      vpcTier: '',\n      page: 1,\n      pageSize: 10,\n      totalIps: 0,\n      tiersSelect: false,\n      columns: [\n        {\n          title: this.$t('label.ipaddress'),\n          dataIndex: 'ipaddress',\n          scopedSlots: { customRender: 'ipaddress' }\n        },\n        {\n          title: this.$t('label.state'),\n          dataIndex: 'state',\n          scopedSlots: { customRender: 'state' }\n        },\n        {\n          title: this.$t('label.vm'),\n          dataIndex: 'virtualmachineid',\n          scopedSlots: { customRender: 'virtualmachineid' }\n        },\n        {\n          title: this.$t('label.network'),\n          dataIndex: 'associatednetworkname',\n          scopedSlots: { customRender: 'associatednetworkname' }\n        },\n        {\n          title: '',\n          scopedSlots: { customRender: 'action' }\n        }\n      ],\n      showAcquireIp: false,\n      acquireLoading: false,\n      acquireIp: null,\n      listPublicIpAddress: []\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  watch: {\n    resource: function (newItem, oldItem) {\n      if (!newItem || !newItem.id) {\n        return\n      }\n      this.fetchData()\n    }\n  },\n  methods: {\n    fetchData () {\n      const params = {\n        listall: true,\n        page: this.page,\n        pagesize: this.pageSize\n      }\n      if (this.$route.path.startsWith('/vpc')) {\n        this.networksList = this.resource.network\n        params.vpcid = this.resource.id\n        params.forvirtualnetwork = true\n        if (this.vpcTier) {\n          params.associatednetworkid = this.vpcTier\n        }\n      } else {\n        params.associatednetworkid = this.resource.id\n      }\n      this.fetchLoading = true\n      api('listPublicIpAddresses', params).then(json => {\n        this.totalIps = json.listpublicipaddressesresponse.count || 0\n        this.ips = json.listpublicipaddressesresponse.publicipaddress || []\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    fetchListPublicIpAddress () {\n      return new Promise((resolve, reject) => {\n        const params = {\n          zoneid: this.resource.zoneid,\n          domainid: this.resource.domainid,\n          account: this.resource.account,\n          forvirtualnetwork: true,\n          allocatedonly: false\n        }\n        api('listPublicIpAddresses', params).then(json => {\n          const listPublicIps = json.listpublicipaddressesresponse.publicipaddress || []\n          resolve(listPublicIps)\n        }).catch(reject)\n      })\n    },\n    handleTierSelect (tier) {\n      this.vpcTier = tier\n      this.fetchData()\n    },\n    changePage (page, pageSize) {\n      this.page = page\n      this.pageSize = pageSize\n      this.fetchData()\n    },\n    changePageSize (currentPage, pageSize) {\n      this.page = currentPage\n      this.pageSize = pageSize\n      this.fetchData()\n    },\n    acquireIpAddress () {\n      const params = {}\n      if (this.$route.path.startsWith('/vpc')) {\n        params.vpcid = this.resource.id\n        if (this.vpcTier) {\n          params.networkid = this.vpcTier\n        }\n      } else {\n        params.networkid = this.resource.id\n      }\n      params.ipaddress = this.acquireIp\n      this.acquireLoading = true\n\n      api('associateIpAddress', params).then(response => {\n        this.$pollJob({\n          jobId: response.associateipaddressresponse.jobid,\n          successMessage: `${this.$t('message.success.acquire.ip')} ${this.$t('label.for')} ${this.resource.name}`,\n          successMethod: () => {\n            this.fetchData()\n          },\n          errorMessage: this.$t('message.acquire.ip.failed'),\n          errorMethod: () => {\n            this.fetchData()\n          },\n          loadingMessage: `${this.$t('label.acquiring.ip')} ${this.$t('label.for')} ${this.resource.name} ${this.$t('label.is.in.progress')}`,\n          catchMessage: this.$t('error.fetching.async.job.result')\n        })\n        this.onCloseModal()\n      }).catch(error => {\n        this.$notification.error({\n          message: `${this.$t('label.error')} ${error.response.status}`,\n          description: error.response.data.errorresponse.errortext,\n          duration: 0\n        })\n      }).finally(() => {\n        this.acquireLoading = false\n      })\n    },\n    releaseIpAddress (ip) {\n      this.fetchLoading = true\n      api('disassociateIpAddress', {\n        id: ip.id\n      }).then(response => {\n        this.$pollJob({\n          jobId: response.disassociateipaddressresponse.jobid,\n          successMessage: this.$t('message.success.release.ip'),\n          successMethod: () => {\n            this.fetchData()\n          },\n          errorMessage: this.$t('message.release.ip.failed'),\n          errorMethod: () => {\n            this.fetchData()\n          },\n          loadingMessage: `${this.$t('label.releasing.ip')} ${this.$t('label.for')} ${this.resource.name} ${this.$t('label.is.in.progress')}`,\n          catchMessage: this.$t('error.fetching.async.job.result')\n        })\n      }).catch(error => {\n        this.fetchLoading = false\n        this.$notification.error({\n          message: `${this.$t('label.error')} ${error.response.status}`,\n          description: error.response.data.errorresponse.errortext,\n          duration: 0\n        })\n      })\n    },\n    async onShowAcquireIp () {\n      this.showAcquireIp = true\n      this.acquireLoading = true\n      this.listPublicIpAddress = []\n\n      try {\n        const listPublicIpAddress = await this.fetchListPublicIpAddress()\n        listPublicIpAddress.forEach(item => {\n          if (item.state === 'Free') {\n            this.listPublicIpAddress.push({\n              ipaddress: item.ipaddress\n            })\n          }\n        })\n        this.listPublicIpAddress.sort(function (a, b) {\n          if (a.ipaddress < b.ipaddress) { return -1 }\n          if (a.ipaddress > b.ipaddress) { return 1 }\n          return 0\n        })\n        this.acquireIp = this.listPublicIpAddress && this.listPublicIpAddress.length > 0 ? this.listPublicIpAddress[0].ipaddress : null\n        this.acquireLoading = false\n      } catch (e) {\n        this.acquireLoading = false\n        this.$notifyError(e)\n      }\n    },\n    onCloseModal () {\n      this.showAcquireIp = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n    max-height: 95vh;\n    width: 95vw;\n    overflow-y: scroll;\n    margin: -24px;\n\n    @media (min-width: 1000px) {\n      max-height: 70vh;\n      width: 900px;\n    }\n\n    &__header,\n    &__footer {\n      padding: 20px;\n    }\n\n    &__header {\n      display: flex;\n\n      .ant-select {\n        min-width: 200px;\n      }\n\n      &__col {\n\n        &:not(:last-child) {\n          margin-right: 20px;\n        }\n\n        &--full {\n          flex: 1;\n        }\n\n      }\n\n    }\n\n    &__footer {\n      display: flex;\n      justify-content: flex-end;\n\n      button {\n        &:not(:last-child) {\n          margin-right: 10px;\n        }\n      }\n    }\n\n    &__item {\n      padding-right: 20px;\n      padding-left: 20px;\n\n      &--selected {\n        background-color: #e6f7ff;\n      }\n\n    }\n\n    &__title {\n      font-weight: bold;\n    }\n\n    &__outer-container {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    &__container {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      cursor: pointer;\n\n      @media (min-width: 760px) {\n        flex-direction: row;\n        align-items: center;\n      }\n\n    }\n\n    &__row {\n      margin-bottom: 10px;\n\n      @media (min-width: 760px) {\n        margin-right: 20px;\n        margin-bottom: 0;\n      }\n    }\n\n    &__radio {\n      display: flex;\n      justify-content: flex-end;\n    }\n\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IpAddressesTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IpAddressesTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IpAddressesTab.vue?vue&type=template&id=48f7b13c&scoped=true&\"\nimport script from \"./IpAddressesTab.vue?vue&type=script&lang=js&\"\nexport * from \"./IpAddressesTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IpAddressesTab.vue?vue&type=style&index=0&id=48f7b13c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48f7b13c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}