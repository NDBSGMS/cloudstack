(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc3f9608"],{"0319":function(e,a,t){},6496:function(e,a,t){"use strict";var s=t("0319"),i=t.n(s);i.a},7620:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"form-layout"},[t("a-form",{attrs:{form:e.form,layout:"vertical",loading:e.loading},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:e.$t("label.samlenable")}},[t("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["samlEnable",{initialValue:e.isSamlEnabled}],expression:"['samlEnable', {\n          initialValue: isSamlEnabled\n        }]"}],attrs:{checked:e.isSamlEnabled},on:{change:function(a){e.isSamlEnabled=a}}})],1),t("a-form-item",{attrs:{label:e.$t("label.samlentity")}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["samlEntity",{initialValue:e.selectedIdp}],expression:"['samlEntity', {\n          initialValue: selectedIdp,\n        }]"}]},e._l(e.idps,(function(a,s){return t("a-select-option",{key:s},[e._v(" "+e._s(a.orgName)+" ")])})),1)],1),t("div",{staticClass:"card-footer"},[t("a-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("label.close")))]),t("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("label.ok")))])],1)],1)],1)},i=[],n=(t("99af"),t("d3b7"),t("365c")),l={name:"ConfigureSamlSsoAuth",props:{resource:{type:Object,required:!0}},data:function(){return{selectedIdp:"",idps:[],isSamlEnabled:!1,loading:!1}},beforeCreate:function(){this.form=this.$form.createForm(this)},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.IsUserSamlAuthorized(),this.loading=!0,Object(n["a"])("listIdps").then((function(a){e.idps=a.listidpsresponse.idp||[]})).finally((function(){e.loading=!1}))},IsUserSamlAuthorized:function(){var e=this;Object(n["a"])("listSamlAuthorization",{userid:this.resource.id}).then((function(a){e.isSamlEnabled=a.listsamlauthorizationsresponse.samlauthorization[0].status||!1,e.selectedIdp=a.listsamlauthorizationsresponse.samlauthorization[0].idpid||""}))},handleClose:function(){this.$emit("close-action")},handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields((function(e,t){e||Object(n["a"])("authorizeSamlSso",{enable:t.samlEnable,userid:a.resource.id,entityid:t.samlEntity}).then((function(e){a.$notification.success({message:t.samlEnable?a.$t("label.saml.enable"):a.$t("label.saml.disable"),description:t.samlEnable?"".concat(a.$t("message.success.enable.saml.auth")," ").concat(a.$t("label.for")," ").concat(a.resource.username):"".concat(a.$t("message.success.disable.saml.auth")," ").concat(a.$t("label.for")," ").concat(a.resource.username)}),a.handleClose()})).catch((function(e){a.$notification.error({message:a.$t("message.request.failed"),description:e.response&&e.response.headers&&e.response.headers["x-description"]||e.message,duration:0})})).finally((function(){a.loading=!1}))}))}}},o=l,r=(t("6496"),t("2877")),c=Object(r["a"])(o,s,i,!1,null,"19634b6e",null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-cc3f9608.75b476dc.js.map