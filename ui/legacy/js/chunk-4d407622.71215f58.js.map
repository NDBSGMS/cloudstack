{"version":3,"sources":["webpack:///./src/views/image/IsoZones.vue?493c","webpack:///src/views/image/IsoZones.vue","webpack:///./src/views/image/IsoZones.vue?21dd","webpack:///./src/views/image/IsoZones.vue","webpack:///./src/views/image/IsoZones.vue?815d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","loading","fetchLoading","columns","dataSource","record","zoneid","scopedSlots","_u","key","fn","text","_v","_s","$t","$store","getters","apis","isready","copyLoading","on","$event","showCopyIso","deleteLoading","deleteIso","_e","staticClass","page","pageSize","itemCount","total","handleChangePage","handleChangePageSize","props","value","showCopyActionForm","handleCopyIsoSubmit","onCloseCopyForm","form","directives","name","rawName","rules","required","message","expression","input","option","componentOptions","children","toLowerCase","indexOf","zoneLoading","_l","zone","id","staticRenderFns","resource","type","Object","Boolean","default","data","currentRecord","zones","beforeCreate","$form","createForm","apiConfigParams","apiParams","forEach","created","isActionPermitted","push","title","dataIndex","fixed","width","includes","userInfo","roletype","filter","mounted","fetchData","watch","newData","methods","params","isofilter","listall","pagesize","currentPage","jobid","jobId","description","status","successMethod","singleZone","errorMethod","loadingMessage","catchMessage","fetchZoneData","setFieldsValue","e","preventDefault","validateFields","err","sourcezoneid","destzoneids","values","join","component"],"mappings":"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","file":"js/chunk-4d407622.71215f58.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{staticStyle:{\"overflow-y\":\"auto\"},attrs:{\"size\":\"small\",\"loading\":_vm.loading || _vm.fetchLoading,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"pagination\":false,\"rowKey\":function (record) { return record.zoneid; }},scopedSlots:_vm._u([{key:\"isready\",fn:function(text, record){return _c('div',{},[(record.isready)?_c('span',[_vm._v(_vm._s(_vm.$t('label.yes')))]):_c('span',[_vm._v(_vm._s(_vm.$t('label.no')))])])}},{key:\"action\",fn:function(text, record){return [_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('a-button',{attrs:{\"disabled\":!('copyIso' in _vm.$store.getters.apis && record.isready),\"icon\":\"copy\",\"shape\":\"circle\",\"loading\":_vm.copyLoading},on:{\"click\":function($event){return _vm.showCopyIso(record)}}})],1),_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[('deleteIso' in _vm.$store.getters.apis)?_c('a-popconfirm',{attrs:{\"placement\":\"topRight\",\"title\":_vm.$t('message.action.delete.iso'),\"ok-text\":_vm.$t('label.yes'),\"cancel-text\":_vm.$t('label.no'),\"loading\":_vm.deleteLoading},on:{\"confirm\":function($event){return _vm.deleteIso(record)}}},[_c('a-button',{attrs:{\"type\":\"danger\",\"icon\":\"delete\",\"shape\":\"circle\"}})],1):_vm._e()],1)]}}])}),_c('a-pagination',{staticClass:\"row-element\",attrs:{\"size\":\"small\",\"current\":_vm.page,\"pageSize\":_vm.pageSize,\"total\":_vm.itemCount,\"showTotal\":function (total) { return ((_vm.$t('label.total')) + \" \" + total + \" \" + (_vm.$t('label.items'))); },\"pageSizeOptions\":['10', '20', '40', '80', '100'],\"showSizeChanger\":\"\"},on:{\"change\":_vm.handleChangePage,\"showSizeChange\":_vm.handleChangePageSize},scopedSlots:_vm._u([{key:\"buildOptionText\",fn:function(props){return [_c('span',[_vm._v(_vm._s(props.value)+\" / \"+_vm._s(_vm.$t('label.page')))])]}}])}),('copyIso' in _vm.$store.getters.apis)?_c('a-modal',{staticStyle:{\"top\":\"20px\"},attrs:{\"title\":_vm.$t('label.action.copy.iso'),\"visible\":_vm.showCopyActionForm,\"closable\":true,\"maskClosable\":false,\"okText\":_vm.$t('label.ok'),\"cancelText\":_vm.$t('label.cancel'),\"confirmLoading\":_vm.copyLoading,\"centered\":\"\"},on:{\"ok\":_vm.handleCopyIsoSubmit,\"cancel\":_vm.onCloseCopyForm}},[_c('a-spin',{attrs:{\"spinning\":_vm.copyLoading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleCopyIsoSubmit}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('label.zoneid')}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['zoneid', {\n              rules: [\n                {\n                  required: true,\n                  message: (\"\" + (this.$t('message.error.select')))\n                }\n              ]\n            }]),expression:\"['zoneid', {\\n              rules: [\\n                {\\n                  required: true,\\n                  message: `${this.$t('message.error.select')}`\\n                }\\n              ]\\n            }]\"}],attrs:{\"id\":\"zone-selection\",\"mode\":\"multiple\",\"placeholder\":_vm.$t('label.select.zones'),\"showSearch\":\"\",\"optionFilterProp\":\"children\",\"filterOption\":function (input, option) {\n              return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n            },\"loading\":_vm.zoneLoading}},_vm._l((_vm.zones),function(zone){return _c('a-select-option',{key:zone.id},[_vm._v(\" \"+_vm._s(zone.name)+\" \")])}),1)],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-table\n      size=\"small\"\n      style=\"overflow-y: auto\"\n      :loading=\"loading || fetchLoading\"\n      :columns=\"columns\"\n      :dataSource=\"dataSource\"\n      :pagination=\"false\"\n      :rowKey=\"record => record.zoneid\">\n      <div slot=\"isready\" slot-scope=\"text, record\">\n        <span v-if=\"record.isready\">{{ $t('label.yes') }}</span>\n        <span v-else>{{ $t('label.no') }}</span>\n      </div>\n      <template slot=\"action\" slot-scope=\"text, record\">\n        <span style=\"margin-right: 5px\">\n          <a-button\n            :disabled=\"!('copyIso' in $store.getters.apis && record.isready)\"\n            icon=\"copy\"\n            shape=\"circle\"\n            :loading=\"copyLoading\"\n            @click=\"showCopyIso(record)\" />\n        </span>\n        <span style=\"margin-right: 5px\">\n          <a-popconfirm\n            v-if=\"'deleteIso' in $store.getters.apis\"\n            placement=\"topRight\"\n            :title=\"$t('message.action.delete.iso')\"\n            :ok-text=\"$t('label.yes')\"\n            :cancel-text=\"$t('label.no')\"\n            :loading=\"deleteLoading\"\n            @confirm=\"deleteIso(record)\"\n          >\n            <a-button\n              type=\"danger\"\n              icon=\"delete\"\n              shape=\"circle\" />\n          </a-popconfirm>\n        </span>\n      </template>\n    </a-table>\n    <a-pagination\n      class=\"row-element\"\n      size=\"small\"\n      :current=\"page\"\n      :pageSize=\"pageSize\"\n      :total=\"itemCount\"\n      :showTotal=\"total => `${$t('label.total')} ${total} ${$t('label.items')}`\"\n      :pageSizeOptions=\"['10', '20', '40', '80', '100']\"\n      @change=\"handleChangePage\"\n      @showSizeChange=\"handleChangePageSize\"\n      showSizeChanger>\n      <template slot=\"buildOptionText\" slot-scope=\"props\">\n        <span>{{ props.value }} / {{ $t('label.page') }}</span>\n      </template>\n    </a-pagination>\n\n    <a-modal\n      v-if=\"'copyIso' in $store.getters.apis\"\n      style=\"top: 20px;\"\n      :title=\"$t('label.action.copy.iso')\"\n      :visible=\"showCopyActionForm\"\n      :closable=\"true\"\n      :maskClosable=\"false\"\n      :okText=\"$t('label.ok')\"\n      :cancelText=\"$t('label.cancel')\"\n      @ok=\"handleCopyIsoSubmit\"\n      @cancel=\"onCloseCopyForm\"\n      :confirmLoading=\"copyLoading\"\n      centered>\n      <a-spin :spinning=\"copyLoading\">\n        <a-form\n          :form=\"form\"\n          @submit=\"handleCopyIsoSubmit\"\n          layout=\"vertical\">\n          <a-form-item :label=\"$t('label.zoneid')\">\n            <a-select\n              id=\"zone-selection\"\n              mode=\"multiple\"\n              :placeholder=\"$t('label.select.zones')\"\n              v-decorator=\"['zoneid', {\n                rules: [\n                  {\n                    required: true,\n                    message: `${this.$t('message.error.select')}`\n                  }\n                ]\n              }]\"\n              showSearch\n              optionFilterProp=\"children\"\n              :filterOption=\"(input, option) => {\n                return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n              }\"\n              :loading=\"zoneLoading\">\n              <a-select-option v-for=\"zone in zones\" :key=\"zone.id\">\n                {{ zone.name }}\n              </a-select-option>\n            </a-select>\n          </a-form-item>\n        </a-form>\n      </a-spin>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'IsoZones',\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      columns: [],\n      dataSource: [],\n      page: 1,\n      pageSize: 10,\n      itemCount: 0,\n      fetchLoading: false,\n      showCopyActionForm: false,\n      currentRecord: {},\n      zones: [],\n      zoneLoading: false,\n      copyLoading: false,\n      deleteLoading: false\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    this.apiConfigParams = (this.$store.getters.apis.copyIso && this.$store.getters.apis.copyIso.params) || []\n    this.apiParams = {}\n    this.apiConfigParams.forEach(param => {\n      this.apiParams[param.name] = param\n    })\n  },\n  created () {\n    this.columns = [\n      {\n        title: this.$t('label.zonename'),\n        dataIndex: 'zonename'\n      },\n      {\n        title: this.$t('label.status'),\n        dataIndex: 'status'\n      },\n      {\n        title: this.$t('label.isready'),\n        dataIndex: 'isready',\n        scopedSlots: { customRender: 'isready' }\n      }\n    ]\n    if (this.isActionPermitted()) {\n      this.columns.push({\n        title: '',\n        dataIndex: 'action',\n        fixed: 'right',\n        width: 100,\n        scopedSlots: { customRender: 'action' }\n      })\n    }\n\n    const userInfo = this.$store.getters.userInfo\n    if (!['Admin'].includes(userInfo.roletype) &&\n      (userInfo.account !== this.resource.account || userInfo.domain !== this.resource.domain)) {\n      this.columns = this.columns.filter(col => { return col.dataIndex !== 'status' })\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  watch: {\n    loading (newData, oldData) {\n      if (!newData) {\n        this.fetchData()\n      }\n    }\n  },\n  methods: {\n    fetchData () {\n      const params = {}\n      params.id = this.resource.id\n      params.isofilter = 'executable'\n      params.listall = true\n      params.page = this.page\n      params.pagesize = this.pageSize\n\n      this.dataSource = []\n      this.itemCount = 0\n      this.fetchLoading = true\n      api('listIsos', params).then(json => {\n        this.dataSource = json.listisosresponse.iso || []\n        this.itemCount = json.listisosresponse.count || 0\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.fetchLoading = false\n      })\n    },\n    handleChangePage (page, pageSize) {\n      this.page = page\n      this.pageSize = pageSize\n      this.fetchData()\n    },\n    handleChangePageSize (currentPage, pageSize) {\n      this.page = currentPage\n      this.pageSize = pageSize\n      this.fetchData()\n    },\n    isActionPermitted () {\n      return (['Admin'].includes(this.$store.getters.userInfo.roletype) || // If admin or owner or belongs to current project\n        (this.resource.domainid === this.$store.getters.userInfo.domainid && this.resource.account === this.$store.getters.userInfo.account) ||\n        (this.resource.domainid === this.$store.getters.userInfo.domainid && this.resource.projectid && this.$store.getters.project && this.$store.getters.project.id && this.resource.projectid === this.$store.getters.project.id)) &&\n        (this.resource.isready || !this.resource.status || this.resource.status.indexOf('Downloaded') === -1) && // Iso is ready or downloaded\n        this.resource.account !== 'system'\n    },\n    deleteIso (record) {\n      const params = {\n        id: record.id,\n        zoneid: record.zoneid\n      }\n      this.deleteLoading = true\n      api('deleteIso', params).then(json => {\n        const jobId = json.deleteisoresponse.jobid\n        this.$store.dispatch('AddAsyncJob', {\n          title: this.$t('label.action.delete.iso'),\n          jobid: jobId,\n          description: this.resource.name,\n          status: 'progress'\n        })\n        const singleZone = (this.dataSource.length === 1)\n        this.$pollJob({\n          jobId,\n          successMethod: result => {\n            if (singleZone) {\n              this.$router.go(-1)\n            } else {\n              this.fetchData()\n            }\n          },\n          errorMethod: () => this.fetchData(),\n          loadingMessage: `${this.$t('label.deleting.iso')} ${this.resource.name} ${this.$t('label.in.progress')}`,\n          catchMessage: this.$t('error.fetching.async.job.result')\n        })\n      }).catch(error => {\n        this.$notifyError(error)\n      }).finally(() => {\n        this.deleteLoading = false\n        this.fetchData()\n      })\n    },\n    fetchZoneData () {\n      this.zones = []\n      this.zoneLoading = true\n      api('listZones', { listall: true }).then(json => {\n        const zones = json.listzonesresponse.zone || []\n        this.zones = [...zones.filter((zone) => this.currentRecord.zoneid !== zone.id)]\n      }).finally(() => {\n        this.zoneLoading = false\n      })\n    },\n    showCopyIso (record) {\n      this.currentRecord = record\n      this.form.setFieldsValue({\n        zoneid: []\n      })\n      this.fetchZoneData()\n      this.showCopyActionForm = true\n    },\n    onCloseCopyForm () {\n      this.currentRecord = {}\n      this.showCopyActionForm = false\n    },\n    handleCopyIsoSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        const params = {\n          id: this.currentRecord.id,\n          sourcezoneid: this.currentRecord.zoneid,\n          destzoneids: values.zoneid.join()\n        }\n        this.copyLoading = true\n        api('copyIso', params).then(json => {\n          const jobId = json.copytemplateresponse.jobid\n          this.$store.dispatch('AddAsyncJob', {\n            title: this.$t('label.action.copy.iso'),\n            jobid: jobId,\n            description: this.resource.name,\n            status: 'progress'\n          })\n          this.$pollJob({\n            jobId,\n            successMethod: result => {\n              this.fetchData()\n            },\n            errorMethod: () => this.fetchData(),\n            loadingMessage: `${this.$t('label.action.copy.iso')} ${this.resource.name} ${this.$t('label.in.progress')}`,\n            catchMessage: this.$t('error.fetching.async.job.result')\n          })\n        }).catch(error => {\n          this.$notification.error({\n            message: this.$t('message.request.failed'),\n            description: (error.response && error.response.headers && error.response.headers['x-description']) || error.message\n          })\n        }).finally(() => {\n          this.copyLoading = false\n          this.$emit('refresh-data')\n          this.onCloseCopyForm()\n          this.fetchData()\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.row-element {\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsoZones.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsoZones.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IsoZones.vue?vue&type=template&id=23a74f2e&scoped=true&\"\nimport script from \"./IsoZones.vue?vue&type=script&lang=js&\"\nexport * from \"./IsoZones.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IsoZones.vue?vue&type=style&index=0&id=23a74f2e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23a74f2e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsoZones.vue?vue&type=style&index=0&id=23a74f2e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsoZones.vue?vue&type=style&index=0&id=23a74f2e&lang=less&scoped=true&\""],"sourceRoot":""}