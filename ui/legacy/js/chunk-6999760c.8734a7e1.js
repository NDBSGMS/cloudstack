(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6999760c"],{"36ee":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.remoteAccessVpn?a("div",[a("div",[a("p",[e._v(e._s(e.$t("message.enabled.vpn"))+" "),a("strong",[e._v(e._s(e.remoteAccessVpn.publicip))])]),a("p",[e._v(e._s(e.$t("message.enabled.vpn.ip.sec"))+" "),a("strong",[e._v(e._s(e.remoteAccessVpn.presharedkey))])]),a("a-divider"),a("a-button",[a("router-link",{attrs:{to:{path:"/vpnuser"}}},[e._v(e._s(e.$t("label.manage.vpn.user")))])],1),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",disabled:!("deleteRemoteAccessVpn"in e.$store.getters.apis)},on:{click:function(t){e.disableVpn=!0}}},[e._v(" "+e._s(e.$t("label.disable.vpn"))+" ")])],1),a("a-modal",{attrs:{footer:null,oncancel:"disableVpn = false",title:e.$t("label.disable.vpn"),maskClosable:!1},model:{value:e.disableVpn,callback:function(t){e.disableVpn=t},expression:"disableVpn"}},[a("p",[e._v(e._s(e.$t("message.disable.vpn")))]),a("a-divider"),a("div",{staticClass:"actions"},[a("a-button",{on:{click:function(){return e.disableVpn=!1}}},[e._v(e._s(e.$t("label.cancel")))]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleDisableVpn}},[e._v(e._s(e.$t("label.yes")))])],1)],1)],1):a("div",[a("a-button",{attrs:{disabled:!("createRemoteAccessVpn"in e.$store.getters.apis),type:"primary"},on:{click:function(t){e.enableVpn=!0}}},[e._v(" "+e._s(e.$t("label.enable.vpn"))+" ")]),a("a-modal",{attrs:{footer:null,onCancel:"enableVpn = false",title:e.$t("label.enable.vpn"),maskClosable:!1},model:{value:e.enableVpn,callback:function(t){e.enableVpn=t},expression:"enableVpn"}},[a("p",[e._v(e._s(e.$t("message.enable.vpn")))]),a("a-divider"),a("div",{staticClass:"actions"},[a("a-button",{on:{click:function(){return e.enableVpn=!1}}},[e._v(e._s(e.$t("label.cancel")))]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleCreateVpn}},[e._v(e._s(e.$t("label.yes")))])],1)],1)],1)},s=[],c=(a("99af"),a("365c")),o={props:{resource:{type:Object,required:!0}},data:function(){return{remoteAccessVpn:null,enableVpn:!1,disableVpn:!1}},inject:["parentFetchData","parentToggleLoading"],mounted:function(){this.fetchData()},watch:{resource:function(e,t){e&&e.id&&(this.resource=e,this.fetchData())}},methods:{fetchData:function(){var e=this;Object(c["a"])("listRemoteAccessVpns",{publicipid:this.resource.id,listAll:!0}).then((function(t){e.remoteAccessVpn=t.listremoteaccessvpnsresponse.remoteaccessvpn?t.listremoteaccessvpnsresponse.remoteaccessvpn[0]:null})).catch((function(t){console.log(t),e.$notifyError(t)}))},handleCreateVpn:function(){var e=this;this.parentToggleLoading(),this.enableVpn=!1,Object(c["a"])("createRemoteAccessVpn",{publicipid:this.resource.id,domainid:this.resource.domainid,account:this.resource.account}).then((function(t){e.$pollJob({jobId:t.createremoteaccessvpnresponse.jobid,successMethod:function(t){var a=t.jobresult.remoteaccessvpn;e.$notification.success({message:e.$t("label.status"),description:"".concat(e.$t("message.enabled.vpn")," ").concat(a.publicip,". ").concat(e.$t("message.enabled.vpn.ip.sec")," ").concat(a.presharedkey),duration:0}),e.fetchData(),e.parentFetchData(),e.parentToggleLoading()},errorMessage:e.$t("message.enable.vpn.failed"),errorMethod:function(){e.fetchData(),e.parentFetchData(),e.parentToggleLoading()},loadingMessage:e.$t("message.enable.vpn.processing"),catchMessage:e.$t("error.fetching.async.job.result"),catchMethod:function(){e.fetchData(),e.parentFetchData(),e.parentToggleLoading()}})})).catch((function(t){e.$notifyError(t),e.fetchData(),e.parentFetchData(),e.parentToggleLoading()}))},handleDisableVpn:function(){var e=this;this.parentToggleLoading(),this.disableVpn=!1,Object(c["a"])("deleteRemoteAccessVpn",{publicipid:this.resource.id,domainid:this.resource.domainid}).then((function(t){e.$pollJob({jobId:t.deleteremoteaccessvpnresponse.jobid,successMessage:e.$t("message.success.disable.vpn"),successMethod:function(){e.fetchData(),e.parentFetchData(),e.parentToggleLoading()},errorMessage:e.$t("message.disable.vpn.failed"),errorMethod:function(){e.fetchData(),e.parentFetchData(),e.parentToggleLoading()},loadingMessage:e.$t("message.disable.vpn.processing"),catchMessage:e.$t("error.fetching.async.job.result"),catchMethod:function(){e.fetchData(),e.parentFetchData(),e.parentToggleLoading()}})})).catch((function(t){e.$notifyError(t),e.fetchData(),e.parentFetchData(),e.parentToggleLoading()}))}}},i=o,r=(a("fb7f"),a("2877")),l=Object(r["a"])(i,n,s,!1,null,"2617f3e2",null);t["default"]=l.exports},fb7f:function(e,t,a){"use strict";var n=a("fc02"),s=a.n(n);s.a},fc02:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6999760c.8734a7e1.js.map