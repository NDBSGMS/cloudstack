(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0d79"],{4403:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-table",{attrs:{size:"small",loading:t.loading,columns:t.columns,dataSource:t.dataSource,rowKey:function(t){return t.name},pagination:!1,scroll:{y:"55vh"}},scopedSlots:t._u([{key:"quota",fn:function(a){return[void 0!==a?e("span",[t._v(t._s(t.currency+" "+a))]):t._e()]}}])})],1)},o=[],c=(e("99af"),e("d3b7"),e("96cf"),e("c964")),u=e("365c"),r=e("c1df"),s=e.n(r),i={name:"QuotaUsage",props:{resource:{type:Object,required:!0},tab:{type:String,default:function(){return""}}},data:function(){return{loading:!1,dataSource:[],pattern:"YYYY-MM-DD",currency:"",totalQuota:0,account:null}},computed:{columns:function(){return[{title:this.$t("label.quota.type.name"),dataIndex:"name",width:"calc(100% / 3)",scopedSlots:{customRender:"name"}},{title:this.$t("label.quota.type.unit"),dataIndex:"unit",width:"calc(100% / 3)",scopedSlots:{customRender:"unit"}},{title:this.$t("label.quota.usage"),dataIndex:"quota",width:"calc(100% / 3)",scopedSlots:{customRender:"quota"}}]}},watch:{tab:function(t,a){this.tab=t,"quota.statement.quota"===this.tab&&this.fetchData()}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var e,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,t.dataSource=[],t.account=t.$route.query&&t.$route.query.account?t.$route.query.account:null,a.prev=3,a.next=6,t.quotaBalance();case 6:return e=a.sent,a.next=9,t.quotaStatement(e);case 9:n=a.sent,o=n.quotausage,t.dataSource=t.dataSource.concat(o),t.currency=n.currency,t.totalQuota=n.totalquota,t.dataSource.push({name:"".concat(t.$t("label.quota.total"),": "),quota:t.totalQuota}),t.dataSource.unshift({type:0,name:"".concat(t.$t("startdate"),": ").concat(s()(t.resource.startdate).format(t.pattern)),unit:"".concat(t.$t("enddate"),": ").concat(s()(t.resource.enddate).format(t.pattern))}),t.loading=!1,a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](3),console.log(a.t0),t.loading=!1;case 23:case"end":return a.stop()}}),a,null,[[3,19]])})))()},quotaBalance:function(){var t=this;return new Promise((function(a,e){var n={};n.domainid=t.resource.domainid,n.account=t.account,Object(u["a"])("quotaBalance",n).then((function(t){var e=t.quotabalanceresponse.balance||{};a(e)})).catch((function(t){e(t)}))}))},quotaStatement:function(t){var a=this;return new Promise((function(e,n){var o={};o.domainid=a.resource.domainid,o.account=a.account,o.startdate=s()(a.resource.startdate).format(a.pattern),o.enddate=s()(t.startdate).format(a.pattern),Object(u["a"])("quotaStatement",o).then((function(t){var a=t.quotastatementresponse.statement||{};e(a)})).catch((function(t){n(t)}))}))}}},d=i,l=e("2877"),m=Object(l["a"])(d,n,o,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c0d79.29c94ad5.js.map