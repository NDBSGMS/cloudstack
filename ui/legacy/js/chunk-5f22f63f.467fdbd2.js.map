{"version":3,"sources":["webpack:///./src/views/dashboard/Dashboard.vue?b7a8","webpack:///./src/views/dashboard/CapacityDashboard.vue?dd43","webpack:///src/views/dashboard/CapacityDashboard.vue","webpack:///./src/views/dashboard/CapacityDashboard.vue?be2f","webpack:///./src/views/dashboard/CapacityDashboard.vue","webpack:///./src/views/dashboard/UsageDashboard.vue?c238","webpack:///src/views/dashboard/UsageDashboard.vue","webpack:///./src/views/dashboard/UsageDashboard.vue?1708","webpack:///./src/views/dashboard/UsageDashboard.vue","webpack:///./src/views/dashboard/OnboardingDashboard.vue?c614","webpack:///src/views/dashboard/OnboardingDashboard.vue","webpack:///./src/views/dashboard/OnboardingDashboard.vue?baed","webpack:///./src/views/dashboard/OnboardingDashboard.vue","webpack:///src/views/dashboard/Dashboard.vue","webpack:///./src/views/dashboard/Dashboard.vue?b186","webpack:///./src/views/dashboard/Dashboard.vue","webpack:///./src/views/dashboard/CapacityDashboard.vue?364f","webpack:///./src/views/iam/ChangeUserPassword.vue?4cb8","webpack:///./src/views/dashboard/UsageDashboard.vue?7cee","webpack:///./src/views/dashboard/OnboardingDashboard.vue?81db","webpack:///./src/views/dashboard/UsageDashboardChart.vue?40d0","webpack:///src/views/dashboard/UsageDashboardChart.vue","webpack:///./src/views/dashboard/UsageDashboardChart.vue?0f31","webpack:///./src/views/dashboard/UsageDashboardChart.vue","webpack:///./src/views/iam/ChangeUserPassword.vue?9616","webpack:///src/views/iam/ChangeUserPassword.vue","webpack:///./src/views/iam/ChangeUserPassword.vue?2acd","webpack:///./src/views/iam/ChangeUserPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$store","getters","userInfo","roletype","project","attrs","staticRenderFns","zoneSelected","name","$t","on","changeZone","_l","zone","index","key","_v","_s","listCapacity","listEvents","stat","type","style","marginBottom","loading","path","id","ts","getStatus","parseFloat","percentused","percent","toFixed","getStrokeColour","slot","displayData","capacityused","capacitytotal","staticStyle","query","event","getEventColour","color","$toLocaleDate","created","username","description","components","ChartCard","data","events","zones","stats","CPU","CPU_CORE","DIRECT_ATTACHED_PUBLIC_IP","GPU","LOCAL_STORAGE","MEMORY","PRIVATE_IP","SECONDARY_STORAGE","STORAGE","STORAGE_ALLOCATED","VIRTUAL_NETWORK_PUBLIC_IP","VLAN","mounted","fetchData","watch","to","setTimeout","methods","value","dataType","listZones","zoneid","fetchlatest","latest","json","listcapacityresponse","capacity","page","pagesize","listall","listeventsresponse","level","state","listzonesresponse","filterZone","option","componentOptions","children","text","toLowerCase","indexOf","input","component","onTabChange","$route","meta","tab","show","tag","_e","bgcolor","icon","undefined","count","UsageDashboardChart","props","resource","Object","default","showProject","Boolean","showAction","showAddAccount","beforeCreate","form","$form","createForm","store","newData","from","listvirtualmachinesresponse","listvolumesresponse","listnetworksresponse","listpublicipaddressesresponse","this$1","step","closeAction","parentFetchData","ChangeUserPassword","ZoneWizard","inject","CapacityDashboard","UsageDashboard","OnboardingDashboard","provide","showCapacityDashboard","showOnboarding","prototype","hasOwnProperty","call","includes","Array","handleSubmit","isAdminOrDomainAdmin","apiParams","currentpassword","directives","rawName","rules","required","message","expression","password","validator","validateTwoPassword","apiConfig","apis","updateUser","params","forEach","isValidValueForKey","obj","length","passwordVal","callback","messageConfirm","e","preventDefault","validateFields","err","values","$emit"],"mappings":"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","file":"js/chunk-5f22f63f.467fdbd2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-header-index-wide\"},[(_vm.showOnboarding)?_c('div',[_c('onboarding-dashboard')],1):(_vm.$store.getters.userInfo.roletype === 'Admin' && !_vm.project)?_c('div',[_c('capacity-dashboard')],1):_c('div',[_c('usage-dashboard',{attrs:{\"resource\":_vm.$store.getters.project,\"showProject\":_vm.project}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-row',{staticClass:\"capacity-dashboard\",attrs:{\"gutter\":12}},[_c('a-col',{attrs:{\"xl\":18}},[_c('div',{staticClass:\"capacity-dashboard-wrapper\"},[_c('div',{staticClass:\"capacity-dashboard-select\"},[_c('a-select',{attrs:{\"showSearch\":\"\",\"optionFilterProp\":\"children\",\"defaultValue\":_vm.zoneSelected.name,\"placeholder\":_vm.$t('label.select.a.zone'),\"value\":_vm.zoneSelected.name},on:{\"change\":_vm.changeZone}},_vm._l((_vm.zones),function(zone,index){return _c('a-select-option',{key:index},[_vm._v(\" \"+_vm._s(zone.name)+\" \")])}),1)],1),_c('div',{staticClass:\"capacity-dashboard-button\"},[_c('a-button',{attrs:{\"shape\":\"round\"},on:{\"click\":function () { _vm.listCapacity(_vm.zoneSelected, true); _vm.listEvents() }}},[_vm._v(\" \"+_vm._s(_vm.$t('label.fetch.latest'))+\" \")])],1)]),_c('a-row',{attrs:{\"gutter\":12}},_vm._l((_vm.stats),function(stat){return _c('a-col',{key:stat.type,style:({ marginBottom: '12px' }),attrs:{\"xs\":12,\"sm\":8,\"md\":6}},[_c('chart-card',{attrs:{\"loading\":_vm.loading}},[_c('router-link',{attrs:{\"to\":{ path: '/zone/' + _vm.zoneSelected.id }}},[_c('div',{staticClass:\"capacity-dashboard-chart-card-inner\"},[_c('h3',[_vm._v(_vm._s(_vm.$t(_vm.ts[stat.name])))]),_c('a-progress',{attrs:{\"type\":\"dashboard\",\"status\":_vm.getStatus(parseFloat(stat.percentused)),\"percent\":parseFloat(stat.percentused),\"format\":function (percent) { return ((parseFloat(stat.percentused).toFixed(2)) + \"%\"); },\"strokeColor\":_vm.getStrokeColour(parseFloat(stat.percentused)),\"width\":100}})],1)]),_c('template',{slot:\"footer\"},[_c('center',[_vm._v(_vm._s(_vm.displayData(stat.name, stat.capacityused))+\" / \"+_vm._s(_vm.displayData(stat.name, stat.capacitytotal)))])],1)],2)],1)}),1)],1),_c('a-col',{attrs:{\"xl\":6}},[_c('chart-card',{attrs:{\"loading\":_vm.loading}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-tooltip',{staticClass:\"capacity-dashboard-button-wrapper\",attrs:{\"placement\":\"bottom\"}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.view') + ' ' + _vm.$t('label.host.alerts'))+\" \")]),_c('a-button',{attrs:{\"type\":\"danger\",\"shape\":\"circle\"}},[_c('router-link',{attrs:{\"to\":{ name: 'host', query: {'state': 'Alert'} }}},[_c('a-icon',{staticClass:\"capacity-dashboard-button-icon\",attrs:{\"type\":\"desktop\"}})],1)],1)],2),_c('a-tooltip',{staticClass:\"capacity-dashboard-button-wrapper\",attrs:{\"placement\":\"bottom\"}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.view') + ' ' + _vm.$t('label.alerts'))+\" \")]),_c('a-button',{attrs:{\"shape\":\"circle\"}},[_c('router-link',{attrs:{\"to\":{ name: 'alert' }}},[_c('a-icon',{staticClass:\"capacity-dashboard-button-icon\",attrs:{\"type\":\"flag\"}})],1)],1)],2),_c('a-tooltip',{staticClass:\"capacity-dashboard-button-wrapper\",attrs:{\"placement\":\"bottom\"}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.view') + ' ' + _vm.$t('label.events'))+\" \")]),_c('a-button',{attrs:{\"shape\":\"circle\"}},[_c('router-link',{attrs:{\"to\":{ name: 'event' }}},[_c('a-icon',{staticClass:\"capacity-dashboard-button-icon\",attrs:{\"type\":\"schedule\"}})],1)],1)],2)],1),_c('template',{slot:\"footer\"},[_c('div',{staticClass:\"capacity-dashboard-footer\"},[_c('a-timeline',_vm._l((_vm.events),function(event){return _c('a-timeline-item',{key:event.id,attrs:{\"color\":_vm.getEventColour(event)}},[_c('span',{style:({ color: '#999' })},[_c('small',[_vm._v(_vm._s(_vm.$toLocaleDate(event.created)))])]),_c('br'),_c('span',{style:({ color: '#666' })},[_c('small',[_c('router-link',{attrs:{\"to\":{ path: 'event/' + event.id }}},[_vm._v(_vm._s(event.type))])],1)]),_c('br'),_c('span',{style:({ color: '#aaa' })},[_vm._v(\"(\"+_vm._s(event.username)+\") \"+_vm._s(event.description))])])}),1)],1)])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <a-row class=\"capacity-dashboard\" :gutter=\"12\">\n    <a-col :xl=\"18\">\n      <div class=\"capacity-dashboard-wrapper\">\n        <div class=\"capacity-dashboard-select\">\n          <a-select\n            showSearch\n            optionFilterProp=\"children\"\n            :defaultValue=\"zoneSelected.name\"\n            :placeholder=\"$t('label.select.a.zone')\"\n            :value=\"zoneSelected.name\"\n            @change=\"changeZone\">\n            <a-select-option v-for=\"(zone, index) in zones\" :key=\"index\">\n              {{ zone.name }}\n            </a-select-option>\n          </a-select>\n        </div>\n        <div class=\"capacity-dashboard-button\">\n          <a-button\n            shape=\"round\"\n            @click=\"() => { listCapacity(zoneSelected, true); listEvents() }\">\n            {{ $t('label.fetch.latest') }}\n          </a-button>\n        </div>\n      </div>\n      <a-row :gutter=\"12\">\n        <a-col\n          :xs=\"12\"\n          :sm=\"8\"\n          :md=\"6\"\n          :style=\"{ marginBottom: '12px' }\"\n          v-for=\"stat in stats\"\n          :key=\"stat.type\">\n          <chart-card :loading=\"loading\">\n            <router-link :to=\"{ path: '/zone/' + zoneSelected.id }\">\n              <div class=\"capacity-dashboard-chart-card-inner\">\n                <h3>{{ $t(ts[stat.name]) }}</h3>\n                <a-progress\n                  type=\"dashboard\"\n                  :status=\"getStatus(parseFloat(stat.percentused))\"\n                  :percent=\"parseFloat(stat.percentused)\"\n                  :format=\"percent => `${parseFloat(stat.percentused).toFixed(2)}%`\"\n                  :strokeColor=\"getStrokeColour(parseFloat(stat.percentused))\"\n                  :width=\"100\" />\n              </div>\n            </router-link>\n            <template slot=\"footer\"><center>{{ displayData(stat.name, stat.capacityused) }} / {{ displayData(stat.name, stat.capacitytotal) }}</center></template>\n          </chart-card>\n        </a-col>\n      </a-row>\n    </a-col>\n\n    <a-col :xl=\"6\">\n      <chart-card :loading=\"loading\">\n        <div style=\"text-align: center\">\n          <a-tooltip placement=\"bottom\" class=\"capacity-dashboard-button-wrapper\">\n            <template slot=\"title\">\n              {{ $t('label.view') + ' ' + $t('label.host.alerts') }}\n            </template>\n            <a-button type=\"danger\" shape=\"circle\">\n              <router-link :to=\"{ name: 'host', query: {'state': 'Alert'} }\">\n                <a-icon class=\"capacity-dashboard-button-icon\" type=\"desktop\" />\n              </router-link>\n            </a-button>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\" class=\"capacity-dashboard-button-wrapper\">\n            <template slot=\"title\">\n              {{ $t('label.view') + ' ' + $t('label.alerts') }}\n            </template>\n            <a-button shape=\"circle\">\n              <router-link :to=\"{ name: 'alert' }\">\n                <a-icon class=\"capacity-dashboard-button-icon\" type=\"flag\" />\n              </router-link>\n            </a-button>\n          </a-tooltip>\n          <a-tooltip placement=\"bottom\" class=\"capacity-dashboard-button-wrapper\">\n            <template slot=\"title\">\n              {{ $t('label.view') + ' ' + $t('label.events') }}\n            </template>\n            <a-button shape=\"circle\">\n              <router-link :to=\"{ name: 'event' }\">\n                <a-icon class=\"capacity-dashboard-button-icon\" type=\"schedule\" />\n              </router-link>\n            </a-button>\n          </a-tooltip>\n        </div>\n        <template slot=\"footer\">\n          <div class=\"capacity-dashboard-footer\">\n            <a-timeline>\n              <a-timeline-item\n                v-for=\"event in events\"\n                :key=\"event.id\"\n                :color=\"getEventColour(event)\">\n                <span :style=\"{ color: '#999' }\"><small>{{ $toLocaleDate(event.created) }}</small></span><br/>\n                <span :style=\"{ color: '#666' }\"><small><router-link :to=\"{ path: 'event/' + event.id }\">{{ event.type }}</router-link></small></span><br/>\n                <span :style=\"{ color: '#aaa' }\">({{ event.username }}) {{ event.description }}</span>\n              </a-timeline-item>\n            </a-timeline>\n          </div>\n        </template>\n      </chart-card>\n    </a-col>\n  </a-row>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nimport ChartCard from '@/components/widgets/ChartCard'\n\nexport default {\n  name: 'CapacityDashboard',\n  components: {\n    ChartCard\n  },\n  data () {\n    return {\n      loading: true,\n      events: [],\n      zones: [],\n      zoneSelected: {},\n      stats: [],\n      ts: {\n        CPU: 'label.cpu',\n        CPU_CORE: 'label.cpunumber',\n        DIRECT_ATTACHED_PUBLIC_IP: 'label.direct.ips',\n        GPU: 'label.gpu',\n        LOCAL_STORAGE: 'label.local.storage',\n        MEMORY: 'label.memory',\n        PRIVATE_IP: 'label.management.ips',\n        SECONDARY_STORAGE: 'label.secondary.storage',\n        STORAGE: 'label.storage',\n        STORAGE_ALLOCATED: 'label.primary.storage',\n        VIRTUAL_NETWORK_PUBLIC_IP: 'label.public.ips',\n        VLAN: 'label.vlan'\n      }\n    }\n  },\n  mounted () {\n    this.fetchData()\n  },\n  watch: {\n    '$route' (to, from) {\n      if (to.name === 'dashboard') {\n        this.fetchData()\n      }\n    }\n  },\n  created () {\n    setTimeout(() => {\n      // to do after initial timeout\n    }, 1000)\n  },\n  methods: {\n    getStatus (value) {\n      if (value > 85) {\n        return 'exception'\n      }\n      if (value > 75) {\n        return 'active'\n      }\n      return 'normal'\n    },\n    getStrokeColour (value) {\n      if (value >= 80) {\n        return 'red'\n      }\n      return 'primary'\n    },\n    displayData (dataType, value) {\n      switch (dataType) {\n        case 'CPU':\n          value = parseFloat(value / 1000.0, 10).toFixed(2) + ' GHz'\n          break\n        case 'MEMORY':\n        case 'STORAGE':\n        case 'STORAGE_ALLOCATED':\n        case 'SECONDARY_STORAGE':\n        case 'LOCAL_STORAGE':\n          value = parseFloat(value / (1024 * 1024 * 1024.0), 10).toFixed(2)\n          if (value >= 1024.0) {\n            value = parseFloat(value / 1024.0).toFixed(2) + ' TB'\n          } else {\n            value = value + ' GB'\n          }\n          break\n      }\n      return value\n    },\n    fetchData () {\n      this.listZones()\n      this.listEvents()\n    },\n    listCapacity (zone, latest = false) {\n      const params = {\n        zoneid: zone.id,\n        fetchlatest: latest\n      }\n      this.loading = true\n      api('listCapacity', params).then(json => {\n        this.stats = []\n        this.loading = false\n        if (json && json.listcapacityresponse && json.listcapacityresponse.capacity) {\n          this.stats = json.listcapacityresponse.capacity\n        }\n      })\n    },\n    listEvents () {\n      const params = {\n        page: 1,\n        pagesize: 6,\n        listall: true\n      }\n      this.loading = true\n      api('listEvents', params).then(json => {\n        this.events = []\n        this.loading = false\n        if (json && json.listeventsresponse && json.listeventsresponse.event) {\n          this.events = json.listeventsresponse.event\n        }\n      })\n    },\n    getEventColour (event) {\n      if (event.level === 'ERROR') {\n        return 'red'\n      }\n      if (event.state === 'Completed') {\n        return 'green'\n      }\n      return 'blue'\n    },\n    listZones () {\n      api('listZones').then(json => {\n        if (json && json.listzonesresponse && json.listzonesresponse.zone) {\n          this.zones = json.listzonesresponse.zone\n          if (this.zones.length > 0) {\n            this.zoneSelected = this.zones[0]\n            this.listCapacity(this.zones[0])\n          }\n        }\n      })\n    },\n    changeZone (index) {\n      this.zoneSelected = this.zones[index]\n      this.listCapacity(this.zoneSelected)\n    },\n    filterZone (input, option) {\n      return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.capacity-dashboard {\n  &-wrapper {\n    display: flex;\n    margin-bottom: 12px;\n  }\n\n  &-chart-card-inner {\n     text-align: center;\n     white-space: nowrap;\n     overflow: hidden;\n  }\n\n  &-select {\n    width: 100%; // for flexbox causes\n\n    .ant-select {\n      width: 100%; // to fill flex item width\n    }\n  }\n\n  &-button-wrapper {\n    margin-left: 12px;\n  }\n\n  &-button {\n    width: auto;\n    padding-left: 12px;\n  }\n\n  &-button-icon {\n    font-size: 16px;\n    padding: 2px;\n  }\n\n  &-footer {\n    padding-top: 12px;\n    padding-left: 3px;\n    white-space: normal;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CapacityDashboard.vue?vue&type=template&id=0efc650a&scoped=true&\"\nimport script from \"./CapacityDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./CapacityDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CapacityDashboard.vue?vue&type=style&index=0&id=0efc650a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0efc650a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-row',{staticClass:\"usage-dashboard\",attrs:{\"gutter\":12}},[_c('a-col',{attrs:{\"xl\":16}},[_c('a-row',{attrs:{\"gutter\":12}},[_c('a-card',[(_vm.showProject)?_c('a-tabs',{attrs:{\"animated\":false},on:{\"change\":_vm.onTabChange}},_vm._l((_vm.$route.meta.tabs),function(tab){return ('show' in tab ? tab.show(_vm.project, _vm.$route, _vm.$store.getters.userInfo) : true)?_c('a-tab-pane',{key:tab.name,attrs:{\"tab\":_vm.$t('label.' + tab.name)}},[_c(tab.component,{tag:\"component\",attrs:{\"resource\":_vm.project,\"loading\":_vm.loading,\"bordered\":false,\"stats\":_vm.stats}})],1):_vm._e()}),1):_vm._l((_vm.stats),function(stat){return _c('a-col',{key:stat.type,staticClass:\"usage-dashboard-chart-tile\",attrs:{\"xs\":12,\"md\":8}},[_c('a-card',{staticClass:\"usage-dashboard-chart-card\",style:(stat.bgcolor ? { 'background-color': stat.bgcolor } : {}),attrs:{\"bordered\":false,\"loading\":_vm.loading}},[_c('router-link',{attrs:{\"to\":{ path: stat.path }}},[_c('div',{staticClass:\"usage-dashboard-chart-card-inner\"},[_c('h3',[_vm._v(_vm._s(stat.name))]),_c('h2',[_c('a-icon',{attrs:{\"type\":stat.icon}}),_vm._v(\" \"+_vm._s(stat.count == undefined ? 0 : stat.count)+\" \")],1)])])],1)],1)})],2)],1)],1),_c('a-col',{attrs:{\"xl\":8}},[_c('chart-card',{attrs:{\"loading\":_vm.loading}},[_c('div',{staticClass:\"usage-dashboard-chart-card-inner\"},[_c('a-button',[_c('router-link',{attrs:{\"to\":{ name: 'event' }}},[_vm._v(\" \"+_vm._s(_vm.$t('label.view') + ' ' + _vm.$t('label.events'))+\" \")])],1)],1),_c('template',{slot:\"footer\"},[_c('div',{staticClass:\"usage-dashboard-chart-footer\"},[_c('a-timeline',_vm._l((_vm.events),function(event){return _c('a-timeline-item',{key:event.id,attrs:{\"color\":_vm.getEventColour(event)}},[_c('span',{style:({ color: '#999' })},[_c('small',[_vm._v(_vm._s(_vm.$toLocaleDate(event.created)))])]),_c('br'),_c('span',{style:({ color: '#666' })},[_c('small',[_c('router-link',{attrs:{\"to\":{ path: 'event/' + event.id }}},[_vm._v(_vm._s(event.type))])],1)]),_c('br'),_c('span',{style:({ color: '#aaa' })},[_vm._v(\"(\"+_vm._s(event.username)+\") \"+_vm._s(event.description))])])}),1)],1)])],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <a-row class=\"usage-dashboard\" :gutter=\"12\">\n    <a-col :xl=\"16\">\n      <a-row :gutter=\"12\">\n        <a-card>\n          <a-tabs\n            v-if=\"showProject\"\n            :animated=\"false\"\n            @change=\"onTabChange\">\n            <a-tab-pane\n              v-for=\"tab in $route.meta.tabs\"\n              :tab=\"$t('label.' + tab.name)\"\n              :key=\"tab.name\"\n              v-if=\"'show' in tab ? tab.show(project, $route, $store.getters.userInfo) : true\">\n              <component\n                :is=\"tab.component\"\n                :resource=\"project\"\n                :loading=\"loading\"\n                :bordered=\"false\"\n                :stats=\"stats\" />\n            </a-tab-pane>\n          </a-tabs>\n          <a-col\n            v-else\n            class=\"usage-dashboard-chart-tile\"\n            :xs=\"12\"\n            :md=\"8\"\n            v-for=\"stat in stats\"\n            :key=\"stat.type\">\n            <a-card\n              class=\"usage-dashboard-chart-card\"\n              :bordered=\"false\"\n              :loading=\"loading\"\n              :style=\"stat.bgcolor ? { 'background-color': stat.bgcolor } : {}\">\n              <router-link :to=\"{ path: stat.path }\">\n                <div\n                  class=\"usage-dashboard-chart-card-inner\">\n                  <h3>{{ stat.name }}</h3>\n                  <h2>\n                    <a-icon :type=\"stat.icon\" />\n                    {{ stat.count == undefined ? 0 : stat.count }}\n                  </h2>\n                </div>\n              </router-link>\n            </a-card>\n          </a-col>\n        </a-card>\n      </a-row>\n    </a-col>\n    <a-col\n      :xl=\"8\">\n      <chart-card :loading=\"loading\" >\n        <div class=\"usage-dashboard-chart-card-inner\">\n          <a-button>\n            <router-link :to=\"{ name: 'event' }\">\n              {{ $t('label.view') + ' ' + $t('label.events') }}\n            </router-link>\n          </a-button>\n        </div>\n        <template slot=\"footer\">\n          <div class=\"usage-dashboard-chart-footer\">\n            <a-timeline>\n              <a-timeline-item\n                v-for=\"event in events\"\n                :key=\"event.id\"\n                :color=\"getEventColour(event)\">\n                <span :style=\"{ color: '#999' }\"><small>{{ $toLocaleDate(event.created) }}</small></span><br/>\n                <span :style=\"{ color: '#666' }\"><small><router-link :to=\"{ path: 'event/' + event.id }\">{{ event.type }}</router-link></small></span><br/>\n                <span :style=\"{ color: '#aaa' }\">({{ event.username }}) {{ event.description }}</span>\n              </a-timeline-item>\n            </a-timeline>\n          </div>\n        </template>\n      </chart-card>\n    </a-col>\n  </a-row>\n</template>\n\n<script>\nimport { api } from '@/api'\nimport store from '@/store'\n\nimport ChartCard from '@/components/widgets/ChartCard'\nimport UsageDashboardChart from '@/views/dashboard/UsageDashboardChart'\n\nexport default {\n  name: 'UsageDashboard',\n  components: {\n    ChartCard,\n    UsageDashboardChart\n  },\n  props: {\n    resource: {\n      type: Object,\n      default () {\n        return []\n      }\n    },\n    showProject: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      loading: false,\n      showAction: false,\n      showAddAccount: false,\n      events: [],\n      stats: [],\n      project: {}\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n  },\n  mounted () {\n    this.project = store.getters.project\n    this.fetchData()\n    this.$store.watch(\n      (state, getters) => getters.project,\n      (newValue, oldValue) => {\n        if (newValue && newValue.id) {\n          this.fetchData()\n        }\n      }\n    )\n  },\n  watch: {\n    '$route' (to, from) {\n      if (to.name === 'dashboard') {\n        this.fetchData()\n      }\n    },\n    resource (newData, oldData) {\n      this.project = newData\n    },\n    '$i18n.locale' (to, from) {\n      if (to !== from) {\n        this.fetchData()\n      }\n    }\n  },\n  methods: {\n    fetchData () {\n      this.stats = [{}, {}, {}, {}, {}, {}]\n      api('listVirtualMachines', { state: 'Running', listall: true }).then(json => {\n        var count = 0\n        if (json && json.listvirtualmachinesresponse) {\n          count = json.listvirtualmachinesresponse.count\n        }\n        this.stats.splice(0, 1, { name: this.$t('label.running'), count: count, icon: 'desktop', bgcolor: '#dfe9cc', path: '/vm?state=running&filter=running' })\n      })\n      api('listVirtualMachines', { state: 'Stopped', listall: true }).then(json => {\n        var count = 0\n        if (json && json.listvirtualmachinesresponse) {\n          count = json.listvirtualmachinesresponse.count\n        }\n        this.stats.splice(1, 1, { name: this.$t('label.stopped'), count: count, icon: 'poweroff', bgcolor: '#edcbce', path: '/vm?state=stopped&filter=stopped' })\n      })\n      api('listVirtualMachines', { listall: true }).then(json => {\n        var count = 0\n        if (json && json.listvirtualmachinesresponse) {\n          count = json.listvirtualmachinesresponse.count\n        }\n        this.stats.splice(2, 1, { name: this.$t('label.total.vms'), count: count, icon: 'number', path: '/vm' })\n      })\n      api('listVolumes', { listall: true }).then(json => {\n        var count = 0\n        if (json && json.listvolumesresponse) {\n          count = json.listvolumesresponse.count\n        }\n        this.stats.splice(3, 1, { name: this.$t('label.total.volume'), count: count, icon: 'database', path: '/volume' })\n      })\n      api('listNetworks', { listall: true }).then(json => {\n        var count = 0\n        if (json && json.listnetworksresponse) {\n          count = json.listnetworksresponse.count\n        }\n        this.stats.splice(4, 1, { name: this.$t('label.total.network'), count: count, icon: 'apartment', path: '/guestnetwork' })\n      })\n      api('listPublicIpAddresses', { listall: true }).then(json => {\n        var count = 0\n        if (json && json.listpublicipaddressesresponse) {\n          count = json.listpublicipaddressesresponse.count\n        }\n        this.stats.splice(5, 1, { name: this.$t('label.public.ip.addresses'), count: count, icon: 'environment', path: '/publicip' })\n      })\n      this.listEvents()\n    },\n    listEvents () {\n      const params = {\n        page: 1,\n        pagesize: 6,\n        listall: true\n      }\n      this.loading = true\n      api('listEvents', params).then(json => {\n        this.events = []\n        this.loading = false\n        if (json && json.listeventsresponse && json.listeventsresponse.event) {\n          this.events = json.listeventsresponse.event\n        }\n      })\n    },\n    getEventColour (event) {\n      if (event.level === 'ERROR') {\n        return 'red'\n      }\n      if (event.state === 'Completed') {\n        return 'green'\n      }\n      return 'blue'\n    },\n    onTabChange (key) {\n      this.showAddAccount = false\n\n      if (key !== 'Dashboard') {\n        this.showAddAccount = true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .usage-dashboard {\n\n    &-chart-tile {\n      margin-bottom: 12px;\n    }\n\n    &-chart-card {\n      padding-top: 24px;\n    }\n\n    &-chart-card-inner {\n      text-align: center;\n    }\n\n    &-footer {\n       padding-top: 12px;\n       padding-left: 3px;\n       white-space: normal;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsageDashboard.vue?vue&type=template&id=77683b30&scoped=true&\"\nimport script from \"./UsageDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./UsageDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UsageDashboard.vue?vue&type=style&index=0&id=77683b30&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77683b30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"onboarding\"},[_c('div',{staticClass:\"head\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('label.installwizard.title')))]),_c('h3',[_vm._v(_vm._s(_vm.$t('label.installwizard.subtitle')))])]),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"intro\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('label.what.is.cloudstack')))]),_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('label.introduction.to.cloudstack')))]),_c('p',[_vm._v(_vm._s(_vm.$t('message.installwizard.copy.whatiscloudstack')))]),_c('img',{staticClass:\"center\",attrs:{\"src\":\"assets/bg-what-is-cloudstack.png\"}}),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function () { this$1.step = 1 }}},[_vm._v(\" \"+_vm._s(_vm.$t('label.continue.install'))+\" \"),_c('a-icon',{attrs:{\"type\":\"double-right\"}})],1)],1)]),_c('a-modal',{attrs:{\"title\":_vm.$t('message.change.password'),\"visible\":this.step === 1,\"closable\":true,\"maskClosable\":false,\"footer\":null,\"cancelText\":_vm.$t('label.cancel'),\"centered\":\"\",\"width\":\"auto\"},on:{\"cancel\":_vm.closeAction}},[_c('change-user-password',{attrs:{\"resource\":this.resource},on:{\"close-action\":function () { if (this$1.step !== 2) { this$1.step = 0 } },\"refresh-data\":function () { this$1.step = 2 }}})],1),_c('a-modal',{attrs:{\"title\":_vm.$t('label.installwizard.addzoneintro.title'),\"visible\":this.step === 2,\"closable\":true,\"maskClosable\":false,\"footer\":null,\"cancelText\":_vm.$t('label.cancel'),\"centered\":\"\",\"width\":\"auto\"},on:{\"cancel\":_vm.closeAction}},[_c('zone-wizard',{on:{\"close-action\":_vm.closeAction,\"refresh-data\":_vm.parentFetchData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"onboarding\">\n    <div class=\"head\">\n      <h2>{{ $t('label.installwizard.title') }}</h2>\n      <h3>{{ $t('label.installwizard.subtitle') }}</h3>\n    </div>\n    <div class=\"body\">\n      <div class=\"intro\">\n        <div class=\"title\">{{ $t('label.what.is.cloudstack') }}</div>\n        <div class=\"subtitle\">{{ $t('label.introduction.to.cloudstack') }}</div>\n        <p>{{ $t('message.installwizard.copy.whatiscloudstack') }}</p>\n        <img class=\"center\" src=\"assets/bg-what-is-cloudstack.png\">\n        <a-button @click=\"() => { this.step = 1 }\" type=\"primary\">\n          {{ $t('label.continue.install') }}\n          <a-icon type=\"double-right\"/>\n        </a-button>\n      </div>\n    </div>\n    <a-modal\n      :title=\"$t('message.change.password')\"\n      :visible=\"this.step === 1\"\n      :closable=\"true\"\n      :maskClosable=\"false\"\n      :footer=\"null\"\n      :cancelText=\"$t('label.cancel')\"\n      @cancel=\"closeAction\"\n      centered\n      width=\"auto\">\n      <change-user-password\n        :resource=\"this.resource\"\n        @close-action=\"() => { if (this.step !== 2) this.step = 0 }\"\n        @refresh-data=\"() => { this.step = 2 }\" />\n    </a-modal>\n    <a-modal\n      :title=\"$t('label.installwizard.addzoneintro.title')\"\n      :visible=\"this.step === 2\"\n      :closable=\"true\"\n      :maskClosable=\"false\"\n      :footer=\"null\"\n      :cancelText=\"$t('label.cancel')\"\n      @cancel=\"closeAction\"\n      centered\n      width=\"auto\">\n      <zone-wizard\n        @close-action=\"closeAction\"\n        @refresh-data=\"parentFetchData\" />\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport ChangeUserPassword from '@/views/iam/ChangeUserPassword.vue'\nimport ZoneWizard from '@/views/infra/zone/ZoneWizard.vue'\n\nexport default {\n  name: 'OnboardingDashboard',\n  components: {\n    ChangeUserPassword,\n    ZoneWizard\n  },\n  inject: ['parentFetchData'],\n  data () {\n    return {\n      step: 0,\n      resource: {\n        id: this.$store.getters.userInfo.id,\n        username: this.$store.getters.userInfo.username\n      }\n    }\n  },\n  methods: {\n    closeAction () {\n      this.step = 0\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.onboarding {\n  font-family: sans-serif;\n  padding: 20px 10px 50px 10px;\n  background: #fff;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  @media (min-width: 760px) {\n    padding: 20px 10% 50px 10%;\n  }\n}\n\n.head {\n  text-align: center;\n}\n\nh2 {\n  font-size: 28px;\n}\n\nh3 {\n  font-size: 20px;\n}\n\n.body {\n  padding: 56px 20px 20px 20px;\n}\n\n.title {\n  margin: auto auto 30px;\n  font-size: 22px;\n}\n\n.subtitle {\n  font-size: 12px;\n  font-weight: bold;\n}\n\np {\n  font-family: sans-serif;\n  text-align: justify;\n  font-size: 15px;\n  line-height: 23px;\n  white-space: pre-line;\n}\n\n.center {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n  text-align: center;\n}\n\nbutton {\n  float: right;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnboardingDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnboardingDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OnboardingDashboard.vue?vue&type=template&id=333319f1&scoped=true&\"\nimport script from \"./OnboardingDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./OnboardingDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OnboardingDashboard.vue?vue&type=style&index=0&id=333319f1&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"333319f1\",\n  null\n  \n)\n\nexport default component.exports","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"page-header-index-wide\">\n    <div v-if=\"showOnboarding\">\n      <onboarding-dashboard />\n    </div>\n    <div v-else-if=\"$store.getters.userInfo.roletype === 'Admin' && !project\">\n      <capacity-dashboard/>\n    </div>\n    <div v-else>\n      <usage-dashboard :resource=\"$store.getters.project\" :showProject=\"project\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\nimport store from '@/store'\nimport CapacityDashboard from './CapacityDashboard'\nimport UsageDashboard from './UsageDashboard'\nimport OnboardingDashboard from './OnboardingDashboard'\n\nexport default {\n  name: 'Dashboard',\n  components: {\n    CapacityDashboard,\n    UsageDashboard,\n    OnboardingDashboard\n  },\n  provide: function () {\n    return {\n      parentFetchData: this.fetchData\n    }\n  },\n  data () {\n    return {\n      showCapacityDashboard: false,\n      project: false,\n      showOnboarding: false\n    }\n  },\n  mounted () {\n    this.fetchData()\n    this.showCapacityDashboard = Object.prototype.hasOwnProperty.call(store.getters.apis, 'listCapacity')\n    this.project = false\n    if (store.getters.project && store.getters.project.id) {\n      this.project = true\n    }\n    this.$store.watch(\n      (state, getters) => getters.project,\n      (newValue, oldValue) => {\n        if (newValue && newValue.id) {\n          this.project = true\n        } else {\n          this.project = false\n        }\n      }\n    )\n  },\n  methods: {\n    fetchData () {\n      if (!['Admin'].includes(this.$store.getters.userInfo.roletype)) {\n        return\n      }\n      api('listZones').then(json => {\n        this.showOnboarding = json.listzonesresponse.count ? json.listzonesresponse.count === 0 : true\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=b0b39926&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityDashboard.vue?vue&type=style&index=0&id=0efc650a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityDashboard.vue?vue&type=style&index=0&id=0efc650a&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeUserPassword.vue?vue&type=style&index=0&id=23494fca&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeUserPassword.vue?vue&type=style&index=0&id=23494fca&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboard.vue?vue&type=style&index=0&id=77683b30&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboard.vue?vue&type=style&index=0&id=77683b30&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnboardingDashboard.vue?vue&type=style&index=0&id=333319f1&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnboardingDashboard.vue?vue&type=style&index=0&id=333319f1&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.stats),function(stat){return _c('a-col',{key:stat.type,staticClass:\"usage-dashboard-chart-tile\",attrs:{\"xs\":12,\"md\":8}},[_c('a-card',{staticClass:\"usage-dashboard-chart-card\",style:(stat.bgcolor ? { 'background-color': stat.bgcolor } : {}),attrs:{\"bordered\":false,\"loading\":_vm.loading}},[_c('router-link',{attrs:{\"to\":{ path: stat.path }}},[_c('div',{staticClass:\"usage-dashboard-chart-card-inner\"},[_c('h3',[_vm._v(_vm._s(stat.name))]),_c('h2',[_c('a-icon',{attrs:{\"type\":stat.icon}}),_vm._v(\" \"+_vm._s(stat.count == undefined ? 0 : stat.count)+\" \")],1)])])],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div>\n    <a-col\n      class=\"usage-dashboard-chart-tile\"\n      :xs=\"12\"\n      :md=\"8\"\n      v-for=\"stat in stats\"\n      :key=\"stat.type\">\n      <a-card\n        class=\"usage-dashboard-chart-card\"\n        :bordered=\"false\"\n        :loading=\"loading\"\n        :style=\"stat.bgcolor ? { 'background-color': stat.bgcolor } : {}\">\n        <router-link :to=\"{ path: stat.path }\">\n          <div\n            class=\"usage-dashboard-chart-card-inner\">\n            <h3>{{ stat.name }}</h3>\n            <h2>\n              <a-icon :type=\"stat.icon\" />\n              {{ stat.count == undefined ? 0 : stat.count }}\n            </h2>\n          </div>\n        </router-link>\n      </a-card>\n    </a-col>\n  </div>\n</template>\n\n<script>\nimport ChartCard from '@/components/widgets/ChartCard'\n\nexport default {\n  name: 'UsageDashboardChart',\n  components: {\n    ChartCard\n  },\n  props: {\n    stats: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboardChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsageDashboardChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsageDashboardChart.vue?vue&type=template&id=8f6436ce&\"\nimport script from \"./UsageDashboardChart.vue?vue&type=script&lang=js&\"\nexport * from \"./UsageDashboardChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-layout\"},[_c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},[(!this.isAdminOrDomainAdmin())?_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.currentpassword'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.currentpassword.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['currentpassword', {\n            rules: [{ required: true, message: _vm.$t('message.error.current.password') }]\n          }]),expression:\"['currentpassword', {\\n            rules: [{ required: true, message: $t('message.error.current.password') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.$t('message.error.current.password')}})],1):_vm._e(),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.new.password'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.password.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['password', {\n            rules: [{ required: true, message: _vm.$t('message.error.new.password') }]\n          }]),expression:\"['password', {\\n            rules: [{ required: true, message: $t('message.error.new.password') }]\\n          }]\"}],attrs:{\"placeholder\":_vm.$t('label.new.password')}})],1),_c('a-form-item',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" \"+_vm._s(_vm.$t('label.confirmpassword'))+\" \"),_c('a-tooltip',{attrs:{\"title\":_vm.apiParams.password.description}},[_c('a-icon',{staticStyle:{\"color\":\"rgba(0,0,0,.45)\"},attrs:{\"type\":\"info-circle\"}})],1)],1),_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['confirmpassword', {\n            rules: [\n              {\n                required: true,\n                message: _vm.$t('message.error.confirm.password')\n              },\n              {\n                validator: _vm.validateTwoPassword\n              }\n            ]\n          }]),expression:\"['confirmpassword', {\\n            rules: [\\n              {\\n                required: true,\\n                message: $t('message.error.confirm.password')\\n              },\\n              {\\n                validator: validateTwoPassword\\n              }\\n            ]\\n          }]\"}],attrs:{\"placeholder\":_vm.$t('label.confirmpassword.description')}})],1),_c('div',{staticClass:\"action-button\",attrs:{\"span\":24}},[_c('a-button',{on:{\"click\":_vm.closeAction}},[_vm._v(_vm._s(this.$t('label.cancel')))]),_c('a-button',{attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(this.$t('label.ok')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n<template>\n  <div class=\"form-layout\">\n    <a-spin :spinning=\"loading\">\n      <a-form\n        :form=\"form\"\n        @submit=\"handleSubmit\"\n        layout=\"vertical\">\n        <a-form-item v-if=\"!this.isAdminOrDomainAdmin()\">\n          <span slot=\"label\">\n            {{ $t('label.currentpassword') }}\n            <a-tooltip :title=\"apiParams.currentpassword.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input-password\n            v-decorator=\"['currentpassword', {\n              rules: [{ required: true, message: $t('message.error.current.password') }]\n            }]\"\n            :placeholder=\"$t('message.error.current.password')\"/>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.new.password') }}\n            <a-tooltip :title=\"apiParams.password.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input-password\n            v-decorator=\"['password', {\n              rules: [{ required: true, message: $t('message.error.new.password') }]\n            }]\"\n            :placeholder=\"$t('label.new.password')\"/>\n        </a-form-item>\n        <a-form-item>\n          <span slot=\"label\">\n            {{ $t('label.confirmpassword') }}\n            <a-tooltip :title=\"apiParams.password.description\">\n              <a-icon type=\"info-circle\" style=\"color: rgba(0,0,0,.45)\" />\n            </a-tooltip>\n          </span>\n          <a-input-password\n            v-decorator=\"['confirmpassword', {\n              rules: [\n                {\n                  required: true,\n                  message: $t('message.error.confirm.password')\n                },\n                {\n                  validator: validateTwoPassword\n                }\n              ]\n            }]\"\n            :placeholder=\"$t('label.confirmpassword.description')\"/>\n        </a-form-item>\n\n        <div :span=\"24\" class=\"action-button\">\n          <a-button @click=\"closeAction\">{{ this.$t('label.cancel') }}</a-button>\n          <a-button :loading=\"loading\" type=\"primary\" @click=\"handleSubmit\">{{ this.$t('label.ok') }}</a-button>\n        </div>\n      </a-form>\n    </a-spin>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/api'\n\nexport default {\n  name: 'ChangeUserPassword',\n  props: {\n    resource: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      loading: false\n    }\n  },\n  beforeCreate () {\n    this.form = this.$form.createForm(this)\n    this.apiParams = {}\n    this.apiConfig = this.$store.getters.apis.updateUser || {}\n    this.apiConfig.params.forEach(param => {\n      this.apiParams[param.name] = param\n    })\n  },\n  methods: {\n    isAdminOrDomainAdmin () {\n      return ['Admin', 'DomainAdmin'].includes(this.$store.getters.userInfo.roletype)\n    },\n    isValidValueForKey (obj, key) {\n      return key in obj && obj[key] != null\n    },\n    validateTwoPassword (rule, value, callback) {\n      if (!value || value.length === 0) {\n        callback()\n      } else if (rule.field === 'confirmpassword') {\n        const form = this.form\n        const messageConfirm = this.$t('message.validate.equalto')\n        const passwordVal = form.getFieldValue('password')\n        if (passwordVal && passwordVal !== value) {\n          callback(messageConfirm)\n        } else {\n          callback()\n        }\n      } else {\n        callback()\n      }\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n        this.loading = true\n        const params = {\n          id: this.resource.id,\n          password: values.password\n        }\n        if (this.isValidValueForKey(values, 'currentpassword') && values.currentpassword.length > 0) {\n          params.currentpassword = values.currentpassword\n        }\n        api('updateUser', {}, 'POST', params).then(json => {\n          this.$notification.success({\n            message: this.$t('label.action.change.password'),\n            description: `${this.$t('message.success.change.password')} ${this.resource.username}`\n          })\n          this.$emit('refresh-data')\n          this.closeAction()\n        }).catch(error => {\n          this.$notifyError(error)\n        }).finally(() => {\n          this.loading = false\n        })\n      })\n    },\n    closeAction () {\n      this.$emit('close-action')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .form-layout {\n    width: 80vw;\n\n    @media (min-width: 600px) {\n      width: 450px;\n    }\n  }\n\n  .action-button {\n    text-align: right;\n\n    button {\n      margin-right: 5px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeUserPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeUserPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeUserPassword.vue?vue&type=template&id=23494fca&scoped=true&\"\nimport script from \"./ChangeUserPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeUserPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeUserPassword.vue?vue&type=style&index=0&id=23494fca&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23494fca\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}